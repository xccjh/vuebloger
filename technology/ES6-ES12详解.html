<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6-ES12详解 | 邹先生博客记录</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/vuebloger/img/logo.jpeg">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    <meta name="description" content="">
    <link rel="preload" href="/vuebloger/assets/css/0.styles.2e2748f8.css" as="style"><link rel="preload" href="/vuebloger/assets/js/app.a65085b2.js" as="script"><link rel="preload" href="/vuebloger/assets/js/7.02fe805f.js" as="script"><link rel="preload" href="/vuebloger/assets/js/1.252ffbfc.js" as="script"><link rel="preload" href="/vuebloger/assets/js/73.686450b9.js" as="script"><link rel="preload" href="/vuebloger/assets/js/30.44efcc4f.js" as="script"><link rel="prefetch" href="/vuebloger/assets/js/10.2fc7b3fc.js"><link rel="prefetch" href="/vuebloger/assets/js/100.fcf6680d.js"><link rel="prefetch" href="/vuebloger/assets/js/101.69820fcb.js"><link rel="prefetch" href="/vuebloger/assets/js/102.62596cc1.js"><link rel="prefetch" href="/vuebloger/assets/js/103.735a2268.js"><link rel="prefetch" href="/vuebloger/assets/js/104.421b6620.js"><link rel="prefetch" href="/vuebloger/assets/js/105.f5e2a7d0.js"><link rel="prefetch" href="/vuebloger/assets/js/106.afec1c9e.js"><link rel="prefetch" href="/vuebloger/assets/js/107.666053ae.js"><link rel="prefetch" href="/vuebloger/assets/js/108.a0cc6c24.js"><link rel="prefetch" href="/vuebloger/assets/js/109.6164bbd7.js"><link rel="prefetch" href="/vuebloger/assets/js/11.ad6acc3a.js"><link rel="prefetch" href="/vuebloger/assets/js/110.4960b345.js"><link rel="prefetch" href="/vuebloger/assets/js/111.ef01f6bb.js"><link rel="prefetch" href="/vuebloger/assets/js/112.a1ad976d.js"><link rel="prefetch" href="/vuebloger/assets/js/113.9f62ab74.js"><link rel="prefetch" href="/vuebloger/assets/js/114.4de2eed2.js"><link rel="prefetch" href="/vuebloger/assets/js/115.eda457c5.js"><link rel="prefetch" href="/vuebloger/assets/js/116.5a94abc8.js"><link rel="prefetch" href="/vuebloger/assets/js/117.e51edec8.js"><link rel="prefetch" href="/vuebloger/assets/js/118.3a4dcc09.js"><link rel="prefetch" href="/vuebloger/assets/js/119.f75dc0b8.js"><link rel="prefetch" href="/vuebloger/assets/js/12.831b2cd3.js"><link rel="prefetch" href="/vuebloger/assets/js/120.57bbd4e8.js"><link rel="prefetch" href="/vuebloger/assets/js/121.694f16e2.js"><link rel="prefetch" href="/vuebloger/assets/js/122.31dd7130.js"><link rel="prefetch" href="/vuebloger/assets/js/123.78b6861a.js"><link rel="prefetch" href="/vuebloger/assets/js/124.f6b84355.js"><link rel="prefetch" href="/vuebloger/assets/js/125.54d2fff1.js"><link rel="prefetch" href="/vuebloger/assets/js/126.8531be65.js"><link rel="prefetch" href="/vuebloger/assets/js/127.3d4251de.js"><link rel="prefetch" href="/vuebloger/assets/js/128.8169e335.js"><link rel="prefetch" href="/vuebloger/assets/js/129.4ce9bd80.js"><link rel="prefetch" href="/vuebloger/assets/js/13.930f2726.js"><link rel="prefetch" href="/vuebloger/assets/js/130.56c84295.js"><link rel="prefetch" href="/vuebloger/assets/js/131.6ab9a2c3.js"><link rel="prefetch" href="/vuebloger/assets/js/132.4d0c08ec.js"><link rel="prefetch" href="/vuebloger/assets/js/133.b79e7f13.js"><link rel="prefetch" href="/vuebloger/assets/js/134.79b04327.js"><link rel="prefetch" href="/vuebloger/assets/js/135.e9635342.js"><link rel="prefetch" href="/vuebloger/assets/js/136.7d1f576e.js"><link rel="prefetch" href="/vuebloger/assets/js/137.5ae3251d.js"><link rel="prefetch" href="/vuebloger/assets/js/138.2cf72827.js"><link rel="prefetch" href="/vuebloger/assets/js/139.7ff3499f.js"><link rel="prefetch" href="/vuebloger/assets/js/14.f14b2abd.js"><link rel="prefetch" href="/vuebloger/assets/js/140.f3c55ed2.js"><link rel="prefetch" href="/vuebloger/assets/js/141.b375515e.js"><link rel="prefetch" href="/vuebloger/assets/js/142.5e65016a.js"><link rel="prefetch" href="/vuebloger/assets/js/143.5f8e60fd.js"><link rel="prefetch" href="/vuebloger/assets/js/144.04214c0d.js"><link rel="prefetch" href="/vuebloger/assets/js/145.cc1be544.js"><link rel="prefetch" href="/vuebloger/assets/js/146.5cfc76ba.js"><link rel="prefetch" href="/vuebloger/assets/js/147.bb3dea71.js"><link rel="prefetch" href="/vuebloger/assets/js/148.7b2156a8.js"><link rel="prefetch" href="/vuebloger/assets/js/149.89021d4c.js"><link rel="prefetch" href="/vuebloger/assets/js/15.1c88a8a2.js"><link rel="prefetch" href="/vuebloger/assets/js/150.fc0ec16e.js"><link rel="prefetch" href="/vuebloger/assets/js/151.9788296d.js"><link rel="prefetch" href="/vuebloger/assets/js/152.87a7322d.js"><link rel="prefetch" href="/vuebloger/assets/js/153.e0ee9fa6.js"><link rel="prefetch" href="/vuebloger/assets/js/154.a0686333.js"><link rel="prefetch" href="/vuebloger/assets/js/155.46ac504c.js"><link rel="prefetch" href="/vuebloger/assets/js/156.d002f6a4.js"><link rel="prefetch" href="/vuebloger/assets/js/157.600eb354.js"><link rel="prefetch" href="/vuebloger/assets/js/158.37e5b3b9.js"><link rel="prefetch" href="/vuebloger/assets/js/16.dba8d6aa.js"><link rel="prefetch" href="/vuebloger/assets/js/17.5c9ff2d7.js"><link rel="prefetch" href="/vuebloger/assets/js/18.e86518d9.js"><link rel="prefetch" href="/vuebloger/assets/js/19.08ad6258.js"><link rel="prefetch" href="/vuebloger/assets/js/20.e6061b25.js"><link rel="prefetch" href="/vuebloger/assets/js/21.6de1dc73.js"><link rel="prefetch" href="/vuebloger/assets/js/22.8a055d98.js"><link rel="prefetch" href="/vuebloger/assets/js/23.5c9f8550.js"><link rel="prefetch" href="/vuebloger/assets/js/24.6502b332.js"><link rel="prefetch" href="/vuebloger/assets/js/25.8e94c39a.js"><link rel="prefetch" href="/vuebloger/assets/js/26.669df298.js"><link rel="prefetch" href="/vuebloger/assets/js/27.7db7ccee.js"><link rel="prefetch" href="/vuebloger/assets/js/28.6468cb48.js"><link rel="prefetch" href="/vuebloger/assets/js/29.495e8d7d.js"><link rel="prefetch" href="/vuebloger/assets/js/31.dd3dd93a.js"><link rel="prefetch" href="/vuebloger/assets/js/32.3297950b.js"><link rel="prefetch" href="/vuebloger/assets/js/33.f5a6ecda.js"><link rel="prefetch" href="/vuebloger/assets/js/34.1b52aba9.js"><link rel="prefetch" href="/vuebloger/assets/js/35.af4f0ea3.js"><link rel="prefetch" href="/vuebloger/assets/js/36.3723753e.js"><link rel="prefetch" href="/vuebloger/assets/js/37.8d3ce716.js"><link rel="prefetch" href="/vuebloger/assets/js/38.272cc2ad.js"><link rel="prefetch" href="/vuebloger/assets/js/39.2a3b492f.js"><link rel="prefetch" href="/vuebloger/assets/js/4.7444c5d9.js"><link rel="prefetch" href="/vuebloger/assets/js/40.59f97e36.js"><link rel="prefetch" href="/vuebloger/assets/js/41.03245b0d.js"><link rel="prefetch" href="/vuebloger/assets/js/42.d5021c9c.js"><link rel="prefetch" href="/vuebloger/assets/js/43.bdf0e763.js"><link rel="prefetch" href="/vuebloger/assets/js/44.2cb98cc3.js"><link rel="prefetch" href="/vuebloger/assets/js/45.63e6440b.js"><link rel="prefetch" href="/vuebloger/assets/js/46.7784e388.js"><link rel="prefetch" href="/vuebloger/assets/js/47.d8020da4.js"><link rel="prefetch" href="/vuebloger/assets/js/48.05b856ec.js"><link rel="prefetch" href="/vuebloger/assets/js/49.3a1b9aa9.js"><link rel="prefetch" href="/vuebloger/assets/js/5.b7de26b2.js"><link rel="prefetch" href="/vuebloger/assets/js/50.d01555de.js"><link rel="prefetch" href="/vuebloger/assets/js/51.64762b1b.js"><link rel="prefetch" href="/vuebloger/assets/js/52.f47836ab.js"><link rel="prefetch" href="/vuebloger/assets/js/53.dbf9bd48.js"><link rel="prefetch" href="/vuebloger/assets/js/54.325da55e.js"><link rel="prefetch" href="/vuebloger/assets/js/55.39d24d6d.js"><link rel="prefetch" href="/vuebloger/assets/js/56.44fb3971.js"><link rel="prefetch" href="/vuebloger/assets/js/57.a282179c.js"><link rel="prefetch" href="/vuebloger/assets/js/58.83e3f4da.js"><link rel="prefetch" href="/vuebloger/assets/js/59.5d965a8a.js"><link rel="prefetch" href="/vuebloger/assets/js/6.2de6d4b4.js"><link rel="prefetch" href="/vuebloger/assets/js/60.3b4ad761.js"><link rel="prefetch" href="/vuebloger/assets/js/61.4571dd6e.js"><link rel="prefetch" href="/vuebloger/assets/js/62.19e53228.js"><link rel="prefetch" href="/vuebloger/assets/js/63.d11aae48.js"><link rel="prefetch" href="/vuebloger/assets/js/64.c561c612.js"><link rel="prefetch" href="/vuebloger/assets/js/65.5f4ba8d5.js"><link rel="prefetch" href="/vuebloger/assets/js/66.a9e8b7b1.js"><link rel="prefetch" href="/vuebloger/assets/js/67.0f96aa45.js"><link rel="prefetch" href="/vuebloger/assets/js/68.01325833.js"><link rel="prefetch" href="/vuebloger/assets/js/69.6b738fe4.js"><link rel="prefetch" href="/vuebloger/assets/js/70.67695a0a.js"><link rel="prefetch" href="/vuebloger/assets/js/71.4efef8a4.js"><link rel="prefetch" href="/vuebloger/assets/js/72.5d0b2873.js"><link rel="prefetch" href="/vuebloger/assets/js/74.6d8aba46.js"><link rel="prefetch" href="/vuebloger/assets/js/75.2309bb3b.js"><link rel="prefetch" href="/vuebloger/assets/js/76.db109f33.js"><link rel="prefetch" href="/vuebloger/assets/js/77.ed0537f8.js"><link rel="prefetch" href="/vuebloger/assets/js/78.234b59da.js"><link rel="prefetch" href="/vuebloger/assets/js/79.69b7c8e1.js"><link rel="prefetch" href="/vuebloger/assets/js/8.9a76c738.js"><link rel="prefetch" href="/vuebloger/assets/js/80.99d930cc.js"><link rel="prefetch" href="/vuebloger/assets/js/81.5ccfa044.js"><link rel="prefetch" href="/vuebloger/assets/js/82.c21e1eb7.js"><link rel="prefetch" href="/vuebloger/assets/js/83.b02f9c93.js"><link rel="prefetch" href="/vuebloger/assets/js/84.01512726.js"><link rel="prefetch" href="/vuebloger/assets/js/85.9af400d0.js"><link rel="prefetch" href="/vuebloger/assets/js/86.c0203f6e.js"><link rel="prefetch" href="/vuebloger/assets/js/87.222e425f.js"><link rel="prefetch" href="/vuebloger/assets/js/88.6a15da03.js"><link rel="prefetch" href="/vuebloger/assets/js/89.08e31365.js"><link rel="prefetch" href="/vuebloger/assets/js/9.6529d756.js"><link rel="prefetch" href="/vuebloger/assets/js/90.9da867ce.js"><link rel="prefetch" href="/vuebloger/assets/js/91.b3adfbbe.js"><link rel="prefetch" href="/vuebloger/assets/js/92.56e9a0a5.js"><link rel="prefetch" href="/vuebloger/assets/js/93.6911059d.js"><link rel="prefetch" href="/vuebloger/assets/js/94.822df84f.js"><link rel="prefetch" href="/vuebloger/assets/js/95.892eb3bf.js"><link rel="prefetch" href="/vuebloger/assets/js/96.5773ad19.js"><link rel="prefetch" href="/vuebloger/assets/js/97.f82abdcd.js"><link rel="prefetch" href="/vuebloger/assets/js/98.b78771dc.js"><link rel="prefetch" href="/vuebloger/assets/js/99.2404420f.js"><link rel="prefetch" href="/vuebloger/assets/js/vendors~docsearch.1b4e1257.js">
    <link rel="stylesheet" href="/vuebloger/assets/css/0.styles.2e2748f8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuebloger/" class="home-link router-link-active"><img src="/vuebloger/img/logo.jpeg" alt="邹先生博客记录" class="logo"> <span class="site-name can-hide">邹先生博客记录</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuebloger/timeLine/" class="nav-link">首页</a></div><div class="nav-item"><a href="/vuebloger/technology/" class="nav-link router-link-active">技术</a></div><div class="nav-item"><a href="/vuebloger/life/" class="nav-link">生活</a></div><div class="nav-item"><a href="/vuebloger/workplace/" class="nav-link">职场</a></div><div class="nav-item"><a href="/vuebloger/bake/" class="nav-link">备忘</a></div><div class="nav-item"><a href="/vuebloger/tags/" class="nav-link">标签库</a></div><div class="nav-item"><a href="/vuebloger/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/vuebloger/massage/" class="nav-link">留言板</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">链接</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/xccjh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/xccjh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://nextjs.frontendx.cn/docs/#%E5%AE%89%E8%A3%85" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nextjs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://zh.nuxtjs.org/guide/installation" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nuxtjs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://angularjs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AngularJS
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://reactnative.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ReactNative
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://element-cn.eleme.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ElementUI
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://youzan.github.io/vant/#/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vant
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://www.fontawesome.com.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Fontawesome
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/miniprogram/dev/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MiniProgram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://reacttraining.com/react-router/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  react-router-dom
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://webpack.js.org/concepts/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  webpack
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.babeljs.cn/docs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  babel
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://eslint.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  eslint
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.swiper.com.cn/api/index.html/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  swiper
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://momentjs.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  momentjs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.runoob.com/linux/linux-shell.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  shell
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://lodash.com/docs/4.17.15#template" target="_blank" rel="noopener noreferrer" class="nav-link external">
  lodash
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://koa.bootcss.com/#links" target="_blank" rel="noopener noreferrer" class="nav-link external">
  koa
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://jestjs.io/docs/en/getting-started" target="_blank" rel="noopener noreferrer" class="nav-link external">
  jest
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://aui.github.io/art-template/zh-cn/docs/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  art-template
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://ejs.bootcss.com/#docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ejs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.layui.com/doc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  layui
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://antv-g2.gitee.io/zh/examples/gallery" target="_blank" rel="noopener noreferrer" class="nav-link external">
  G2
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.echartsjs.com/zh/option.html#title" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ECharts
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.vagrantup.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vagrant
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  docker
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="/vuebloger/technology/ https:/www.runoob.com/redis/redis-tutorial.html" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="https://www.runoob.com/mysql/mysql-tutorial.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  mysql
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://leafletjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  leaflet
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.tslang.cn/docs/home.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TypeScript
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://docschina.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  印记中文
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav> <div style="margin-left:20px;margin-right:20px;">
    音乐
    <div role="switch" class="el-switch"><input type="checkbox" name="" true-value="true" class="el-switch__input"><!----><span class="el-switch__core" style="width:40px;"></span><!----></div> <audio><source src="/vuebloger/mp3/065b_520b_0409_111c898908eab454414c3c326fe77c36.mp3" type="audio/mpeg"></audio></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuebloger/timeLine/" class="nav-link">首页</a></div><div class="nav-item"><a href="/vuebloger/technology/" class="nav-link router-link-active">技术</a></div><div class="nav-item"><a href="/vuebloger/life/" class="nav-link">生活</a></div><div class="nav-item"><a href="/vuebloger/workplace/" class="nav-link">职场</a></div><div class="nav-item"><a href="/vuebloger/bake/" class="nav-link">备忘</a></div><div class="nav-item"><a href="/vuebloger/tags/" class="nav-link">标签库</a></div><div class="nav-item"><a href="/vuebloger/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/vuebloger/massage/" class="nav-link">留言板</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">链接</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/xccjh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/xccjh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://nextjs.frontendx.cn/docs/#%E5%AE%89%E8%A3%85" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nextjs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://zh.nuxtjs.org/guide/installation" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nuxtjs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://angularjs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AngularJS
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://reactnative.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ReactNative
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://element-cn.eleme.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ElementUI
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://youzan.github.io/vant/#/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vant
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://www.fontawesome.com.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Fontawesome
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/miniprogram/dev/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MiniProgram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://reacttraining.com/react-router/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  react-router-dom
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://webpack.js.org/concepts/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  webpack
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.babeljs.cn/docs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  babel
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://eslint.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  eslint
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.swiper.com.cn/api/index.html/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  swiper
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://momentjs.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  momentjs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.runoob.com/linux/linux-shell.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  shell
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://lodash.com/docs/4.17.15#template" target="_blank" rel="noopener noreferrer" class="nav-link external">
  lodash
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://koa.bootcss.com/#links" target="_blank" rel="noopener noreferrer" class="nav-link external">
  koa
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://jestjs.io/docs/en/getting-started" target="_blank" rel="noopener noreferrer" class="nav-link external">
  jest
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://aui.github.io/art-template/zh-cn/docs/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  art-template
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://ejs.bootcss.com/#docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ejs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.layui.com/doc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  layui
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://antv-g2.gitee.io/zh/examples/gallery" target="_blank" rel="noopener noreferrer" class="nav-link external">
  G2
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.echartsjs.com/zh/option.html#title" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ECharts
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.vagrantup.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vagrant
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  docker
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="/vuebloger/technology/ https:/www.runoob.com/redis/redis-tutorial.html" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="https://www.runoob.com/mysql/mysql-tutorial.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  mysql
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://leafletjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  leaflet
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.tslang.cn/docs/home.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TypeScript
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://docschina.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  印记中文
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>ES6-ES12详解</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#es6-es2015" class="sidebar-link">ES6(ES2015)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#array-from" class="sidebar-link">Array.from</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#object-keys" class="sidebar-link">Object.keys</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#promise" class="sidebar-link">Promise</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#class" class="sidebar-link">class</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#set-和-map" class="sidebar-link">Set 和 Map</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#模块化-module" class="sidebar-link">模块化(Module)</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#symbol" class="sidebar-link">Symbol</a></li></ul></li><li><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#es7-es2016" class="sidebar-link">ES7(ES2016)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#includes" class="sidebar-link">includes</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#求幂运算符" class="sidebar-link">求幂运算符</a></li></ul></li><li><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#es8-es2017" class="sidebar-link">ES8((ES2017))</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#object-values" class="sidebar-link">Object.values</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#object-entries" class="sidebar-link">Object.entries</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#async-await" class="sidebar-link">async/await</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#字符串填充" class="sidebar-link">字符串填充</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#getownpropertydescriptors" class="sidebar-link">getOwnPropertyDescriptors</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#函数参数和调用参数逗号" class="sidebar-link">函数参数和调用参数逗号</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#sharedarraybuffer对象" class="sidebar-link">SharedArrayBuffer对象</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#atomics对象" class="sidebar-link">Atomics对象</a></li></ul></li><li><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#es9-es2018" class="sidebar-link">ES9(ES2018)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#for-await-of异步迭代" class="sidebar-link">for await of异步迭代</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#promise-finally" class="sidebar-link">Promise.finally</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#正则表达式命名捕获组" class="sidebar-link">正则表达式命名捕获组</a></li></ul></li><li><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#es10-es2019" class="sidebar-link">ES10(ES2019)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#array-flat" class="sidebar-link">Array.flat</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#array-flatmap" class="sidebar-link">Array.flatMap</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#bigint" class="sidebar-link">BigInt</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#object-fromentries" class="sidebar-link">Object.fromEntries</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#string-trimstart-trimend" class="sidebar-link">String.trimStart/trimEnd</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#json-stringify升级" class="sidebar-link">JSON.stringify升级</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#稳定的数组sort" class="sidebar-link">稳定的数组sort</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#捕获错误变量可选" class="sidebar-link">捕获错误变量可选</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#symbol-description" class="sidebar-link">Symbol.description</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#hashbang-语法" class="sidebar-link">Hashbang 语法</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#function-tostring" class="sidebar-link">Function.toString()</a></li></ul></li><li><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#es11-es2020" class="sidebar-link">ES11(ES2020)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#promise-allsettled" class="sidebar-link">Promise.allSettled</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#和" class="sidebar-link">?.和 ??</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#matchall" class="sidebar-link">matchAll</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#dynamic-import" class="sidebar-link">Dynamic import</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#import-meta" class="sidebar-link">import.meta</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#export-as-ns-from-module" class="sidebar-link">export * as ns from 'module'</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#globalthis" class="sidebar-link">GlobalThis</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#私有变量" class="sidebar-link">私有变量</a></li></ul></li><li><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#es12-es2021" class="sidebar-link">ES12(ES2021)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#replaceall" class="sidebar-link">replaceAll</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#weakrefs" class="sidebar-link">WeakRefs</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#promise-any" class="sidebar-link">Promise.any</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#数字分隔符" class="sidebar-link">数字分隔符</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#和-和" class="sidebar-link">||= 和 &amp;&amp;= 和 ??=</a></li></ul></li><li><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#补充" class="sidebar-link">补充</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuebloger/technology/ES6-ES12%E8%AF%A6%E8%A7%A3.html#对象动态属性" class="sidebar-link">对象动态属性</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content__default" data-v-3af8a195 data-v-3af8a195><h2 id="es6-es2015" data-v-3af8a195><a href="#es6-es2015" class="header-anchor" data-v-3af8a195>#</a> ES6(ES2015)</h2> <h3 id="array-from" data-v-3af8a195><a href="#array-from" class="header-anchor" data-v-3af8a195>#</a> Array.from</h3> <p data-v-3af8a195>Array.from()方法允许在 JavaScript 集合(如: 数组、类数组对象、或者是字符串、map 、set 等可迭代对象) 上进行有用的转换。就是将一个类数组对象或者可遍历对象转换成一个真正的数组。那么什么是类数组对象呢？所谓类数组对象，最基本的要求就是具有length属性的对象。</p> <ol data-v-3af8a195><li data-v-3af8a195>将类数组对象转换为真正数组：</li></ol> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>let</span> arrayLike <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token number" data-v-3af8a195>0</span><span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'tom'</span><span class="token punctuation" data-v-3af8a195>,</span> 
    <span class="token number" data-v-3af8a195>1</span><span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'65'</span><span class="token punctuation" data-v-3af8a195>,</span>
    <span class="token number" data-v-3af8a195>2</span><span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'男'</span><span class="token punctuation" data-v-3af8a195>,</span>
    <span class="token number" data-v-3af8a195>3</span><span class="token operator" data-v-3af8a195>:</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token string" data-v-3af8a195>'jane'</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token string" data-v-3af8a195>'john'</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token string" data-v-3af8a195>'Mary'</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>,</span>
    <span class="token string" data-v-3af8a195>'length'</span><span class="token operator" data-v-3af8a195>:</span> <span class="token number" data-v-3af8a195>4</span>
<span class="token punctuation" data-v-3af8a195>}</span>
<span class="token keyword" data-v-3af8a195>let</span> arr <span class="token operator" data-v-3af8a195>=</span> Array<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>from</span><span class="token punctuation" data-v-3af8a195>(</span>arrayLike<span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>arr<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// ['tom','65','男',['jane','john','Mary']]</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195></div></div><p data-v-3af8a195>那么，如果将上面代码中length属性去掉呢？实践证明，答案会是一个长度为0的空数组。</p> <p data-v-3af8a195>这里将代码再改一下，就是具有length属性，但是对象的属性名不再是数字类型的，而是其他字符串型的，代码如下：</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>let</span> arrayLike <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token string" data-v-3af8a195>'name'</span><span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'tom'</span><span class="token punctuation" data-v-3af8a195>,</span> 
    <span class="token string" data-v-3af8a195>'age'</span><span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'65'</span><span class="token punctuation" data-v-3af8a195>,</span>
    <span class="token string" data-v-3af8a195>'sex'</span><span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'男'</span><span class="token punctuation" data-v-3af8a195>,</span>
    <span class="token string" data-v-3af8a195>'friends'</span><span class="token operator" data-v-3af8a195>:</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token string" data-v-3af8a195>'jane'</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token string" data-v-3af8a195>'john'</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token string" data-v-3af8a195>'Mary'</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>,</span>
    length<span class="token operator" data-v-3af8a195>:</span> <span class="token number" data-v-3af8a195>4</span>
<span class="token punctuation" data-v-3af8a195>}</span>
<span class="token keyword" data-v-3af8a195>let</span> arr <span class="token operator" data-v-3af8a195>=</span> Array<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>from</span><span class="token punctuation" data-v-3af8a195>(</span>arrayLike<span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>arr<span class="token punctuation" data-v-3af8a195>)</span>  <span class="token comment" data-v-3af8a195>// [ undefined, undefined, undefined, undefined ]</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195></div></div><p data-v-3af8a195>会发现结果是长度为4，元素均为undefined的数组</p> <p data-v-3af8a195>由此可见，要将一个类数组对象转换为一个真正的数组，必须具备以下条件：</p> <ul data-v-3af8a195><li data-v-3af8a195>该类数组对象必须具有length属性，用于指定数组的长度。如果没有length属性，那么转换后的数组是一个空数组。</li> <li data-v-3af8a195>该类数组对象的属性名必须为数值型或字符串型的数字</li> <li data-v-3af8a195>该类数组对象的属性名可以加引号，也可以不加引号</li></ul> <ol start="2" data-v-3af8a195><li data-v-3af8a195>将Set结构的数据转换为真正的数组,数组去重</li></ol> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>let</span> arr <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>12</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>45</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>97</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>9797</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>564</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>134</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>45642</span><span class="token punctuation" data-v-3af8a195>]</span>
<span class="token keyword" data-v-3af8a195>let</span> <span class="token keyword" data-v-3af8a195>set</span> <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Set</span><span class="token punctuation" data-v-3af8a195>(</span>arr<span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>Array<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>from</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token keyword" data-v-3af8a195>set</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span>  <span class="token comment" data-v-3af8a195>// [ 12, 45, 97, 9797, 564, 134, 45642 ]</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195></div></div><p data-v-3af8a195>Array.from还可以接受第二个参数，作用类似于数组的map方法，用来对每个元素进行处理，将处理后的值放入返回的数组。如下：</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>let</span> arr <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>12</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>45</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>97</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>9797</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>564</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>134</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>45642</span><span class="token punctuation" data-v-3af8a195>]</span>
<span class="token keyword" data-v-3af8a195>let</span> <span class="token keyword" data-v-3af8a195>set</span> <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Set</span><span class="token punctuation" data-v-3af8a195>(</span>arr<span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>Array<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>from</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token keyword" data-v-3af8a195>set</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token parameter" data-v-3af8a195>item</span> <span class="token operator" data-v-3af8a195>=&gt;</span> item <span class="token operator" data-v-3af8a195>+</span> <span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// [ 13, 46, 98, 9798, 565, 135, 45643 ]</span>

<span class="token keyword" data-v-3af8a195>const</span> someNumbers <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>{</span> <span class="token string" data-v-3af8a195>'0'</span><span class="token operator" data-v-3af8a195>:</span> <span class="token number" data-v-3af8a195>10</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'1'</span><span class="token operator" data-v-3af8a195>:</span> <span class="token number" data-v-3af8a195>15</span><span class="token punctuation" data-v-3af8a195>,</span> length<span class="token operator" data-v-3af8a195>:</span> <span class="token number" data-v-3af8a195>2</span> <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>;</span>
Array<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>from</span><span class="token punctuation" data-v-3af8a195>(</span>someNumbers<span class="token punctuation" data-v-3af8a195>,</span> <span class="token parameter" data-v-3af8a195>value</span> <span class="token operator" data-v-3af8a195>=&gt;</span> value <span class="token operator" data-v-3af8a195>*</span> <span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span> <span class="token comment" data-v-3af8a195>// =&gt; [20, 30]</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195></div></div><ol start="3" data-v-3af8a195><li data-v-3af8a195>将字符串转换为数组：</li></ol> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>let</span>  str <span class="token operator" data-v-3af8a195>=</span> <span class="token string" data-v-3af8a195>'hello world!'</span><span class="token punctuation" data-v-3af8a195>;</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>Array<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>from</span><span class="token punctuation" data-v-3af8a195>(</span>str<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// [&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;, &quot; &quot;, &quot;w&quot;, &quot;o&quot;, &quot;r&quot;, &quot;l&quot;, &quot;d&quot;, &quot;!&quot;]</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195></div></div><ol start="4" data-v-3af8a195><li data-v-3af8a195>参数是一个数组</li></ol> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195>console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>Array<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>from</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>12</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>45</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>47</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>56</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>213</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>4654</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>154</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195></div></div><p data-v-3af8a195>像这种情况，Array.from会返回一个一模一样的新数组，实现数组的浅拷贝。是否可以使用 Array.from() 创建数组的克隆，包括所有嵌套的？挑战一下！</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>recursiveClone</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>val</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token keyword" data-v-3af8a195>return</span> Array<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>isArray</span><span class="token punctuation" data-v-3af8a195>(</span>val<span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>?</span> Array<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>from</span><span class="token punctuation" data-v-3af8a195>(</span>val<span class="token punctuation" data-v-3af8a195>,</span> recursiveClone<span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>:</span> val<span class="token punctuation" data-v-3af8a195>;</span>
<span class="token punctuation" data-v-3af8a195>}</span>

<span class="token keyword" data-v-3af8a195>const</span> numbers <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>0</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token string" data-v-3af8a195>'one'</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'two'</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'three'</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token keyword" data-v-3af8a195>const</span> numbersClone <span class="token operator" data-v-3af8a195>=</span> <span class="token function" data-v-3af8a195>recursiveClone</span><span class="token punctuation" data-v-3af8a195>(</span>numbers<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>

numbersClone<span class="token punctuation" data-v-3af8a195>;</span> <span class="token comment" data-v-3af8a195>// =&gt; [[0, 1, 2], ['one', 'two', 'three']]</span>
numbers<span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>0</span><span class="token punctuation" data-v-3af8a195>]</span> <span class="token operator" data-v-3af8a195>===</span> numbersClone<span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>0</span><span class="token punctuation" data-v-3af8a195>]</span> <span class="token comment" data-v-3af8a195>// =&gt; false</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195></div></div><ol start="5" data-v-3af8a195><li data-v-3af8a195>将类数组转换成数组
Array.from() 第一个用途：将类数组对象转换成数组。通常，你会碰到的类数组对象有：函数中的 arguments 关键字，或者是一个 DOM 集合。</li></ol> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>sumArguments</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token keyword" data-v-3af8a195>return</span> Array<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>from</span><span class="token punctuation" data-v-3af8a195>(</span>arguments<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>reduce</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>sum<span class="token punctuation" data-v-3af8a195>,</span> num</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> sum <span class="token operator" data-v-3af8a195>+</span> num<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token punctuation" data-v-3af8a195>}</span>
<span class="token function" data-v-3af8a195>sumArguments</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>3</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span> <span class="token comment" data-v-3af8a195>// =&gt; 6</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195></div></div><ol start="6" data-v-3af8a195><li data-v-3af8a195>使用值填充数组</li></ol> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> length <span class="token operator" data-v-3af8a195>=</span> <span class="token number" data-v-3af8a195>3</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token keyword" data-v-3af8a195>const</span> init   <span class="token operator" data-v-3af8a195>=</span> <span class="token number" data-v-3af8a195>0</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token keyword" data-v-3af8a195>const</span> result <span class="token operator" data-v-3af8a195>=</span> Array<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>from</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>{</span> length <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> init<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
result<span class="token punctuation" data-v-3af8a195>;</span> <span class="token comment" data-v-3af8a195>// =&gt; [0, 0, 0]</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195></div></div><p data-v-3af8a195>但是，有一个替代方法 array.fill() 可以实现同样的功能。</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> length <span class="token operator" data-v-3af8a195>=</span> <span class="token number" data-v-3af8a195>3</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token keyword" data-v-3af8a195>const</span> init   <span class="token operator" data-v-3af8a195>=</span> <span class="token number" data-v-3af8a195>0</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token keyword" data-v-3af8a195>const</span> result <span class="token operator" data-v-3af8a195>=</span> <span class="token function" data-v-3af8a195>Array</span><span class="token punctuation" data-v-3af8a195>(</span>length<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>fill</span><span class="token punctuation" data-v-3af8a195>(</span>init<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token function" data-v-3af8a195>fillArray2</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>0</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>3</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span> <span class="token comment" data-v-3af8a195>// =&gt; [0, 0, 0]</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195></div></div><p data-v-3af8a195>当初始化数组的每个项都应该是一个新对象时，Array.from() 是一个更好的解决方案：</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> length <span class="token operator" data-v-3af8a195>=</span> <span class="token number" data-v-3af8a195>3</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token keyword" data-v-3af8a195>const</span> resultA <span class="token operator" data-v-3af8a195>=</span> Array<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>from</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>{</span> length <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>{</span><span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token keyword" data-v-3af8a195>const</span> resultB <span class="token operator" data-v-3af8a195>=</span> <span class="token function" data-v-3af8a195>Array</span><span class="token punctuation" data-v-3af8a195>(</span>length<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>fill</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>{</span><span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>

resultA<span class="token punctuation" data-v-3af8a195>;</span> <span class="token comment" data-v-3af8a195>// =&gt; [{}, {}, {}]</span>
resultB<span class="token punctuation" data-v-3af8a195>;</span> <span class="token comment" data-v-3af8a195>// =&gt; [{}, {}, {}]</span>

resultA<span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>0</span><span class="token punctuation" data-v-3af8a195>]</span> <span class="token operator" data-v-3af8a195>===</span> resultA<span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>;</span> <span class="token comment" data-v-3af8a195>// =&gt; false</span>
resultB<span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>0</span><span class="token punctuation" data-v-3af8a195>]</span> <span class="token operator" data-v-3af8a195>===</span> resultB<span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>;</span> <span class="token comment" data-v-3af8a195>// =&gt; true</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195></div></div><p data-v-3af8a195>由 Array.from 返回的 resultA 使用不同空对象实例进行初始化。之所以发生这种情况是因为每次调用时，mapFunction，即此处的 () =&gt; ({}) 都会返回一个新的对象。</p> <p data-v-3af8a195>然后，fill() 方法创建的 resultB 使用相同的空对象实例进行初始化。不会跳过空项。</p> <p data-v-3af8a195>使用 array.map 怎么样？是不是可以使用 array.map() 方法来实现？我们来试一下:</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> length <span class="token operator" data-v-3af8a195>=</span> <span class="token number" data-v-3af8a195>3</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token keyword" data-v-3af8a195>const</span> init   <span class="token operator" data-v-3af8a195>=</span> <span class="token number" data-v-3af8a195>0</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token keyword" data-v-3af8a195>const</span> result <span class="token operator" data-v-3af8a195>=</span> <span class="token function" data-v-3af8a195>Array</span><span class="token punctuation" data-v-3af8a195>(</span>length<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>map</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> init<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
result<span class="token punctuation" data-v-3af8a195>;</span> <span class="token comment" data-v-3af8a195>// =&gt; [undefined, undefined, undefined]</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195></div></div><p data-v-3af8a195><code data-v-3af8a195>map()</code> 方法似乎不正常，创建出来的数组不是预期的 <code data-v-3af8a195>[0, 0, 0]</code>，而是一个有3个空项的数组。这是因为 <code data-v-3af8a195>Array(length)</code> 创建了一个有3个空项的数组(也称为稀疏数组)，但是 <code data-v-3af8a195>map()</code> 方法会跳过空项。
7. 生成数字范围
你可以使用 Array.from() 生成值范围。例如，下面的 range 函数生成一个数组，从0开始到 end - 1。</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>range</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>end</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token keyword" data-v-3af8a195>return</span> Array<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>from</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>{</span> length<span class="token operator" data-v-3af8a195>:</span> end <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>_<span class="token punctuation" data-v-3af8a195>,</span> index</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> index<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token punctuation" data-v-3af8a195>}</span>

<span class="token function" data-v-3af8a195>range</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>4</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span> <span class="token comment" data-v-3af8a195>// =&gt; [0, 1, 2, 3]</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195></div></div><p data-v-3af8a195>在 <code data-v-3af8a195>range()</code> 函数中，<code data-v-3af8a195>Array.from()</code>提供了类似数组的 <code data-v-3af8a195>{length：end}</code> ，以及一个简单地返回当前索引的 map 函数 。这样你就可以生成值范围。</p> <h3 id="object-keys" data-v-3af8a195><a href="#object-keys" class="header-anchor" data-v-3af8a195>#</a> Object.keys</h3> <p data-v-3af8a195>可以用来获取对象的key的集合，进而可以获得对应key的value</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> obj <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>{</span>
  name<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'林三心'</span><span class="token punctuation" data-v-3af8a195>,</span>
  age<span class="token operator" data-v-3af8a195>:</span> <span class="token number" data-v-3af8a195>22</span><span class="token punctuation" data-v-3af8a195>,</span>
  gender<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'男'</span>
<span class="token punctuation" data-v-3af8a195>}</span>

<span class="token keyword" data-v-3af8a195>const</span> keys <span class="token operator" data-v-3af8a195>=</span> Object<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>keys</span><span class="token punctuation" data-v-3af8a195>(</span>obj<span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>keys<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// [ 'name', 'age', 'gender' ]</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195></div></div><h3 id="promise" data-v-3af8a195><a href="#promise" class="header-anchor" data-v-3af8a195>#</a> Promise</h3> <p data-v-3af8a195>Promise，中文名为承诺,一旦他的状态改变，就不会再改。想要深入理解如何使用，请看我的另一篇文章<a href="/vuebloger/technology/手写Promise.html" data-v-3af8a195>手写Promise</a>。</p> <ol data-v-3af8a195><li data-v-3af8a195>all方法</li></ol> <ul data-v-3af8a195><li data-v-3af8a195>接收一个Promise数组，数组中如有非Promise项，则此项当做成功</li> <li data-v-3af8a195>如果所有Promise都成功，则返回成功结果数组</li> <li data-v-3af8a195>如果有一个Promise失败，则返回这个失败结果</li></ul> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token comment" data-v-3af8a195>// 如果全都为成功</span>
<span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>time</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token keyword" data-v-3af8a195>return</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Promise</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>resolve<span class="token punctuation" data-v-3af8a195>,</span> reject</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
    console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>88</span><span class="token punctuation" data-v-3af8a195>)</span>
    <span class="token function" data-v-3af8a195>setTimeout</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
      <span class="token function" data-v-3af8a195>resolve</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token template-string" data-v-3af8a195><span class="token template-punctuation string" data-v-3af8a195>`</span><span class="token interpolation" data-v-3af8a195><span class="token interpolation-punctuation punctuation" data-v-3af8a195>${</span>time<span class="token interpolation-punctuation punctuation" data-v-3af8a195>}</span></span><span class="token string" data-v-3af8a195>毫秒后我成功啦！！！</span><span class="token template-punctuation string" data-v-3af8a195>`</span></span><span class="token punctuation" data-v-3af8a195>)</span>
    <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span> time<span class="token punctuation" data-v-3af8a195>)</span>
  <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span>
Promise<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>all</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>[</span><span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>2000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>3000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>1000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>then</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>res</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token comment" data-v-3af8a195>// 3秒后输出 [ '2000毫秒后我成功啦！！！', '3000毫秒后我成功啦！！！', '1000毫秒后我成功啦！！！' ]</span>
  console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>res<span class="token punctuation" data-v-3af8a195>)</span> 
<span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token parameter" data-v-3af8a195>err</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
  console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>err<span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>

<span class="token comment" data-v-3af8a195>// 如果有一个失败</span>
<span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>time<span class="token punctuation" data-v-3af8a195>,</span> isResolve</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token keyword" data-v-3af8a195>return</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Promise</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>resolve<span class="token punctuation" data-v-3af8a195>,</span> reject</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token function" data-v-3af8a195>setTimeout</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
      isResolve <span class="token operator" data-v-3af8a195>?</span> <span class="token function" data-v-3af8a195>resolve</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token template-string" data-v-3af8a195><span class="token template-punctuation string" data-v-3af8a195>`</span><span class="token interpolation" data-v-3af8a195><span class="token interpolation-punctuation punctuation" data-v-3af8a195>${</span>time<span class="token interpolation-punctuation punctuation" data-v-3af8a195>}</span></span><span class="token string" data-v-3af8a195>毫秒后我成功啦！！！</span><span class="token template-punctuation string" data-v-3af8a195>`</span></span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>:</span> <span class="token function" data-v-3af8a195>reject</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token template-string" data-v-3af8a195><span class="token template-punctuation string" data-v-3af8a195>`</span><span class="token interpolation" data-v-3af8a195><span class="token interpolation-punctuation punctuation" data-v-3af8a195>${</span>time<span class="token interpolation-punctuation punctuation" data-v-3af8a195>}</span></span><span class="token string" data-v-3af8a195>毫秒后我失败啦！！！</span><span class="token template-punctuation string" data-v-3af8a195>`</span></span><span class="token punctuation" data-v-3af8a195>)</span>
    <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span> time<span class="token punctuation" data-v-3af8a195>)</span>
  <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span>

Promise<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>all</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>[</span><span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>2000</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token boolean" data-v-3af8a195>true</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>3000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>1000</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token boolean" data-v-3af8a195>true</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>then</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>res</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
  console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>res<span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token parameter" data-v-3af8a195>err</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
  console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>err<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// 3秒后输出 '3000毫秒后我失败啦！！！'</span>
<span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>

</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>14</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>15</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>16</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>17</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>18</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>19</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>20</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>21</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>22</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>23</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>24</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>25</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>26</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>27</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>28</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>29</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>30</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>31</span><br data-v-3af8a195></div></div><ol start="2" data-v-3af8a195><li data-v-3af8a195>race方法</li></ol> <ul data-v-3af8a195><li data-v-3af8a195>接收一个Promise数组，数组中如有非Promise项，则此项当做成功</li> <li data-v-3af8a195>哪个Promise最快得到结果，就返回那个结果，无论成功失败</li></ul> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>time<span class="token punctuation" data-v-3af8a195>,</span> isResolve</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token keyword" data-v-3af8a195>return</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Promise</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>resolve<span class="token punctuation" data-v-3af8a195>,</span> reject</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token function" data-v-3af8a195>setTimeout</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
      isResolve <span class="token operator" data-v-3af8a195>?</span> <span class="token function" data-v-3af8a195>resolve</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token template-string" data-v-3af8a195><span class="token template-punctuation string" data-v-3af8a195>`</span><span class="token interpolation" data-v-3af8a195><span class="token interpolation-punctuation punctuation" data-v-3af8a195>${</span>time<span class="token interpolation-punctuation punctuation" data-v-3af8a195>}</span></span><span class="token string" data-v-3af8a195>毫秒后我成功啦！！！</span><span class="token template-punctuation string" data-v-3af8a195>`</span></span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>:</span> <span class="token function" data-v-3af8a195>reject</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token template-string" data-v-3af8a195><span class="token template-punctuation string" data-v-3af8a195>`</span><span class="token interpolation" data-v-3af8a195><span class="token interpolation-punctuation punctuation" data-v-3af8a195>${</span>time<span class="token interpolation-punctuation punctuation" data-v-3af8a195>}</span></span><span class="token string" data-v-3af8a195>毫秒后我失败啦！！！</span><span class="token template-punctuation string" data-v-3af8a195>`</span></span><span class="token punctuation" data-v-3af8a195>)</span>
    <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span> time<span class="token punctuation" data-v-3af8a195>)</span>
  <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span>

Promise<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>race</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>[</span><span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>2000</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token boolean" data-v-3af8a195>true</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>3000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>1000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>then</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>res</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
  console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>res<span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token parameter" data-v-3af8a195>err</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
  console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>err<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// 1秒后输出</span>
<span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195></div></div><h3 id="class" data-v-3af8a195><a href="#class" class="header-anchor" data-v-3af8a195>#</a> class</h3> <p data-v-3af8a195>以前咱们使用构造函数生成对象，这么做</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>Person</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>name</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token keyword" data-v-3af8a195>this</span><span class="token punctuation" data-v-3af8a195>.</span>name <span class="token operator" data-v-3af8a195>=</span> name
<span class="token punctuation" data-v-3af8a195>}</span>

<span class="token class-name" data-v-3af8a195>Person</span><span class="token punctuation" data-v-3af8a195>.</span>prototype<span class="token punctuation" data-v-3af8a195>.</span><span class="token function-variable function" data-v-3af8a195>sayName</span> <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>function</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
  console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token keyword" data-v-3af8a195>this</span><span class="token punctuation" data-v-3af8a195>.</span>name<span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span>

<span class="token keyword" data-v-3af8a195>const</span> kobe <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Person</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'科比'</span><span class="token punctuation" data-v-3af8a195>)</span>
kobe<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>sayName</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// 科比</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195></div></div><p data-v-3af8a195>而有了ES6的class可以这么做</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>class</span> <span class="token class-name" data-v-3af8a195>Person</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token function" data-v-3af8a195>constructor</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>name</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token comment" data-v-3af8a195>// 构造器</span>
    <span class="token keyword" data-v-3af8a195>this</span><span class="token punctuation" data-v-3af8a195>.</span>name <span class="token operator" data-v-3af8a195>=</span> name
  <span class="token punctuation" data-v-3af8a195>}</span>

  <span class="token function" data-v-3af8a195>sayName</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
    console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token keyword" data-v-3af8a195>this</span><span class="token punctuation" data-v-3af8a195>.</span>name<span class="token punctuation" data-v-3af8a195>)</span>
  <span class="token punctuation" data-v-3af8a195>}</span>
<span class="token punctuation" data-v-3af8a195>}</span>

<span class="token keyword" data-v-3af8a195>const</span> kobe <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Person</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'科比'</span><span class="token punctuation" data-v-3af8a195>)</span>
kobe<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>sayName</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// 科比</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195></div></div><p data-v-3af8a195>值得一提的是，class本质也是function，class是function的语法糖</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>class</span> <span class="token class-name" data-v-3af8a195>Person</span> <span class="token punctuation" data-v-3af8a195>{</span><span class="token punctuation" data-v-3af8a195>}</span>

console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token keyword" data-v-3af8a195>typeof</span> Person<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// function</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195></div></div><h3 id="set-和-map" data-v-3af8a195><a href="#set-和-map" class="header-anchor" data-v-3af8a195>#</a> Set 和 Map</h3> <ol data-v-3af8a195><li data-v-3af8a195>Set的基本用法</li></ol> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token comment" data-v-3af8a195>// 可不传数组</span>
<span class="token keyword" data-v-3af8a195>const</span> set1 <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Set</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
set1<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>add</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>)</span>
set1<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>add</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>set1<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// Set(2) { 1, 2 }</span>

<span class="token comment" data-v-3af8a195>// 也可传数组</span>
<span class="token keyword" data-v-3af8a195>const</span> set2 <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Set</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>3</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token comment" data-v-3af8a195>// 增加元素 使用 add</span>
set2<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>add</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>4</span><span class="token punctuation" data-v-3af8a195>)</span>
set2<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>add</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'林三心'</span><span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>set2<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// Set(5) { 1, 2, 3, 4, '林三心' }</span>
<span class="token comment" data-v-3af8a195>// 是否含有某个元素 使用 has</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>set2<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>has</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// true</span>
<span class="token comment" data-v-3af8a195>// 查看长度 使用 size</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>set2<span class="token punctuation" data-v-3af8a195>.</span>size<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// 5</span>
<span class="token comment" data-v-3af8a195>// 删除元素 使用 delete</span>
set2<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>delete</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>set2<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// Set(4) { 1, 3, 4, '林三心' }</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>14</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>15</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>16</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>17</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>18</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>19</span><br data-v-3af8a195></div></div><p data-v-3af8a195>Set的不重复性中，要注意引用数据类型和NaN</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token comment" data-v-3af8a195>// 两个对象都是不用的指针，所以没法去重</span>
<span class="token keyword" data-v-3af8a195>const</span> set1 <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Set</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>{</span>name<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'林三心'</span><span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>{</span>name<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'林三心'</span><span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>set1<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// Set(4) { 1, { name: '林三心' }, 2, { name: '林三心' } }</span>


<span class="token comment" data-v-3af8a195>// 如果是两个对象是同一指针，则能去重</span>
<span class="token keyword" data-v-3af8a195>const</span> obj <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>{</span>name<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'林三心'</span><span class="token punctuation" data-v-3af8a195>}</span>
<span class="token keyword" data-v-3af8a195>const</span> set2 <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Set</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>,</span> obj<span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>,</span> obj<span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>set2<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// Set(3) { 1, { name: '林三心' }, 2 }</span>

<span class="token comment" data-v-3af8a195>// 咱们都知道 NaN !== NaN，NaN是自身不等于自身的，但是在Set中他还是会被去重</span>
<span class="token keyword" data-v-3af8a195>const</span> <span class="token keyword" data-v-3af8a195>set</span> <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Set</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>NaN</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>NaN</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token keyword" data-v-3af8a195>set</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// Set(2) { 1, NaN }</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195></div></div><ol start="2" data-v-3af8a195><li data-v-3af8a195>Map对比object最大的好处就是，key不受类型限制</li></ol> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token comment" data-v-3af8a195>// 定义map</span>
<span class="token keyword" data-v-3af8a195>const</span> map1 <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Map</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token comment" data-v-3af8a195>// 新增键值对 使用 set(key, value)</span>
map1<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>set</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token boolean" data-v-3af8a195>true</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>)</span>
map1<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>set</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>)</span>
map1<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>set</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'哈哈'</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'嘻嘻嘻'</span><span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>map1<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// Map(3) { true =&gt; 1, 1 =&gt; 2, '哈哈' =&gt; '嘻嘻嘻' }</span>
<span class="token comment" data-v-3af8a195>// 判断map是否含有某个key 使用 has(key)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>map1<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>has</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'哈哈'</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// true</span>
<span class="token comment" data-v-3af8a195>// 获取map中某个key对应的value 使用 get(key)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>map1<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>get</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token boolean" data-v-3af8a195>true</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// 2</span>
<span class="token comment" data-v-3af8a195>// 删除map中某个键值对 使用 delete(key)</span>
map1<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>delete</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'哈哈'</span><span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>map1<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// Map(2) { true =&gt; 1, 1 =&gt; 2 }</span>

<span class="token comment" data-v-3af8a195>// 定义map，也可传入键值对数组集合</span>
<span class="token keyword" data-v-3af8a195>const</span> map2 <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Map</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>[</span><span class="token punctuation" data-v-3af8a195>[</span><span class="token boolean" data-v-3af8a195>true</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token string" data-v-3af8a195>'哈哈'</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'嘻嘻嘻'</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>map2<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// Map(3) { true =&gt; 1, 1 =&gt; 2, '哈哈' =&gt; '嘻嘻嘻' }</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>14</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>15</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>16</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>17</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>18</span><br data-v-3af8a195></div></div><h3 id="模块化-module" data-v-3af8a195><a href="#模块化-module" class="header-anchor" data-v-3af8a195>#</a> 模块化(Module)</h3> <p data-v-3af8a195>ES5不支持原生的模块化，在ES6中模块作为重要的组成部分被添加进来。模块的功能主要由 export 和 import 组成。每一个模块都有自己单独的作用域，模块之间的相互调用关系是通过 export 来规定模块对外暴露的接口，通过import来引用其它模块提供的接口。同时还为模块创造了命名空间，防止函数的命名冲突。</p> <h3 id="symbol" data-v-3af8a195><a href="#symbol" class="header-anchor" data-v-3af8a195>#</a> Symbol</h3> <ul data-v-3af8a195><li data-v-3af8a195>Symbol 的值是惟一的，用来解决命名冲突的问题</li> <li data-v-3af8a195>Symbol 值不能与其它数据进行运算</li> <li data-v-3af8a195>Symbol 定义的对象属性不能使用 for…in 循环遍历，但是可以使用 Reflect.ownKeys来获取对象的所要键名</li></ul> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token comment" data-v-3af8a195>// 创建Symbol</span>
<span class="token keyword" data-v-3af8a195>let</span> s <span class="token operator" data-v-3af8a195>=</span> <span class="token function" data-v-3af8a195>Symbol</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token keyword" data-v-3af8a195>typeof</span> s<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// 'Symbol'</span>

<span class="token keyword" data-v-3af8a195>let</span> s2 <span class="token operator" data-v-3af8a195>=</span> <span class="token function" data-v-3af8a195>Symbol</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'标识'</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token keyword" data-v-3af8a195>let</span> s3 <span class="token operator" data-v-3af8a195>=</span> <span class="token function" data-v-3af8a195>Symbol</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'标识'</span><span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>s2 <span class="token operator" data-v-3af8a195>===</span> s3<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// false</span>

<span class="token comment" data-v-3af8a195>// Symbol.for 创建</span>
<span class="token keyword" data-v-3af8a195>let</span> s4 <span class="token operator" data-v-3af8a195>=</span> Symbol<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>for</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'标识'</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token keyword" data-v-3af8a195>let</span> s5 <span class="token operator" data-v-3af8a195>=</span> Symbol<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>for</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'标识'</span><span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>s4 <span class="token operator" data-v-3af8a195>===</span> s5<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// true</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195></div></div><ol data-v-3af8a195><li data-v-3af8a195>Symbol.hasInstance：当其它对象使用instanceof 运算符，判断是否为该对象的实例时，会调用改方法</li></ol> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>class</span> <span class="token class-name" data-v-3af8a195>MyArray</span> <span class="token punctuation" data-v-3af8a195>{</span>  
  <span class="token keyword" data-v-3af8a195>static</span> <span class="token punctuation" data-v-3af8a195>[</span>Symbol<span class="token punctuation" data-v-3af8a195>.</span>hasInstance<span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>(</span>instance<span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
  	<span class="token comment" data-v-3af8a195>// instance =&gt; arr</span>
  	console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'我被用来检测类型了'</span><span class="token punctuation" data-v-3af8a195>)</span>
  	<span class="token comment" data-v-3af8a195>// 可以自己控制类型检测</span>
    <span class="token keyword" data-v-3af8a195>return</span> Array<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>isArray</span><span class="token punctuation" data-v-3af8a195>(</span>instance<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
  <span class="token punctuation" data-v-3af8a195>}</span>
<span class="token punctuation" data-v-3af8a195>}</span>
<span class="token keyword" data-v-3af8a195>let</span> arr <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token punctuation" data-v-3af8a195>]</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>arr  <span class="token keyword" data-v-3af8a195>instanceof</span> <span class="token class-name" data-v-3af8a195>MyArray</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span> <span class="token comment" data-v-3af8a195>// true</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195></div></div><ol start="2" data-v-3af8a195><li data-v-3af8a195>Symbol.isConcatSpreadable: 对象的 Symbol.isConcatSpreadable 属性 是一个布尔值，表示该对象用于 Array.prototype.concat()时是否可以展开</li></ol> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> arr <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>3</span><span class="token punctuation" data-v-3af8a195>]</span>
<span class="token keyword" data-v-3af8a195>const</span> arr2 <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>4</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>5</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token number" data-v-3af8a195>6</span><span class="token punctuation" data-v-3af8a195>]</span>

arr<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>concat</span><span class="token punctuation" data-v-3af8a195>(</span>arr2<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// [1,2,3,4,5,6]</span>

arr2<span class="token punctuation" data-v-3af8a195>[</span>Symbol<span class="token punctuation" data-v-3af8a195>.</span>isConcatSpreadable<span class="token punctuation" data-v-3af8a195>]</span> <span class="token operator" data-v-3af8a195>=</span> <span class="token boolean" data-v-3af8a195>false</span>

arr<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>concat</span><span class="token punctuation" data-v-3af8a195>(</span>arr2<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// [1,2,3,[4,5,6]]</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195></div></div><ol start="3" data-v-3af8a195><li data-v-3af8a195>Symbol.prototype.description 获取symbol 标识</li></ol> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>let</span> s <span class="token operator" data-v-3af8a195>=</span> <span class="token function" data-v-3af8a195>Symbol</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'标识'</span><span class="token punctuation" data-v-3af8a195>)</span>
s<span class="token punctuation" data-v-3af8a195>.</span>description <span class="token comment" data-v-3af8a195>// 标识 es10</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195></div></div><h2 id="es7-es2016" data-v-3af8a195><a href="#es7-es2016" class="header-anchor" data-v-3af8a195>#</a> ES7(ES2016)</h2> <h3 id="includes" data-v-3af8a195><a href="#includes" class="header-anchor" data-v-3af8a195>#</a> includes</h3> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195>传入元素，如果数组中能找到此元素，则返回<span class="token boolean" data-v-3af8a195>true</span>，否则返回<span class="token boolean" data-v-3af8a195>false</span>
<span class="token keyword" data-v-3af8a195>const</span> includeArr <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>2</span> <span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>3</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'林三心'</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'科比'</span><span class="token punctuation" data-v-3af8a195>]</span>

<span class="token keyword" data-v-3af8a195>const</span> isKobe <span class="token operator" data-v-3af8a195>=</span> includeArr<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>includes</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'科比'</span><span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>isKobe<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// true</span>
复制代码
跟indexOf很像，但还是有区别的
<span class="token keyword" data-v-3af8a195>const</span> arr <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>NaN</span><span class="token punctuation" data-v-3af8a195>]</span>

console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>arr<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>indexOf</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>NaN</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// -1  indexOf找不到NaN</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>arr<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>includes</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>NaN</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// true includes能找到NaN</span>

</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195></div></div><h3 id="求幂运算符" data-v-3af8a195><a href="#求幂运算符" class="header-anchor" data-v-3af8a195>#</a> 求幂运算符</h3> <p data-v-3af8a195>以前求幂，我们需要这么写</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> num <span class="token operator" data-v-3af8a195>=</span> Math<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>pow</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>3</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// 9</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195></div></div><p data-v-3af8a195>ES7提供了求幂运算符：**</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> num <span class="token operator" data-v-3af8a195>=</span> <span class="token number" data-v-3af8a195>3</span> <span class="token operator" data-v-3af8a195>**</span> <span class="token number" data-v-3af8a195>2</span> <span class="token comment" data-v-3af8a195>// 9</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195></div></div><h2 id="es8-es2017" data-v-3af8a195><a href="#es8-es2017" class="header-anchor" data-v-3af8a195>#</a> ES8((ES2017))</h2> <h3 id="object-values" data-v-3af8a195><a href="#object-values" class="header-anchor" data-v-3af8a195>#</a> Object.values</h3> <p data-v-3af8a195>可以用来获取对象的value的集合</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> obj <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>{</span>
  name<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'林三心'</span><span class="token punctuation" data-v-3af8a195>,</span>
  age<span class="token operator" data-v-3af8a195>:</span> <span class="token number" data-v-3af8a195>22</span><span class="token punctuation" data-v-3af8a195>,</span>
  gender<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'男'</span>
<span class="token punctuation" data-v-3af8a195>}</span>

<span class="token keyword" data-v-3af8a195>const</span> values <span class="token operator" data-v-3af8a195>=</span> Object<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>values</span><span class="token punctuation" data-v-3af8a195>(</span>obj<span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>values<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// [ '林三心', 22, '男' ]</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195></div></div><h3 id="object-entries" data-v-3af8a195><a href="#object-entries" class="header-anchor" data-v-3af8a195>#</a> Object.entries</h3> <p data-v-3af8a195>可以用来获取对象的键值对集合</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> obj <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>{</span>
  name<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'林三心'</span><span class="token punctuation" data-v-3af8a195>,</span>
  age<span class="token operator" data-v-3af8a195>:</span> <span class="token number" data-v-3af8a195>22</span><span class="token punctuation" data-v-3af8a195>,</span>
  gender<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'男'</span>
<span class="token punctuation" data-v-3af8a195>}</span>

<span class="token keyword" data-v-3af8a195>const</span> entries <span class="token operator" data-v-3af8a195>=</span> Object<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>entries</span><span class="token punctuation" data-v-3af8a195>(</span>obj<span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>entries<span class="token punctuation" data-v-3af8a195>)</span> 
<span class="token comment" data-v-3af8a195>// [ [ 'name', '林三心' ], [ 'age', 22 ], [ 'gender', '男' ] ]</span>

</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195></div></div><h3 id="async-await" data-v-3af8a195><a href="#async-await" class="header-anchor" data-v-3af8a195>#</a> async/await</h3> <ul data-v-3af8a195><li data-v-3af8a195>await只能在async函数里使用</li> <li data-v-3af8a195>await后面最好接Promise，如果后面接的是普通函数则会直接执行</li> <li data-v-3af8a195>async函数返回的是一个Promise</li></ul> <h3 id="字符串填充" data-v-3af8a195><a href="#字符串填充" class="header-anchor" data-v-3af8a195>#</a> 字符串填充</h3> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token string" data-v-3af8a195>'es8'</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>padStart</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>          <span class="token comment" data-v-3af8a195>// 'es8'</span>
<span class="token string" data-v-3af8a195>'es8'</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>padStart</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>5</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>          <span class="token comment" data-v-3af8a195>// '  es8'</span>
<span class="token string" data-v-3af8a195>'es8'</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>padStart</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>6</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'woof'</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>  <span class="token comment" data-v-3af8a195>// 'wooes8'</span>
<span class="token string" data-v-3af8a195>'es8'</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>padStart</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>14</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'wow'</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>  <span class="token comment" data-v-3af8a195>// 'wowwowwowwoes8'</span>
<span class="token string" data-v-3af8a195>'es8'</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>padStart</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>7</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'0'</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>     <span class="token comment" data-v-3af8a195>// '0000es8'</span>
<span class="token string" data-v-3af8a195>'es8'</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>padEnd</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>          <span class="token comment" data-v-3af8a195>// 'es8'</span>
<span class="token string" data-v-3af8a195>'es8'</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>padEnd</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>5</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>          <span class="token comment" data-v-3af8a195>// 'es8  '</span>
<span class="token string" data-v-3af8a195>'es8'</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>padEnd</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>6</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'woof'</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>  <span class="token comment" data-v-3af8a195>// 'es8woo'</span>
<span class="token string" data-v-3af8a195>'es8'</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>padEnd</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>14</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'wow'</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>  <span class="token comment" data-v-3af8a195>// 'es8wowwowwowwo'</span>
<span class="token string" data-v-3af8a195>'es8'</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>padEnd</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>7</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'6'</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>     <span class="token comment" data-v-3af8a195>// 'es86666'</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195></div></div><h3 id="getownpropertydescriptors" data-v-3af8a195><a href="#getownpropertydescriptors" class="header-anchor" data-v-3af8a195>#</a> getOwnPropertyDescriptors</h3> <p data-v-3af8a195>getOwnPropertyDescriptors方法返回指定对象的所有属性描述符。 自己的属性描述符是直接在对象上定义的，不会从对象的原型继承。功能的声明是：</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195>Object<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>getOwnPropertyDescriptors</span><span class="token punctuation" data-v-3af8a195>(</span>obj<span class="token punctuation" data-v-3af8a195>)</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195></div></div><p data-v-3af8a195>obj是源对象。 返回的描述符对象结果的可能键可配置，可枚举，可写，获取，设置和值。</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> obj <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>{</span> 
  <span class="token keyword" data-v-3af8a195>get</span> <span class="token function" data-v-3af8a195>es7</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span> <span class="token keyword" data-v-3af8a195>return</span> <span class="token number" data-v-3af8a195>777</span><span class="token punctuation" data-v-3af8a195>;</span> <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span>
  <span class="token keyword" data-v-3af8a195>get</span> <span class="token function" data-v-3af8a195>es8</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span> <span class="token keyword" data-v-3af8a195>return</span> <span class="token number" data-v-3af8a195>888</span><span class="token punctuation" data-v-3af8a195>;</span> <span class="token punctuation" data-v-3af8a195>}</span>
<span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>;</span>
Object<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>getOwnPropertyDescriptor</span><span class="token punctuation" data-v-3af8a195>(</span>obj<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token comment" data-v-3af8a195>// {</span>
<span class="token comment" data-v-3af8a195>//   es7: {</span>
<span class="token comment" data-v-3af8a195>//     configurable: true,</span>
<span class="token comment" data-v-3af8a195>//     enumerable: true,</span>
<span class="token comment" data-v-3af8a195>//     get: function es7(){}, //the getter function</span>
<span class="token comment" data-v-3af8a195>//     set: undefined</span>
<span class="token comment" data-v-3af8a195>//   },</span>
<span class="token comment" data-v-3af8a195>//   es8: {</span>
<span class="token comment" data-v-3af8a195>//     configurable: true,</span>
<span class="token comment" data-v-3af8a195>//     enumerable: true,</span>
<span class="token comment" data-v-3af8a195>//     get: function es8(){}, //the getter function</span>
<span class="token comment" data-v-3af8a195>//     set: undefined</span>
<span class="token comment" data-v-3af8a195>//   }</span>
<span class="token comment" data-v-3af8a195>// }</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>14</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>15</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>16</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>17</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>18</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>19</span><br data-v-3af8a195></div></div><h3 id="函数参数和调用参数逗号" data-v-3af8a195><a href="#函数参数和调用参数逗号" class="header-anchor" data-v-3af8a195>#</a> 函数参数和调用参数逗号</h3> <p data-v-3af8a195>函数参数中的后跟逗号是编译器在列表末尾添加不必要的逗号时不会引发错误（SyntaxError）的能力：</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>es8</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>var1<span class="token punctuation" data-v-3af8a195>,</span> var2<span class="token punctuation" data-v-3af8a195>,</span> var3<span class="token punctuation" data-v-3af8a195>,</span></span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token comment" data-v-3af8a195>// ...</span>
<span class="token punctuation" data-v-3af8a195>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195></div></div><p data-v-3af8a195>作为函数声明，这可以应用于函数的调用：</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token function" data-v-3af8a195>es8</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>10</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>20</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>30</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195></div></div><p data-v-3af8a195>此功能的灵感来源于对象文字和数组文字<code data-v-3af8a195>[10，20，30，]</code>和<code data-v-3af8a195>{x：1，}</code>中的逗号后面。</p> <h3 id="sharedarraybuffer对象" data-v-3af8a195><a href="#sharedarraybuffer对象" class="header-anchor" data-v-3af8a195>#</a> SharedArrayBuffer对象</h3> <p data-v-3af8a195>有了 SharedArrayBuffer 后，多个 web worker 就可以同时读写同一块内存了你再也不需要 postMessage 伴有时延的通信了，多个 web worker 对数据访问都没有时延了</p> <p data-v-3af8a195>SharedArrayBuffer 对象用来表示一个通用的，固定长度的原始二进制数据缓冲区，类似于 ArrayBuffer 对象，它们都可以用来在共享内存（shared memory）上创建视图。与 ArrayBuffer 不同的是，SharedArrayBuffer 不能被分离。</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token comment" data-v-3af8a195>/**
 * 
 * @param {*} length 所创建的数组缓冲区的大小，以字节(byte)为单位。  
 * @returns {SharedArrayBuffer} 一个大小指定的新 SharedArrayBuffer 对象。其内容被初始化为 0。
 */</span>
<span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>SharedArrayBuffer</span><span class="token punctuation" data-v-3af8a195>(</span>length<span class="token punctuation" data-v-3af8a195>)</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195></div></div><p data-v-3af8a195>初步理解为一种共享内存机制。读取的时候需要建立视图。记住在worker之间共享内存就行，以后用到了在研究吧。</p> <h3 id="atomics对象" data-v-3af8a195><a href="#atomics对象" class="header-anchor" data-v-3af8a195>#</a> Atomics对象</h3> <p data-v-3af8a195>Atomics 对象提供了一组静态方法用来对 SharedArrayBuffer 对象进行原子操作。</p> <p data-v-3af8a195>这些原子操作属于 Atomics 模块。与一般的全局对象不同，Atomics 不是构造函数，因此不能使用 new 操作符调用，也不能将其当作函数直接调用。Atomics 的所有属性和方法都是静态的（与 Math 对象一样）。</p> <p data-v-3af8a195>多个共享内存的线程能够同时读写同一位置上的数据。原子操作会确保正在读或写的数据的值是符合预期的，即下一个原子操作一定会在上一个原子操作结束后才会开始，其操作过程不会中断。</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195>Atomics<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>add</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token comment" data-v-3af8a195>//将指定位置上的数组元素与给定的值相加，并返回相加前该元素的值。</span>
Atomics<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>and</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token comment" data-v-3af8a195>//将指定位置上的数组元素与给定的值相与，并返回与操作前该元素的值。</span>
Atomics<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>compareExchange</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token comment" data-v-3af8a195>//如果数组中指定的元素与给定的值相等，则将其更新为新的值，并返回该元素原先的值。</span>
Atomics<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>exchange</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token comment" data-v-3af8a195>//将数组中指定的元素更新为给定的值，并返回该元素更新前的值。</span>
Atomics<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>load</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token comment" data-v-3af8a195>//返回数组中指定元素的值。</span>
Atomics<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>or</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token comment" data-v-3af8a195>//将指定位置上的数组元素与给定的值相或，并返回或操作前该元素的值。</span>
Atomics<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>store</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token comment" data-v-3af8a195>//将数组中指定的元素设置为给定的值，并返回该值。</span>
Atomics<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>sub</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token comment" data-v-3af8a195>//将指定位置上的数组元素与给定的值相减，并返回相减前该元素的值。</span>
Atomics<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>xor</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token comment" data-v-3af8a195>//将指定位置上的数组元素与给定的值相异或，并返回异或操作前该元素的值。</span>

<span class="token comment" data-v-3af8a195>//wait() 和 wake() 方法采用的是 Linux 上的 futexes 模型（fast user-space mutex，</span>
<span class="token comment" data-v-3af8a195>//快速用户空间互斥量），可以让进程一直等待直到某个特定的条件为真，主要用于实现阻塞。</span>
Atomics<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>wait</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token comment" data-v-3af8a195>//检测数组中某个指定位置上的值是否仍然是给定值，是则保持挂起直到被唤醒或超时。</span>
<span class="token comment" data-v-3af8a195>//返回值为 &quot;ok&quot;、&quot;not-equal&quot; 或 &quot;time-out&quot;。调用时，如果当前线程不允许阻塞，则会抛出异常</span>
<span class="token comment" data-v-3af8a195>//（大多数浏览器都不允许在主线程中调用 wait()）。</span>
 
Atomics<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>wake</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token comment" data-v-3af8a195>//唤醒等待队列中正在数组指定位置的元素上等待的线程。返回值为成功唤醒的线程数量。</span>
Atomics<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>isLockFree</span><span class="token punctuation" data-v-3af8a195>(</span>size<span class="token punctuation" data-v-3af8a195>)</span>
<span class="token comment" data-v-3af8a195>//可以用来检测当前系统是否支持硬件级的原子操作。对于指定大小的数组，如果当前系统支持硬件级的原子操作，</span>
<span class="token comment" data-v-3af8a195>//则返回 true；否则就意味着对于该数组，Atomics 对象中的各原子操作都只能用锁来实现。此函数面向的是技术专家。</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>14</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>15</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>16</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>17</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>18</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>19</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>20</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>21</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>22</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>23</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>24</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>25</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>26</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>27</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>28</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>29</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>30</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>31</span><br data-v-3af8a195></div></div><h2 id="es9-es2018" data-v-3af8a195><a href="#es9-es2018" class="header-anchor" data-v-3af8a195>#</a> ES9(ES2018)</h2> <h3 id="for-await-of异步迭代" data-v-3af8a195><a href="#for-await-of异步迭代" class="header-anchor" data-v-3af8a195>#</a> for await of异步迭代</h3> <p data-v-3af8a195>我们来看以下场景</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>fn</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>time</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token keyword" data-v-3af8a195>return</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Promise</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>resolve<span class="token punctuation" data-v-3af8a195>,</span> reject</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token function" data-v-3af8a195>setTimeout</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
      <span class="token function" data-v-3af8a195>resolve</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token template-string" data-v-3af8a195><span class="token template-punctuation string" data-v-3af8a195>`</span><span class="token interpolation" data-v-3af8a195><span class="token interpolation-punctuation punctuation" data-v-3af8a195>${</span>time<span class="token interpolation-punctuation punctuation" data-v-3af8a195>}</span></span><span class="token string" data-v-3af8a195>毫秒后我成功啦！！！</span><span class="token template-punctuation string" data-v-3af8a195>`</span></span><span class="token punctuation" data-v-3af8a195>)</span>
    <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span> time<span class="token punctuation" data-v-3af8a195>)</span>
  <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span>

<span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>3000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>then</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>res</span> <span class="token operator" data-v-3af8a195>=&gt;</span> console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>res<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>1000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>then</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>res</span> <span class="token operator" data-v-3af8a195>=&gt;</span> console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>res<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>2000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>then</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>res</span> <span class="token operator" data-v-3af8a195>=&gt;</span> console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>res<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195></div></div><p data-v-3af8a195>结果是</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token number" data-v-3af8a195>1000</span>毫秒后我成功啦！！！
<span class="token number" data-v-3af8a195>2000</span>毫秒后我成功啦！！！
<span class="token number" data-v-3af8a195>3000</span>毫秒后我成功啦！！！
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195></div></div><p data-v-3af8a195>但是我想要这个结果</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token number" data-v-3af8a195>3000</span>毫秒后我成功啦！！！
<span class="token number" data-v-3af8a195>1000</span>毫秒后我成功啦！！！
<span class="token number" data-v-3af8a195>2000</span>毫秒后我成功啦！！！
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195></div></div><p data-v-3af8a195>第一时间我们肯定想到的是async/await</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>fn</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>time</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token keyword" data-v-3af8a195>return</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Promise</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>resolve<span class="token punctuation" data-v-3af8a195>,</span> reject</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token function" data-v-3af8a195>setTimeout</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
      <span class="token function" data-v-3af8a195>resolve</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token template-string" data-v-3af8a195><span class="token template-punctuation string" data-v-3af8a195>`</span><span class="token interpolation" data-v-3af8a195><span class="token interpolation-punctuation punctuation" data-v-3af8a195>${</span>time<span class="token interpolation-punctuation punctuation" data-v-3af8a195>}</span></span><span class="token string" data-v-3af8a195>毫秒后我成功啦！！！</span><span class="token template-punctuation string" data-v-3af8a195>`</span></span><span class="token punctuation" data-v-3af8a195>)</span>
    <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span> time<span class="token punctuation" data-v-3af8a195>)</span>
  <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span>
<span class="token keyword" data-v-3af8a195>async</span> <span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>asyncFn</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token comment" data-v-3af8a195>// 排队</span>
  <span class="token keyword" data-v-3af8a195>const</span> data1 <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>await</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>3000</span><span class="token punctuation" data-v-3af8a195>)</span>
  console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>data1<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// 3秒后 3000毫秒后我成功啦！！！</span>
  <span class="token keyword" data-v-3af8a195>const</span> data2 <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>await</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>1000</span><span class="token punctuation" data-v-3af8a195>)</span>
  console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>data2<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// 再过1秒 1000毫秒后我成功啦！！！</span>
  <span class="token keyword" data-v-3af8a195>const</span> data3 <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>await</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>2000</span><span class="token punctuation" data-v-3af8a195>)</span>
  console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>data3<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// 再过2秒 2000毫秒后我成功啦！！！</span>
<span class="token punctuation" data-v-3af8a195>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>14</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>15</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>16</span><br data-v-3af8a195></div></div><p data-v-3af8a195>但是上面代码也是有缺点的，如果有几十个，那不是得写几十个await，有没有一种方法可以通过循环来输出呢？</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>fn</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>time</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token keyword" data-v-3af8a195>return</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Promise</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>resolve<span class="token punctuation" data-v-3af8a195>,</span> reject</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token function" data-v-3af8a195>setTimeout</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
      <span class="token function" data-v-3af8a195>resolve</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token template-string" data-v-3af8a195><span class="token template-punctuation string" data-v-3af8a195>`</span><span class="token interpolation" data-v-3af8a195><span class="token interpolation-punctuation punctuation" data-v-3af8a195>${</span>time<span class="token interpolation-punctuation punctuation" data-v-3af8a195>}</span></span><span class="token string" data-v-3af8a195>毫秒后我成功啦！！！</span><span class="token template-punctuation string" data-v-3af8a195>`</span></span><span class="token punctuation" data-v-3af8a195>)</span>
    <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span> time<span class="token punctuation" data-v-3af8a195>)</span>
  <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span>
<span class="token keyword" data-v-3af8a195>async</span> <span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>asyncFn</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token keyword" data-v-3af8a195>const</span> arr <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>3000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>1000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>1000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>2000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>500</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>]</span>
  <span class="token keyword" data-v-3af8a195>for</span> <span class="token keyword" data-v-3af8a195>await</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token keyword" data-v-3af8a195>let</span> x <span class="token keyword" data-v-3af8a195>of</span> arr<span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
    console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>x<span class="token punctuation" data-v-3af8a195>)</span>
  <span class="token punctuation" data-v-3af8a195>}</span>
<span class="token punctuation" data-v-3af8a195>}</span>
<span class="token function" data-v-3af8a195>asyncFn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token number" data-v-3af8a195>3000</span>毫秒后我成功啦！！！
<span class="token number" data-v-3af8a195>1000</span>毫秒后我成功啦！！！
<span class="token number" data-v-3af8a195>1000</span>毫秒后我成功啦！！！
<span class="token number" data-v-3af8a195>2000</span>毫秒后我成功啦！！！
<span class="token number" data-v-3af8a195>500</span>毫秒后我成功啦！！！
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>14</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>15</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>16</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>17</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>18</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>19</span><br data-v-3af8a195></div></div><p data-v-3af8a195>wait可以和for...of循环一起使用，以串行的方式运行异步操作。</p> <h3 id="promise-finally" data-v-3af8a195><a href="#promise-finally" class="header-anchor" data-v-3af8a195>#</a> Promise.finally</h3> <p data-v-3af8a195>新增的Promise方法，无论失败或者成功状态，都会执行这个函数</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Promise</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>resolve<span class="token punctuation" data-v-3af8a195>,</span> reject</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token function" data-v-3af8a195>resolve</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'成功喽'</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>then</span><span class="token punctuation" data-v-3af8a195>(</span>
  <span class="token parameter" data-v-3af8a195>res</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span> console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>res<span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span>
  <span class="token parameter" data-v-3af8a195>err</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span> console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>err<span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>}</span>
<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>finally</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span> console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'我是finally'</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>

<span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Promise</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>resolve<span class="token punctuation" data-v-3af8a195>,</span> reject</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token function" data-v-3af8a195>reject</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'失败喽'</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>then</span><span class="token punctuation" data-v-3af8a195>(</span>
  <span class="token parameter" data-v-3af8a195>res</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span> console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>res<span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span>
  <span class="token parameter" data-v-3af8a195>err</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span> console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>err<span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>}</span>
<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>finally</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span> console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'我是finally'</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195></div></div><h3 id="正则表达式命名捕获组" data-v-3af8a195><a href="#正则表达式命名捕获组" class="header-anchor" data-v-3af8a195>#</a> 正则表达式命名捕获组</h3> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span>
  reDate <span class="token operator" data-v-3af8a195>=</span> <span class="token regex" data-v-3af8a195>/(?&lt;year&gt;[0-9]{4})-(?&lt;month&gt;[0-9]{2})-(?&lt;day&gt;[0-9]{2})/</span><span class="token punctuation" data-v-3af8a195>,</span>
  match  <span class="token operator" data-v-3af8a195>=</span> reDate<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>exec</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'2018-04-30'</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>,</span>
  year   <span class="token operator" data-v-3af8a195>=</span> match<span class="token punctuation" data-v-3af8a195>.</span>groups<span class="token punctuation" data-v-3af8a195>.</span>year<span class="token punctuation" data-v-3af8a195>,</span>  <span class="token comment" data-v-3af8a195>// 2018</span>
  month  <span class="token operator" data-v-3af8a195>=</span> match<span class="token punctuation" data-v-3af8a195>.</span>groups<span class="token punctuation" data-v-3af8a195>.</span>month<span class="token punctuation" data-v-3af8a195>,</span> <span class="token comment" data-v-3af8a195>// 04</span>
  day    <span class="token operator" data-v-3af8a195>=</span> match<span class="token punctuation" data-v-3af8a195>.</span>groups<span class="token punctuation" data-v-3af8a195>.</span>day<span class="token punctuation" data-v-3af8a195>;</span>   <span class="token comment" data-v-3af8a195>// 30</span>
 
<span class="token keyword" data-v-3af8a195>const</span>
  reDate <span class="token operator" data-v-3af8a195>=</span> <span class="token regex" data-v-3af8a195>/(?&lt;year&gt;[0-9]{4})-(?&lt;month&gt;[0-9]{2})-(?&lt;day&gt;[0-9]{2})/</span><span class="token punctuation" data-v-3af8a195>,</span>
  d      <span class="token operator" data-v-3af8a195>=</span> <span class="token string" data-v-3af8a195>'2018-04-30'</span><span class="token punctuation" data-v-3af8a195>,</span>
  usDate <span class="token operator" data-v-3af8a195>=</span> d<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>replace</span><span class="token punctuation" data-v-3af8a195>(</span>reDate<span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'$&lt;month&gt;-$&lt;day&gt;-$&lt;year&gt;'</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195></div></div><h2 id="es10-es2019" data-v-3af8a195><a href="#es10-es2019" class="header-anchor" data-v-3af8a195>#</a> ES10(ES2019)</h2> <h3 id="array-flat" data-v-3af8a195><a href="#array-flat" class="header-anchor" data-v-3af8a195>#</a> Array.flat</h3> <p data-v-3af8a195>有一个二维数组，我想让他变成一维数组：</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> arr <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>3</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>4</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>5</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>6</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>]</span>

console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>arr<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>flat</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// [ 1, 2, 3, 4, 5, 6 ]</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195></div></div><p data-v-3af8a195>还可以传参数，参数为降维的次数</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> arr <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>3</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>4</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>5</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>6</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>7</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>8</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>9</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>]</span>

console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>arr<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>flat</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>[</span>
  <span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>3</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>4</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>5</span><span class="token punctuation" data-v-3af8a195>,</span>
  <span class="token number" data-v-3af8a195>6</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>7</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>8</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>9</span>
<span class="token punctuation" data-v-3af8a195>]</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195></div></div><p data-v-3af8a195>如果传的是一个无限大的数字，那么就实现了多维数组(无论几维)降为一维数组</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> arr <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>3</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>4</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>5</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>6</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>7</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>8</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>9</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>10</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>11</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>12</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>]</span>

console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>arr<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>flat</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>Infinity</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>[</span>
   <span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>,</span>  <span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>3</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>4</span><span class="token punctuation" data-v-3af8a195>,</span>  <span class="token number" data-v-3af8a195>5</span><span class="token punctuation" data-v-3af8a195>,</span>
   <span class="token number" data-v-3af8a195>6</span><span class="token punctuation" data-v-3af8a195>,</span>  <span class="token number" data-v-3af8a195>7</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>8</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>9</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>10</span><span class="token punctuation" data-v-3af8a195>,</span>
   <span class="token number" data-v-3af8a195>11</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>12</span>
<span class="token punctuation" data-v-3af8a195>]</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195></div></div><h3 id="array-flatmap" data-v-3af8a195><a href="#array-flatmap" class="header-anchor" data-v-3af8a195>#</a> Array.flatMap</h3> <p data-v-3af8a195>现在给你一个需求</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>let</span> arr <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>[</span><span class="token string" data-v-3af8a195>&quot;科比 詹姆斯 安东尼&quot;</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>&quot;利拉德 罗斯 麦科勒姆&quot;</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>;</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195></div></div><p data-v-3af8a195>将上面数组转为</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token punctuation" data-v-3af8a195>[</span> <span class="token string" data-v-3af8a195>'科比'</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'詹姆斯'</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'安东尼'</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'利拉德'</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'罗斯'</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'麦科勒姆'</span> <span class="token punctuation" data-v-3af8a195>]</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195></div></div><p data-v-3af8a195>第一时间想到map + flat</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195>console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>arr<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>map</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>x</span> <span class="token operator" data-v-3af8a195>=&gt;</span> x<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>split</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>&quot; &quot;</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>flat</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token comment" data-v-3af8a195>// [ '科比', '詹姆斯', '安东尼', '利拉德', '罗斯', '麦科勒姆' ]</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195></div></div><p data-v-3af8a195>flatMap就是flat + map，一个方法顶两个</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195>console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>arr<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>flatMap</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>x</span> <span class="token operator" data-v-3af8a195>=&gt;</span> x<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>split</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>&quot; &quot;</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token comment" data-v-3af8a195>// [ '科比', '詹姆斯', '安东尼', '利拉德', '罗斯', '麦科勒姆' ]</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195></div></div><h3 id="bigint" data-v-3af8a195><a href="#bigint" class="header-anchor" data-v-3af8a195>#</a> BigInt</h3> <p data-v-3af8a195>BigInt是ES10新加的一种JavaScript数据类型，用来表示表示大于 2^53 - 1 的整数，2^53 - 1 （9007199254740992）是ES10之前，JavaScript所能表示最大的数字
在过去，不支持大于 9007199254740992 的整数值。如果超过，该值将锁定为 MAX_SAFE_INTEGER + 1:</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> b <span class="token operator" data-v-3af8a195>=</span> <span class="token number" data-v-3af8a195>1n</span><span class="token punctuation" data-v-3af8a195>;</span>  <span class="token comment" data-v-3af8a195>// 追加 n 以创建 BigInt</span>
<span class="token keyword" data-v-3af8a195>const</span> limit <span class="token operator" data-v-3af8a195>=</span> Number<span class="token punctuation" data-v-3af8a195>.</span><span class="token constant" data-v-3af8a195>MAX_SAFE_INTEGER</span><span class="token punctuation" data-v-3af8a195>;</span>
⇨ <span class="token number" data-v-3af8a195>9007199254740991</span>
limit <span class="token operator" data-v-3af8a195>+</span> <span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>;</span>
⇨ <span class="token number" data-v-3af8a195>9007199254740992</span>
limit <span class="token operator" data-v-3af8a195>+</span> <span class="token number" data-v-3af8a195>2</span><span class="token punctuation" data-v-3af8a195>;</span>
⇨ <span class="token number" data-v-3af8a195>9007199254740992</span> <span class="token comment" data-v-3af8a195>// &lt;--- MAX_SAFE_INTEGER + 1 exceeded</span>

<span class="token keyword" data-v-3af8a195>const</span> theBiggestInt <span class="token operator" data-v-3af8a195>=</span> <span class="token number" data-v-3af8a195>9007199254740991n</span><span class="token punctuation" data-v-3af8a195>;</span>
⇨ <span class="token number" data-v-3af8a195>9007199254740991n</span>
<span class="token keyword" data-v-3af8a195>const</span> integer <span class="token operator" data-v-3af8a195>=</span> <span class="token function" data-v-3af8a195>BigInt</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>9007199254740991</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span> <span class="token comment" data-v-3af8a195>// initialize with number</span>
⇨ <span class="token number" data-v-3af8a195>9007199254740991n</span>
<span class="token keyword" data-v-3af8a195>const</span> same <span class="token operator" data-v-3af8a195>=</span> <span class="token function" data-v-3af8a195>BigInt</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>&quot;9007199254740991&quot;</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span> <span class="token comment" data-v-3af8a195>// initialize with &quot;string&quot;</span>
⇨ <span class="token number" data-v-3af8a195>9007199254740991n</span>

<span class="token keyword" data-v-3af8a195>const</span> hugeHex <span class="token operator" data-v-3af8a195>=</span> <span class="token function" data-v-3af8a195>BigInt</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>&quot;0x1fffffffffffff&quot;</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token comment" data-v-3af8a195>// 9007199254740991n</span>
<span class="token keyword" data-v-3af8a195>const</span> hugeBin <span class="token operator" data-v-3af8a195>=</span> <span class="token function" data-v-3af8a195>BigInt</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>&quot;0b11111111111111111111111111111111111111111111111111111&quot;</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token comment" data-v-3af8a195>// 9007199254740991n</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>14</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>15</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>16</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>17</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>18</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>19</span><br data-v-3af8a195></div></div><p data-v-3af8a195>typeof</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>typeof</span> <span class="token number" data-v-3af8a195>10</span><span class="token punctuation" data-v-3af8a195>;</span>
⇨ <span class="token string" data-v-3af8a195>'number'</span>
<span class="token keyword" data-v-3af8a195>typeof</span> <span class="token number" data-v-3af8a195>10n</span><span class="token punctuation" data-v-3af8a195>;</span>
⇨ <span class="token string" data-v-3af8a195>'bigint'</span>
<span class="token keyword" data-v-3af8a195>const</span> bigNum <span class="token operator" data-v-3af8a195>=</span> <span class="token function" data-v-3af8a195>BigInt</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>1728371927189372189739217</span><span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token keyword" data-v-3af8a195>typeof</span> bigNum<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// bigint</span>
<span class="token comment" data-v-3af8a195>// 所以以后面试官问你JavaScript有多少种数据类型，别傻傻答6种了，要答8种，把ES6的Symbol和ES10的BigInt也加上去</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195></div></div><p data-v-3af8a195>等于运算符可用于两种类型之间比较</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token number" data-v-3af8a195>10n</span> <span class="token operator" data-v-3af8a195>===</span> <span class="token function" data-v-3af8a195>BigInt</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>10</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
⇨ <span class="token boolean" data-v-3af8a195>true</span>
<span class="token number" data-v-3af8a195>10n</span> <span class="token operator" data-v-3af8a195>==</span> <span class="token number" data-v-3af8a195>10</span><span class="token punctuation" data-v-3af8a195>;</span>
⇨ <span class="token boolean" data-v-3af8a195>true</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195></div></div><p data-v-3af8a195>数学运算符只能在自己的类型中工作:</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token number" data-v-3af8a195>200n</span> <span class="token operator" data-v-3af8a195>/</span> <span class="token number" data-v-3af8a195>10n</span>
⇨ <span class="token number" data-v-3af8a195>20n</span>
<span class="token number" data-v-3af8a195>200n</span> <span class="token operator" data-v-3af8a195>/</span> <span class="token number" data-v-3af8a195>20</span>
⇨ Uncaught TypeError<span class="token operator" data-v-3af8a195>:</span>
   Cannot mix BigInt and other types<span class="token punctuation" data-v-3af8a195>,</span> use explicit conversions <span class="token operator" data-v-3af8a195>&lt;</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195></div></div><p data-v-3af8a195>－运算符可以操作， + 不可用</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token operator" data-v-3af8a195>-</span><span class="token number" data-v-3af8a195>100n</span>
⇨ <span class="token operator" data-v-3af8a195>-</span><span class="token number" data-v-3af8a195>100n</span>
<span class="token operator" data-v-3af8a195>+</span><span class="token number" data-v-3af8a195>100n</span>
⇨ Uncaught TypeError<span class="token operator" data-v-3af8a195>:</span>
  Cannot convert a BigInt value to a number
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195></div></div><h3 id="object-fromentries" data-v-3af8a195><a href="#object-fromentries" class="header-anchor" data-v-3af8a195>#</a> Object.fromEntries</h3> <p data-v-3af8a195>前面ES8的Object.entries是把对象转成键值对数组，而Object.fromEntries则相反，是把键值对数组转为对象</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> arr <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>[</span>
  <span class="token punctuation" data-v-3af8a195>[</span><span class="token string" data-v-3af8a195>'name'</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'林三心'</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>,</span>
  <span class="token punctuation" data-v-3af8a195>[</span><span class="token string" data-v-3af8a195>'age'</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>22</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>,</span>
  <span class="token punctuation" data-v-3af8a195>[</span><span class="token string" data-v-3af8a195>'gender'</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'男'</span><span class="token punctuation" data-v-3af8a195>]</span>
<span class="token punctuation" data-v-3af8a195>]</span>

console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>Object<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>fromEntries</span><span class="token punctuation" data-v-3af8a195>(</span>arr<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// { name: '林三心', age: 22, gender: '男' }</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195></div></div><p data-v-3af8a195>他还有一个用处，就是把Map转为对象</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> map <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Map</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
map<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>set</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'name'</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'林三心'</span><span class="token punctuation" data-v-3af8a195>)</span>
map<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>set</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'age'</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token number" data-v-3af8a195>22</span><span class="token punctuation" data-v-3af8a195>)</span>
map<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>set</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'gender'</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token string" data-v-3af8a195>'男'</span><span class="token punctuation" data-v-3af8a195>)</span>

console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>map<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// Map(3) { 'name' =&gt; '林三心', 'age' =&gt; 22, 'gender' =&gt; '男' }</span>

<span class="token keyword" data-v-3af8a195>const</span> obj <span class="token operator" data-v-3af8a195>=</span> Object<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>fromEntries</span><span class="token punctuation" data-v-3af8a195>(</span>map<span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>obj<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// { name: '林三心', age: 22, gender: '男' }</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195></div></div><h3 id="string-trimstart-trimend" data-v-3af8a195><a href="#string-trimstart-trimend" class="header-anchor" data-v-3af8a195>#</a> String.trimStart/trimEnd</h3> <p data-v-3af8a195>咱们都知道JavaScript有个trim方法，可以清除字符串首尾的空格</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> str <span class="token operator" data-v-3af8a195>=</span> <span class="token string" data-v-3af8a195>'    林三心    '</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>str<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>trim</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// '林三心'</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195></div></div><p data-v-3af8a195>trimStart和trimEnd用来单独去除字符串的首和尾的空格</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> str <span class="token operator" data-v-3af8a195>=</span> <span class="token string" data-v-3af8a195>'    林三心    '</span>

<span class="token comment" data-v-3af8a195>// 去除首部空格</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>str<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>trimStart</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// '林三心   '</span>
<span class="token comment" data-v-3af8a195>// 去除尾部空格</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>str<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>trimStart</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// '   林三心'</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195></div></div><h3 id="json-stringify升级" data-v-3af8a195><a href="#json-stringify升级" class="header-anchor" data-v-3af8a195>#</a> JSON.stringify升级</h3> <p data-v-3af8a195>此更新修复了字符 U+D800 到 U+DFFF 的处理，JSON.stringify 可能会将这些数字格式化为没有等效 UTF-8 字符的值, 但 JSON 格式需要 UTF-8 编码。解析方法使用格式良好的JSON字符串，如:</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token string" data-v-3af8a195>'{ “prop1” : 1, &quot;prop2&quot; : 2 }'</span><span class="token punctuation" data-v-3af8a195>;</span> <span class="token comment" data-v-3af8a195>// A well-formed JSON format string</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195></div></div><p data-v-3af8a195>注意，要创建正确 JSON 格式的字符串，绝对需要在属性名周围加上双引号。缺少或任何其他类型的引号都不会生成格式良好的JSON。</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token string" data-v-3af8a195>'{ “prop1” : 1, &quot;meth&quot; : () =&gt; {}}'</span><span class="token punctuation" data-v-3af8a195>;</span> <span class="token comment" data-v-3af8a195>// Not JSON format string</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195></div></div><p data-v-3af8a195>此外，ES10 之前的 EcmaScript 实际上并不完全支持 JSON 格式。前 ES10 时代不接受未转义行分隔符 U+2028 和段落分隔符 U+2029 字符。如果这些字符潜入 JSON 格式的字符串(假设来自数据库记录)，你可能会花费数小时试图弄清楚为什么程序的其余部分会产生解析错误。如果你传递 eval 这样的字符串 “console.log(' hello ')”，它将执行 JavaScript语句 (通过尝试将字符串转换为实际代码),也类似于 JSON.parse 将处理你的 JSON 字符串的方式。</p> <h3 id="稳定的数组sort" data-v-3af8a195><a href="#稳定的数组sort" class="header-anchor" data-v-3af8a195>#</a> 稳定的数组sort</h3> <p data-v-3af8a195>一个稳定的排序算法是当两个键值相等的对象在排序后的输出中出现的顺序与在未排序的输入中出现的顺序相同时。ES10 提供了一个稳定的数组排序:</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>var</span> fruit <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>[</span>
    <span class="token punctuation" data-v-3af8a195>{</span> name<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>&quot;Apple&quot;</span><span class="token punctuation" data-v-3af8a195>,</span>      count<span class="token operator" data-v-3af8a195>:</span> <span class="token number" data-v-3af8a195>13</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span>
    <span class="token punctuation" data-v-3af8a195>{</span> name<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>&quot;Pear&quot;</span><span class="token punctuation" data-v-3af8a195>,</span>       count<span class="token operator" data-v-3af8a195>:</span> <span class="token number" data-v-3af8a195>12</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span>
    <span class="token punctuation" data-v-3af8a195>{</span> name<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>&quot;Banana&quot;</span><span class="token punctuation" data-v-3af8a195>,</span>     count<span class="token operator" data-v-3af8a195>:</span> <span class="token number" data-v-3af8a195>12</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span>
    <span class="token punctuation" data-v-3af8a195>{</span> name<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>&quot;Strawberry&quot;</span><span class="token punctuation" data-v-3af8a195>,</span> count<span class="token operator" data-v-3af8a195>:</span> <span class="token number" data-v-3af8a195>11</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span>
    <span class="token punctuation" data-v-3af8a195>{</span> name<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>&quot;Cherry&quot;</span><span class="token punctuation" data-v-3af8a195>,</span>     count<span class="token operator" data-v-3af8a195>:</span> <span class="token number" data-v-3af8a195>11</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span>
    <span class="token punctuation" data-v-3af8a195>{</span> name<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>&quot;Blackberry&quot;</span><span class="token punctuation" data-v-3af8a195>,</span> count<span class="token operator" data-v-3af8a195>:</span> <span class="token number" data-v-3af8a195>10</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span>
    <span class="token punctuation" data-v-3af8a195>{</span> name<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>&quot;Pineapple&quot;</span><span class="token punctuation" data-v-3af8a195>,</span>  count<span class="token operator" data-v-3af8a195>:</span> <span class="token number" data-v-3af8a195>10</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token punctuation" data-v-3af8a195>}</span>
<span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token comment" data-v-3af8a195>// 创建排序函数:</span>
<span class="token keyword" data-v-3af8a195>let</span> <span class="token function-variable function" data-v-3af8a195>my_sort</span> <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>a<span class="token punctuation" data-v-3af8a195>,</span> b</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> a<span class="token punctuation" data-v-3af8a195>.</span>count <span class="token operator" data-v-3af8a195>-</span> b<span class="token punctuation" data-v-3af8a195>.</span>count<span class="token punctuation" data-v-3af8a195>;</span>
<span class="token comment" data-v-3af8a195>// 执行稳定的ES10排序:</span>
<span class="token keyword" data-v-3af8a195>let</span> sorted <span class="token operator" data-v-3af8a195>=</span> fruit<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>sort</span><span class="token punctuation" data-v-3af8a195>(</span>my_sort<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>sorted<span class="token punctuation" data-v-3af8a195>)</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>14</span><br data-v-3af8a195></div></div><p data-v-3af8a195>控制台输出(项目以相反的顺序出现):</p> <p data-v-3af8a195><img src="/vuebloger/img/post/2741543307-5c74f3ba4848e_articlex.png" alt="" data-v-3af8a195></p> <h3 id="捕获错误变量可选" data-v-3af8a195><a href="#捕获错误变量可选" class="header-anchor" data-v-3af8a195>#</a> 捕获错误变量可选</h3> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>try</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token constant" data-v-3af8a195>JSON</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>parse</span><span class="token punctuation" data-v-3af8a195>(</span>text<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
    <span class="token keyword" data-v-3af8a195>return</span> <span class="token boolean" data-v-3af8a195>true</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token punctuation" data-v-3af8a195>}</span><span class="token keyword" data-v-3af8a195>catch</span>
<span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token keyword" data-v-3af8a195>return</span> <span class="token boolean" data-v-3af8a195>false</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token punctuation" data-v-3af8a195>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195></div></div><h3 id="symbol-description" data-v-3af8a195><a href="#symbol-description" class="header-anchor" data-v-3af8a195>#</a> Symbol.description</h3> <p data-v-3af8a195>description 是一个只读属性，它返回 Symbol 对象的可选描述。
我们知道，Symbol 的描述只被存储在内部的 Description ，没有直接对外暴露，我们只有调用 Symbol 的 toString() 时才可以读取这个属性：</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> name <span class="token operator" data-v-3af8a195>=</span> <span class="token function" data-v-3af8a195>Symbol</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'es'</span><span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>name<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>toString</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// Symbol(es)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>name<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// Symbol(es)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>name <span class="token operator" data-v-3af8a195>===</span> <span class="token string" data-v-3af8a195>'Symbol(es)'</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// false</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>name<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>toString</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>===</span> <span class="token string" data-v-3af8a195>'Symbol(es)'</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// true</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195></div></div><p data-v-3af8a195>现在可以通过 description 方法获取 Symbol 的描述:</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> name <span class="token operator" data-v-3af8a195>=</span> <span class="token function" data-v-3af8a195>Symbol</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'es'</span><span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>name<span class="token punctuation" data-v-3af8a195>.</span>description<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// es</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>name<span class="token punctuation" data-v-3af8a195>.</span>description <span class="token operator" data-v-3af8a195>===</span> <span class="token string" data-v-3af8a195>'es'</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// true</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195></div></div><h3 id="hashbang-语法" data-v-3af8a195><a href="#hashbang-语法" class="header-anchor" data-v-3af8a195>#</a> Hashbang 语法</h3> <p data-v-3af8a195>也就是 unix 用户熟悉的 shebang。它指定一个解释器(什么将执行JavaScript文件?)。因为从技术上讲，这并不是一个真正的语言特性，但它基本上统一了 JavaScript 在服务器端的执行方式。</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195>$ <span class="token punctuation" data-v-3af8a195>.</span><span class="token operator" data-v-3af8a195>/</span>index<span class="token punctuation" data-v-3af8a195>.</span>js
代替
$ node index<span class="token punctuation" data-v-3af8a195>.</span>js
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195></div></div><h3 id="function-tostring" data-v-3af8a195><a href="#function-tostring" class="header-anchor" data-v-3af8a195>#</a> Function.toString()</h3> <p data-v-3af8a195>函数是对象，并且每个对象都有一个 .toString() 方法，因为它最初存在于Object.prototype.toString() 上。 所有对象（包括函数）都是通过基于原型的类继承从它继承的。这意味着我们以前已经有 funcion.toString() 方法了。但是 ES10 进一步尝试标准化所有对象和内置函数的字符串表示。 以下是各种新案例：</p> <p data-v-3af8a195>典型的例子:</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>function</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span> console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'Hello there.'</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span> <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>toString</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195></div></div><p data-v-3af8a195>控制台输出(函数体的字符串格式:)</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195>⇨ <span class="token keyword" data-v-3af8a195>function</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span> console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'Hello there.'</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span> <span class="token punctuation" data-v-3af8a195>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195></div></div><p data-v-3af8a195>下面是剩下的例子:</p> <p data-v-3af8a195>直接在方法名 .toString()</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195>Number<span class="token punctuation" data-v-3af8a195>.</span>parseInt<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>toString</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
⇨ <span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>parseInt</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span> <span class="token punctuation" data-v-3af8a195>[</span>native code<span class="token punctuation" data-v-3af8a195>]</span> <span class="token punctuation" data-v-3af8a195>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195></div></div><p data-v-3af8a195>绑定上下文:</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>function</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span> <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>bind</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>0</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>toString</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
⇨ <span class="token keyword" data-v-3af8a195>function</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span> <span class="token punctuation" data-v-3af8a195>[</span>native code<span class="token punctuation" data-v-3af8a195>]</span> <span class="token punctuation" data-v-3af8a195>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195></div></div><p data-v-3af8a195>内置可调用函数对象:</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195>Symbol<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>toString</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
⇨ <span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>Symbol</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span> <span class="token punctuation" data-v-3af8a195>[</span>native code<span class="token punctuation" data-v-3af8a195>]</span> <span class="token punctuation" data-v-3af8a195>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195></div></div><p data-v-3af8a195>动态生成的函数:</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>function</span><span class="token operator" data-v-3af8a195>*</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span> <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>toString</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
⇨ <span class="token keyword" data-v-3af8a195>function</span><span class="token operator" data-v-3af8a195>*</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span> <span class="token punctuation" data-v-3af8a195>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195></div></div><p data-v-3af8a195>prototype.toString</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token class-name" data-v-3af8a195>Function</span><span class="token punctuation" data-v-3af8a195>.</span>prototype<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>toString</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>call</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>{</span><span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
⇨ <span class="token class-name" data-v-3af8a195>Function</span><span class="token punctuation" data-v-3af8a195>.</span>prototype<span class="token punctuation" data-v-3af8a195>.</span>toString requires that <span class="token string" data-v-3af8a195>'this'</span> be a Function&quot;
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195></div></div><h2 id="es11-es2020" data-v-3af8a195><a href="#es11-es2020" class="header-anchor" data-v-3af8a195>#</a> ES11(ES2020)</h2> <h3 id="promise-allsettled" data-v-3af8a195><a href="#promise-allsettled" class="header-anchor" data-v-3af8a195>#</a> Promise.allSettled</h3> <p data-v-3af8a195>ES11新增的Promise的方法</p> <ul data-v-3af8a195><li data-v-3af8a195>接收一个Promise数组，数组中如有非Promise项，则此项当做成功</li> <li data-v-3af8a195>把每一个Promise的结果，集合成数组，返回</li></ul> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>time<span class="token punctuation" data-v-3af8a195>,</span> isResolve</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token keyword" data-v-3af8a195>return</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Promise</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>resolve<span class="token punctuation" data-v-3af8a195>,</span> reject</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token function" data-v-3af8a195>setTimeout</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
      isResolve <span class="token operator" data-v-3af8a195>?</span> <span class="token function" data-v-3af8a195>resolve</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token template-string" data-v-3af8a195><span class="token template-punctuation string" data-v-3af8a195>`</span><span class="token interpolation" data-v-3af8a195><span class="token interpolation-punctuation punctuation" data-v-3af8a195>${</span>time<span class="token interpolation-punctuation punctuation" data-v-3af8a195>}</span></span><span class="token string" data-v-3af8a195>毫秒后我成功啦！！！</span><span class="token template-punctuation string" data-v-3af8a195>`</span></span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>:</span> <span class="token function" data-v-3af8a195>reject</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token template-string" data-v-3af8a195><span class="token template-punctuation string" data-v-3af8a195>`</span><span class="token interpolation" data-v-3af8a195><span class="token interpolation-punctuation punctuation" data-v-3af8a195>${</span>time<span class="token interpolation-punctuation punctuation" data-v-3af8a195>}</span></span><span class="token string" data-v-3af8a195>毫秒后我失败啦！！！</span><span class="token template-punctuation string" data-v-3af8a195>`</span></span><span class="token punctuation" data-v-3af8a195>)</span>
    <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span> time<span class="token punctuation" data-v-3af8a195>)</span>
  <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span>

Promise<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>allSettled</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>[</span><span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>2000</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token boolean" data-v-3af8a195>true</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>3000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>1000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>then</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>res</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
  console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>res<span class="token punctuation" data-v-3af8a195>)</span>
  <span class="token comment" data-v-3af8a195>// 3秒后输出 </span>
  <span class="token punctuation" data-v-3af8a195>[</span>
  <span class="token punctuation" data-v-3af8a195>{</span> status<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'fulfilled'</span><span class="token punctuation" data-v-3af8a195>,</span> value<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'2000毫秒后我成功啦！！！'</span> <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span>
  <span class="token punctuation" data-v-3af8a195>{</span> status<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'rejected'</span><span class="token punctuation" data-v-3af8a195>,</span> reason<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'3000毫秒后我失败啦！！！'</span> <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span>
  <span class="token punctuation" data-v-3af8a195>{</span> status<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'rejected'</span><span class="token punctuation" data-v-3af8a195>,</span> reason<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'1000毫秒后我失败啦！！！'</span> <span class="token punctuation" data-v-3af8a195>}</span>
<span class="token punctuation" data-v-3af8a195>]</span>
<span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>

</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>14</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>15</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>16</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>17</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>18</span><br data-v-3af8a195></div></div><h3 id="和" data-v-3af8a195><a href="#和" class="header-anchor" data-v-3af8a195>#</a> ?.和 ??</h3> <p data-v-3af8a195>先说说?.，中文名为可选链(Optional Chaining)</p> <p data-v-3af8a195>比如我们需要一个变量，是数组且有长度，才做某些操作</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> list <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>null</span>
<span class="token comment" data-v-3af8a195>// do something</span>
<span class="token keyword" data-v-3af8a195>if</span> <span class="token punctuation" data-v-3af8a195>(</span>list <span class="token operator" data-v-3af8a195>&amp;&amp;</span> list<span class="token punctuation" data-v-3af8a195>.</span>length<span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token comment" data-v-3af8a195>// do something</span>
<span class="token punctuation" data-v-3af8a195>}</span>

<span class="token comment" data-v-3af8a195>// 使用可选链</span>
<span class="token keyword" data-v-3af8a195>const</span> list <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>null</span>
<span class="token comment" data-v-3af8a195>// do something</span>
<span class="token keyword" data-v-3af8a195>if</span> <span class="token punctuation" data-v-3af8a195>(</span>list<span class="token operator" data-v-3af8a195>?.</span>length<span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token comment" data-v-3af8a195>// do something</span>
<span class="token punctuation" data-v-3af8a195>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195></div></div><p data-v-3af8a195>比如有一个对象，我要取一个可能不存在的值，甚至我们都不确定obj是否存在</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> obj <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>{</span>
  cat<span class="token operator" data-v-3af8a195>:</span> <span class="token punctuation" data-v-3af8a195>{</span>
    name<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'哈哈'</span>
  <span class="token punctuation" data-v-3af8a195>}</span>
<span class="token punctuation" data-v-3af8a195>}</span>
<span class="token keyword" data-v-3af8a195>const</span> dog <span class="token operator" data-v-3af8a195>=</span> obj <span class="token operator" data-v-3af8a195>&amp;&amp;</span> obj<span class="token punctuation" data-v-3af8a195>.</span>dog <span class="token operator" data-v-3af8a195>&amp;&amp;</span> obj<span class="token punctuation" data-v-3af8a195>.</span>dog<span class="token punctuation" data-v-3af8a195>.</span>name <span class="token comment" data-v-3af8a195>// undefined</span>

<span class="token comment" data-v-3af8a195>// 可选链</span>
<span class="token keyword" data-v-3af8a195>const</span> obj <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>{</span>
  cat<span class="token operator" data-v-3af8a195>:</span> <span class="token punctuation" data-v-3af8a195>{</span>
    name<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'哈哈'</span>
  <span class="token punctuation" data-v-3af8a195>}</span>
<span class="token punctuation" data-v-3af8a195>}</span>
<span class="token keyword" data-v-3af8a195>const</span> dog <span class="token operator" data-v-3af8a195>=</span> obj<span class="token operator" data-v-3af8a195>?.</span>dog<span class="token operator" data-v-3af8a195>?.</span>name <span class="token comment" data-v-3af8a195>// undefined</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>14</span><br data-v-3af8a195></div></div><p data-v-3af8a195>比如有一个数组，我不确定它存不存在，存在的话就取索引为1的值</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> arr <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>null</span>
<span class="token comment" data-v-3af8a195>// do something</span>
<span class="token keyword" data-v-3af8a195>const</span> item <span class="token operator" data-v-3af8a195>=</span> arr <span class="token operator" data-v-3af8a195>&amp;&amp;</span> arr<span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>]</span>

<span class="token comment" data-v-3af8a195>// 可选链</span>
<span class="token keyword" data-v-3af8a195>const</span> arr <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>null</span>
<span class="token comment" data-v-3af8a195>// do something</span>
<span class="token keyword" data-v-3af8a195>const</span> item <span class="token operator" data-v-3af8a195>=</span> arr<span class="token operator" data-v-3af8a195>?.</span><span class="token punctuation" data-v-3af8a195>[</span><span class="token number" data-v-3af8a195>1</span><span class="token punctuation" data-v-3af8a195>]</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195></div></div><p data-v-3af8a195>比如有一个函数，我们不确定它存不存在，存在的话就执行它</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> fn <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>null</span>
<span class="token comment" data-v-3af8a195>// do something</span>
<span class="token keyword" data-v-3af8a195>const</span> res <span class="token operator" data-v-3af8a195>=</span> fn <span class="token operator" data-v-3af8a195>&amp;&amp;</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>

<span class="token comment" data-v-3af8a195>// 可选链</span>
<span class="token keyword" data-v-3af8a195>const</span> fn <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>null</span>
<span class="token comment" data-v-3af8a195>// do something</span>
<span class="token keyword" data-v-3af8a195>const</span> res <span class="token operator" data-v-3af8a195>=</span> fn<span class="token operator" data-v-3af8a195>?.</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195></div></div><p data-v-3af8a195>再说说??，中文名为空位合并运算符(Nullish coalescing Operator)</p> <p data-v-3af8a195>请看以下代码，咱们使用||运算符，只要左边是假值，就会返回右边的数据</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> a <span class="token operator" data-v-3af8a195>=</span> <span class="token number" data-v-3af8a195>0</span> <span class="token operator" data-v-3af8a195>||</span> <span class="token string" data-v-3af8a195>'林三心'</span> <span class="token comment" data-v-3af8a195>// 林三心</span>
<span class="token keyword" data-v-3af8a195>const</span> b <span class="token operator" data-v-3af8a195>=</span> <span class="token string" data-v-3af8a195>''</span> <span class="token operator" data-v-3af8a195>||</span> <span class="token string" data-v-3af8a195>'林三心'</span> <span class="token comment" data-v-3af8a195>// 林三心</span>
<span class="token keyword" data-v-3af8a195>const</span> c <span class="token operator" data-v-3af8a195>=</span> <span class="token boolean" data-v-3af8a195>false</span> <span class="token operator" data-v-3af8a195>||</span> <span class="token string" data-v-3af8a195>'林三心'</span> <span class="token comment" data-v-3af8a195>// 林三心</span>
<span class="token keyword" data-v-3af8a195>const</span> d <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>undefined</span> <span class="token operator" data-v-3af8a195>||</span> <span class="token string" data-v-3af8a195>'林三心'</span> <span class="token comment" data-v-3af8a195>// 林三心</span>
<span class="token keyword" data-v-3af8a195>const</span> e <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>null</span> <span class="token operator" data-v-3af8a195>||</span> <span class="token string" data-v-3af8a195>'林三心'</span> <span class="token comment" data-v-3af8a195>// 林三心</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195></div></div><p data-v-3af8a195>使用 || 操作符，当左侧的操作数为 0 、 null、 undefined、 NaN、 false、 '' 时，都会使用右侧的操作数。如果使用 || 来为某些变量设置默认值，可能会遇到意料之外的行为。例如:</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> defaultValue <span class="token operator" data-v-3af8a195>=</span> <span class="token number" data-v-3af8a195>100</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token keyword" data-v-3af8a195>let</span> value <span class="token operator" data-v-3af8a195>=</span> someValue <span class="token operator" data-v-3af8a195>||</span> defaultValue<span class="token punctuation" data-v-3af8a195>;</span>
<span class="token comment" data-v-3af8a195>//当 someValue 转成 boolean 值为 false 时，value 的值都是 defaultValue</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195></div></div><p data-v-3af8a195>当 someValue 的值为 0 时 ，我们其实期望 value 值为 0, 但是它却被错误的分配成了 100。而??和||最大的区别是，在??这，只有undefined和null才算假值</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> a <span class="token operator" data-v-3af8a195>=</span> <span class="token number" data-v-3af8a195>0</span> <span class="token operator" data-v-3af8a195>??</span> <span class="token string" data-v-3af8a195>'林三心'</span> <span class="token comment" data-v-3af8a195>// 0</span>
<span class="token keyword" data-v-3af8a195>const</span> b <span class="token operator" data-v-3af8a195>=</span> <span class="token string" data-v-3af8a195>''</span> <span class="token operator" data-v-3af8a195>??</span> <span class="token string" data-v-3af8a195>'林三心'</span> <span class="token comment" data-v-3af8a195>// ''</span>
<span class="token keyword" data-v-3af8a195>const</span> c <span class="token operator" data-v-3af8a195>=</span> <span class="token boolean" data-v-3af8a195>false</span> <span class="token operator" data-v-3af8a195>??</span> <span class="token string" data-v-3af8a195>'林三心'</span> <span class="token comment" data-v-3af8a195>// false</span>
<span class="token keyword" data-v-3af8a195>const</span> d <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>undefined</span> <span class="token operator" data-v-3af8a195>??</span> <span class="token string" data-v-3af8a195>'林三心'</span> <span class="token comment" data-v-3af8a195>// 林三心</span>
<span class="token keyword" data-v-3af8a195>const</span> e <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>null</span> <span class="token operator" data-v-3af8a195>??</span> <span class="token string" data-v-3af8a195>'林三心'</span> <span class="token comment" data-v-3af8a195>// 林三心</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195></div></div><h3 id="matchall" data-v-3af8a195><a href="#matchall" class="header-anchor" data-v-3af8a195>#</a> matchAll</h3> <p data-v-3af8a195>返回一个包含所有匹配正则表达式的结果的迭代器。使用 <code data-v-3af8a195>for...of</code> 遍历或者使用 操作符 <code data-v-3af8a195>... Array.from</code> 将其转换成数组。</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> reg <span class="token operator" data-v-3af8a195>=</span> <span class="token regex" data-v-3af8a195>/[0-3]/g</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token keyword" data-v-3af8a195>const</span> data <span class="token operator" data-v-3af8a195>=</span> <span class="token string" data-v-3af8a195>'2020'</span><span class="token punctuation" data-v-3af8a195>;</span> 
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>data<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>matchAll</span><span class="token punctuation" data-v-3af8a195>(</span>reg<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span><span class="token comment" data-v-3af8a195>//data.matchAll 的返回值是一个迭代器</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>[</span><span class="token operator" data-v-3af8a195>...</span>data<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>matchAll</span><span class="token punctuation" data-v-3af8a195>(</span>reg<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token comment" data-v-3af8a195>/**
 * 0: [&quot;2&quot;, index: 0, input: &quot;2020&quot;, groups: undefined]
 * 1: [&quot;0&quot;, index: 1, input: &quot;2020&quot;, groups: undefined]
 * 2: [&quot;2&quot;, index: 2, input: &quot;2020&quot;, groups: undefined]
 * 3: [&quot;0&quot;, index: 3, input: &quot;2020&quot;, groups: undefined]
 */</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195></div></div><h3 id="dynamic-import" data-v-3af8a195><a href="#dynamic-import" class="header-anchor" data-v-3af8a195>#</a> Dynamic import</h3> <p data-v-3af8a195>标准用法的 import 导入的模块是静态的，会使所有被导入的模块，在加载时就被编译（无法做到按需编译，降低首页加载速度）。有些场景中，你可能希望根据条件导入模块或者按需导入模块，这时你可以使用动态导入代替静态导入。
在 import() 之前，当我们需要根据条件导入模块时，不得不使用 require()。如:</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>if</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token constant" data-v-3af8a195>XXX</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token keyword" data-v-3af8a195>const</span> menu <span class="token operator" data-v-3af8a195>=</span> <span class="token function" data-v-3af8a195>require</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'./menu'</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token punctuation" data-v-3af8a195>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195></div></div><p data-v-3af8a195>如今可以替换为:</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>if</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token constant" data-v-3af8a195>XXX</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token keyword" data-v-3af8a195>const</span> menu <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>import</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'./menu'</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token punctuation" data-v-3af8a195>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195></div></div><p data-v-3af8a195><code data-v-3af8a195>@babel/preset-env</code> 已经包含了 <code data-v-3af8a195>@babel/plugin-syntax-dynamic-import</code>，因此如果要使用 <code data-v-3af8a195>import()</code> 语法，只需要配置 <code data-v-3af8a195>@babel/preset-env</code> 即可。</p> <div class="custom-block tip" data-v-3af8a195><p class="custom-block-title" data-v-3af8a195>温馨提示</p> <p data-v-3af8a195>请不要滥用动态导入（只有在必要情况下采用）。静态框架能更好的初始化依赖，而且更有利于静态分析工具和 tree shaking 发挥作用。</p></div> <p data-v-3af8a195>另外，import() 返回的是一个 promise 对象。例如：</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token comment" data-v-3af8a195>//menu.js</span>
<span class="token keyword" data-v-3af8a195>export</span> <span class="token keyword" data-v-3af8a195>default</span> <span class="token punctuation" data-v-3af8a195>{</span>
    menu<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'menu'</span>
<span class="token punctuation" data-v-3af8a195>}</span>
<span class="token comment" data-v-3af8a195>//index.js</span>
<span class="token keyword" data-v-3af8a195>if</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token boolean" data-v-3af8a195>true</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token keyword" data-v-3af8a195>let</span> menu <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>import</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'./menu'</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
    console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>menu<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span> <span class="token comment" data-v-3af8a195>//Promise {&lt;pending&gt;</span>
    menu<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>then</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>data</span> <span class="token operator" data-v-3af8a195>=&gt;</span> console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>data<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span><span class="token comment" data-v-3af8a195>//Module {default: {menu: &quot;menu&quot;}, __esModule: true, Symbol(Symbol.toStringTag): &quot;Module&quot;}</span>
<span class="token punctuation" data-v-3af8a195>}</span> <span class="token keyword" data-v-3af8a195>else</span> <span class="token punctuation" data-v-3af8a195>{</span>
 
<span class="token punctuation" data-v-3af8a195>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195></div></div><h3 id="import-meta" data-v-3af8a195><a href="#import-meta" class="header-anchor" data-v-3af8a195>#</a> import.meta</h3> <p data-v-3af8a195>import.meta 会返回一个对象，有一个 url 属性，返回当前模块的url路径，只能在模块内部使用。</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token operator" data-v-3af8a195>&lt;</span>script src<span class="token operator" data-v-3af8a195>=</span><span class="token string" data-v-3af8a195>'./main.js'</span> type<span class="token operator" data-v-3af8a195>=</span><span class="token string" data-v-3af8a195>&quot;module&quot;</span><span class="token operator" data-v-3af8a195>&gt;</span><span class="token operator" data-v-3af8a195>&lt;</span><span class="token operator" data-v-3af8a195>/</span>script<span class="token operator" data-v-3af8a195>&gt;</span>
<span class="token comment" data-v-3af8a195>//main.js</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token keyword" data-v-3af8a195>import</span><span class="token punctuation" data-v-3af8a195>.</span>meta<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span> <span class="token comment" data-v-3af8a195>//{url: &quot;http://localhost:8080/main.js&quot;} PS：使用了 http-server 启动</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195></div></div><p data-v-3af8a195>因为<code data-v-3af8a195>import.meta</code> 必须要在模块内部使用，如果不加 <code data-v-3af8a195>type=&quot;module&quot;</code>，控制台会报错：<code data-v-3af8a195>Cannot use 'import.meta' outside a module。</code></p> <p data-v-3af8a195>最开始测试时，我是在 React 的项目中测试的，仅配置了 <code data-v-3af8a195>@babel/preset-env</code> 和<code data-v-3af8a195>@babel/preset-react</code> 预设，使用 <code data-v-3af8a195>import.meta</code> 时，会报错如下：</p> <p data-v-3af8a195><img src="/vuebloger/img/post/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy9ubmljN0NrajlOcTBWaWNkQnB1cWwyNXB0U243elpUSHRkVXp0N0ZDMk1QQ29NdklJbmFUUnlpYWlhdTRyMkpJRGt5b1ViUUphN1hiOGliOU81a3hLSlpJUW1nLzY0MA.png" alt="" data-v-3af8a195></p> <p data-v-3af8a195>安装 <code data-v-3af8a195>@open-wc/webpack-import-meta-loader</code>，修改 webpack 的配置，可以正常运行。</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195>module<span class="token operator" data-v-3af8a195>:</span> <span class="token punctuation" data-v-3af8a195>{</span>
    rules<span class="token operator" data-v-3af8a195>:</span> <span class="token punctuation" data-v-3af8a195>[</span>
        <span class="token punctuation" data-v-3af8a195>{</span>
            test<span class="token operator" data-v-3af8a195>:</span> <span class="token regex" data-v-3af8a195>/\.js$/</span><span class="token punctuation" data-v-3af8a195>,</span>
            use<span class="token operator" data-v-3af8a195>:</span> <span class="token punctuation" data-v-3af8a195>[</span>
                require<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>resolve</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'@open-wc/webpack-import-meta-loader'</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>,</span>
                <span class="token punctuation" data-v-3af8a195>{</span>
                    loader<span class="token operator" data-v-3af8a195>:</span> <span class="token string" data-v-3af8a195>'babel-loader'</span><span class="token punctuation" data-v-3af8a195>,</span>
                    options<span class="token operator" data-v-3af8a195>:</span> <span class="token punctuation" data-v-3af8a195>{</span>
                        presets<span class="token operator" data-v-3af8a195>:</span> <span class="token punctuation" data-v-3af8a195>[</span>
                            <span class="token string" data-v-3af8a195>&quot;@babel/preset-env&quot;</span><span class="token punctuation" data-v-3af8a195>,</span>
                            <span class="token string" data-v-3af8a195>&quot;@babel/preset-react&quot;</span>
                        <span class="token punctuation" data-v-3af8a195>]</span>
                    <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span>
                <span class="token punctuation" data-v-3af8a195>}</span>
            <span class="token punctuation" data-v-3af8a195>]</span>
        <span class="token punctuation" data-v-3af8a195>}</span>
    <span class="token punctuation" data-v-3af8a195>]</span>
<span class="token punctuation" data-v-3af8a195>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>14</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>15</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>16</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>17</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>18</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>19</span><br data-v-3af8a195></div></div><p data-v-3af8a195>效果如下：</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token comment" data-v-3af8a195>//src/index.js</span>
<span class="token keyword" data-v-3af8a195>import</span> React <span class="token keyword" data-v-3af8a195>from</span> <span class="token string" data-v-3af8a195>'react'</span><span class="token punctuation" data-v-3af8a195>;</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token keyword" data-v-3af8a195>import</span><span class="token punctuation" data-v-3af8a195>.</span>meta<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span><span class="token comment" data-v-3af8a195>//{index.js:38 {url: &quot;http://127.0.0.1:3000/src/index.js&quot;}}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195></div></div><h3 id="export-as-ns-from-module" data-v-3af8a195><a href="#export-as-ns-from-module" class="header-anchor" data-v-3af8a195>#</a> export * as ns from 'module'</h3> <p data-v-3af8a195>ES2020新增了 <code data-v-3af8a195>export * as XX from 'module'</code>，和 <code data-v-3af8a195>import * as XX from 'module'</code></p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token comment" data-v-3af8a195>//menu.js</span>
<span class="token keyword" data-v-3af8a195>export</span> <span class="token operator" data-v-3af8a195>*</span> <span class="token keyword" data-v-3af8a195>as</span> ns <span class="token keyword" data-v-3af8a195>from</span> <span class="token string" data-v-3af8a195>'./info'</span><span class="token punctuation" data-v-3af8a195>;</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195></div></div><p data-v-3af8a195>可以理解为是将下面两条语句合并为一句：</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>import</span> <span class="token operator" data-v-3af8a195>*</span> <span class="token keyword" data-v-3af8a195>as</span> ns <span class="token keyword" data-v-3af8a195>from</span> <span class="token string" data-v-3af8a195>'./info'</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token keyword" data-v-3af8a195>export</span> <span class="token punctuation" data-v-3af8a195>{</span> ns <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>;</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195></div></div><p data-v-3af8a195>不过需要注意的是 <code data-v-3af8a195>export * as ns from './info'</code> 并不会真的将导入模块，因此在该模块(menu.js)中，我们是获取不到 ns 的。</p> <h3 id="globalthis" data-v-3af8a195><a href="#globalthis" class="header-anchor" data-v-3af8a195>#</a> GlobalThis</h3> <p data-v-3af8a195>JS 中存在一个顶层对象，但是，顶层对象在各种实现里是不统一的。从不同的 JavaScript 环境中获取全局对象需要不同的语句。在 Web 中，可以通过 window、self 取到全局对象，但是在 Web Workers 中，只有 self 可以。在 Node.js 中，它们都无法获取，必须使用 global。在 globalThis 之前，我们这样去获取全局对象：</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>var</span> <span class="token function-variable function" data-v-3af8a195>getGlobal</span> <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>function</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token keyword" data-v-3af8a195>if</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token keyword" data-v-3af8a195>typeof</span> self <span class="token operator" data-v-3af8a195>!==</span> <span class="token string" data-v-3af8a195>'undefined'</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span> <span class="token keyword" data-v-3af8a195>return</span> self<span class="token punctuation" data-v-3af8a195>;</span> <span class="token punctuation" data-v-3af8a195>}</span>
    <span class="token keyword" data-v-3af8a195>if</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token keyword" data-v-3af8a195>typeof</span> window <span class="token operator" data-v-3af8a195>!==</span> <span class="token string" data-v-3af8a195>'undefined'</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span> <span class="token keyword" data-v-3af8a195>return</span> window<span class="token punctuation" data-v-3af8a195>;</span> <span class="token punctuation" data-v-3af8a195>}</span>
    <span class="token keyword" data-v-3af8a195>if</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token keyword" data-v-3af8a195>typeof</span> global <span class="token operator" data-v-3af8a195>!==</span> <span class="token string" data-v-3af8a195>'undefined'</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span> <span class="token keyword" data-v-3af8a195>return</span> global<span class="token punctuation" data-v-3af8a195>;</span> <span class="token punctuation" data-v-3af8a195>}</span>
    <span class="token keyword" data-v-3af8a195>throw</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Error</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'unable to locate global object'</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>;</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195></div></div><p data-v-3af8a195>ES2020 中引入 <code data-v-3af8a195>globalThis</code> 作为顶层对象，在任何环境下，都可以简单的通过 <code data-v-3af8a195>globalThis</code>拿到顶层对象。</p> <h3 id="私有变量" data-v-3af8a195><a href="#私有变量" class="header-anchor" data-v-3af8a195>#</a> 私有变量</h3> <p data-v-3af8a195>严格限制一些用于内部使用的Class变量，只需要在变量前添加#，就可以使其成为私有变量，并且无法在class外部直接访问</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>class</span> <span class="token class-name" data-v-3af8a195>Hero</span> <span class="token punctuation" data-v-3af8a195>{</span>
    #aggressivity <span class="token operator" data-v-3af8a195>=</span> <span class="token number" data-v-3af8a195>0</span>
    <span class="token function" data-v-3af8a195>constructor</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>aggressivity</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>{</span>
      <span class="token keyword" data-v-3af8a195>this</span><span class="token punctuation" data-v-3af8a195>.</span>#aggressivity <span class="token operator" data-v-3af8a195>=</span> aggressivity
    <span class="token punctuation" data-v-3af8a195>}</span>
    <span class="token function" data-v-3af8a195>getHurt</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>{</span>
      <span class="token keyword" data-v-3af8a195>return</span> <span class="token keyword" data-v-3af8a195>this</span><span class="token punctuation" data-v-3af8a195>.</span>#aggressivity
    <span class="token punctuation" data-v-3af8a195>}</span>
    <span class="token function" data-v-3af8a195>setAggressivity</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>aggressivity</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>{</span>
      <span class="token keyword" data-v-3af8a195>this</span><span class="token punctuation" data-v-3af8a195>.</span>#aggressivity <span class="token operator" data-v-3af8a195>=</span> aggressivity
    <span class="token punctuation" data-v-3af8a195>}</span>
<span class="token punctuation" data-v-3af8a195>}</span>

<span class="token keyword" data-v-3af8a195>const</span> shooter <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Hero</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>100</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token keyword" data-v-3af8a195>let</span> hurt <span class="token operator" data-v-3af8a195>=</span> shooter<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>getHurt</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>hurt<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>//100</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>shooter<span class="token punctuation" data-v-3af8a195>.</span>#aggressivity<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>//Error : Uncaught SyntaxError: Private field '#aggressivity' must be declared in an enclosing class</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>14</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>15</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>16</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>17</span><br data-v-3af8a195></div></div><h2 id="es12-es2021" data-v-3af8a195><a href="#es12-es2021" class="header-anchor" data-v-3af8a195>#</a> ES12(ES2021)</h2> <h3 id="replaceall" data-v-3af8a195><a href="#replaceall" class="header-anchor" data-v-3af8a195>#</a> replaceAll</h3> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>let</span> string <span class="token operator" data-v-3af8a195>=</span> <span class="token string" data-v-3af8a195>'I like 前端,I like 前端公虾米'</span>
<span class="token comment" data-v-3af8a195>//使用replace</span>
<span class="token keyword" data-v-3af8a195>let</span> replaceStr <span class="token operator" data-v-3af8a195>=</span> string<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>replace</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'like'</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token string" data-v-3af8a195>'love'</span><span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>replaceStr<span class="token punctuation" data-v-3af8a195>)</span>  <span class="token comment" data-v-3af8a195>// 'I love 前端,I like 前端公虾米'</span>
<span class="token comment" data-v-3af8a195>//replace使用正则匹配所有</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>string<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>replace</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token regex" data-v-3af8a195>/like/g</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token string" data-v-3af8a195>'love'</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// 'I love 前端,I love 前端公虾米'</span>
<span class="token comment" data-v-3af8a195>//使用replaceAll</span>
<span class="token keyword" data-v-3af8a195>let</span> replaceAllStr <span class="token operator" data-v-3af8a195>=</span> string<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>replaceAll</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'like'</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token string" data-v-3af8a195>'love'</span><span class="token punctuation" data-v-3af8a195>)</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>replaceAllStr<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// 'I love 前端,I love 前端公虾米'</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195></div></div><div class="custom-block tip" data-v-3af8a195><p class="custom-block-title" data-v-3af8a195>温馨提示</p> <p data-v-3af8a195>需要注意的是，replaceAll在使用正则表达式的时候，如果非全局匹配（/g），则replaceAll()会抛出一个异常</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>let</span> string <span class="token operator" data-v-3af8a195>=</span> <span class="token string" data-v-3af8a195>'I like 前端,I like 前端公虾米'</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>string<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>replaceAll</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token regex" data-v-3af8a195>/like/</span><span class="token punctuation" data-v-3af8a195>,</span><span class="token string" data-v-3af8a195>'love'</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>//TypeError</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195></div></div></div> <h3 id="weakrefs" data-v-3af8a195><a href="#weakrefs" class="header-anchor" data-v-3af8a195>#</a> WeakRefs</h3> <div class="custom-block tip" data-v-3af8a195><p class="custom-block-title" data-v-3af8a195>温馨提示</p> <p data-v-3af8a195>使用WeakRefs的Class类创建对对象的弱引用(对对象的弱引用是指当该对象应该被GC回收时不会阻止GC的回收行为)</p></div> <p data-v-3af8a195>当我们通过（const、let、var）创建一个变量时，垃圾收集器GC将永远不会从内存中删除该变量，只要它的引用仍然存在可访问。WeakRef对象包含对对象的弱引用。对对象的弱引用是不会阻止垃圾收集器GC恢复该对象的引用，则GC可以在任何时候删除它。</p> <p data-v-3af8a195>WeakRefs在很多情况下都很有用，比如使用Map对象来实现具有很多需要大量内存的键值缓存，在这种情况下最方便的就是尽快释放键值对占用的内存。</p> <p data-v-3af8a195>目前，可以通过WeakMap()或者WeakSet()来使用WeakRefs,举个栗子</p> <p data-v-3af8a195>我想要跟踪特定的对象调用某一特定方法的次数，超过1000条则做对应提示</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>let</span> map <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Map</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>doSomething</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>obj</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>{</span>
 <span class="token operator" data-v-3af8a195>...</span>
<span class="token punctuation" data-v-3af8a195>}</span>
<span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>useObject</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>obj</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>{</span>
 <span class="token function" data-v-3af8a195>doSomething</span><span class="token punctuation" data-v-3af8a195>(</span>obj<span class="token punctuation" data-v-3af8a195>)</span>
  
  <span class="token keyword" data-v-3af8a195>let</span> called <span class="token operator" data-v-3af8a195>=</span> map<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>get</span><span class="token punctuation" data-v-3af8a195>(</span>obj<span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>||</span> <span class="token number" data-v-3af8a195>0</span>
  called <span class="token operator" data-v-3af8a195>++</span> 
  
  <span class="token keyword" data-v-3af8a195>if</span><span class="token punctuation" data-v-3af8a195>(</span>called<span class="token operator" data-v-3af8a195>&gt;</span><span class="token number" data-v-3af8a195>1000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>{</span>
     console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'当前调用次数已经超过1000次了，over'</span><span class="token punctuation" data-v-3af8a195>)</span>
  <span class="token punctuation" data-v-3af8a195>}</span>
  
  map<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>set</span><span class="token punctuation" data-v-3af8a195>(</span>obj<span class="token punctuation" data-v-3af8a195>,</span> called<span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>14</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>15</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>16</span><br data-v-3af8a195></div></div><p data-v-3af8a195>如上虽然可以实现我们的功能，但是会发生内存溢出,因为传递给doSomething函数的每个对象都永久保存在map中，并且不会被GC回收，因此我们可以使用WeakMap</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>let</span> wmap <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>WeakMap</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>doSomething</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>obj</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>{</span>
 <span class="token operator" data-v-3af8a195>...</span>
<span class="token punctuation" data-v-3af8a195>}</span>
<span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>useObject</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>obj</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>{</span>
 <span class="token function" data-v-3af8a195>doSomething</span><span class="token punctuation" data-v-3af8a195>(</span>obj<span class="token punctuation" data-v-3af8a195>)</span>
  
  <span class="token keyword" data-v-3af8a195>let</span> called <span class="token operator" data-v-3af8a195>=</span> wmap<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>get</span><span class="token punctuation" data-v-3af8a195>(</span>obj<span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>||</span> <span class="token number" data-v-3af8a195>0</span>
  
  called <span class="token operator" data-v-3af8a195>++</span>
  
  <span class="token keyword" data-v-3af8a195>if</span><span class="token punctuation" data-v-3af8a195>(</span>called<span class="token operator" data-v-3af8a195>&gt;</span><span class="token number" data-v-3af8a195>1000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>{</span>
     console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token string" data-v-3af8a195>'当前调用次数已经超过1000次了，over'</span><span class="token punctuation" data-v-3af8a195>)</span>
  <span class="token punctuation" data-v-3af8a195>}</span>
  
  wmap<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>set</span><span class="token punctuation" data-v-3af8a195>(</span>obj<span class="token punctuation" data-v-3af8a195>,</span> called<span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>14</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>15</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>16</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>17</span><br data-v-3af8a195></div></div><p data-v-3af8a195>因为是弱引用，所以WeakMap、WeakSet的键值对是不可枚举的</p> <p data-v-3af8a195>WeakSet和WeakMap相似，但是每个对象在WeakSet中的每个对象只可能出现一次，WeakSet中所有对象都是唯一的</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>let</span> ws <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>WeakSet</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token keyword" data-v-3af8a195>let</span> foo <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>{</span><span class="token punctuation" data-v-3af8a195>}</span>
<span class="token keyword" data-v-3af8a195>let</span> bar <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>{</span><span class="token punctuation" data-v-3af8a195>}</span>

ws<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>add</span><span class="token punctuation" data-v-3af8a195>(</span>foo<span class="token punctuation" data-v-3af8a195>)</span>
ws<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>add</span><span class="token punctuation" data-v-3af8a195>(</span>bar<span class="token punctuation" data-v-3af8a195>)</span>

ws<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>has</span><span class="token punctuation" data-v-3af8a195>(</span>foo<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>//true</span>
ws<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>has</span><span class="token punctuation" data-v-3af8a195>(</span>bar<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>//true</span>

ws<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>delete</span><span class="token punctuation" data-v-3af8a195>(</span>foo<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>//删除foo对象</span>
ws<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>has</span><span class="token punctuation" data-v-3af8a195>(</span>foo<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>//false 已删除</span>
ws<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>has</span><span class="token punctuation" data-v-3af8a195>(</span>bar<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>//仍存在</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195></div></div><p data-v-3af8a195>WeakSet与Set相比有以下两个区别</p> <ul data-v-3af8a195><li data-v-3af8a195>WeakSet只能是对象集合，而不能是任何类型的任意值</li> <li data-v-3af8a195>WeakSet弱引用，集合中对象引用为弱引用，如果没有其他对WeakSet对象的引用，则会被GC回收</li></ul> <p data-v-3af8a195>最后，WeakRef实例有一个方法deref，返回引用的原始对象，如果原始对象被回收，则返回undefined</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> cache <span class="token operator" data-v-3af8a195>=</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Map</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>

<span class="token keyword" data-v-3af8a195>const</span> <span class="token function-variable function" data-v-3af8a195>setValue</span> <span class="token operator" data-v-3af8a195>=</span>  <span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>key<span class="token punctuation" data-v-3af8a195>,</span> obj</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
  cache<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>set</span><span class="token punctuation" data-v-3af8a195>(</span>key<span class="token punctuation" data-v-3af8a195>,</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>WeakRef</span><span class="token punctuation" data-v-3af8a195>(</span>obj<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
<span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>;</span>

<span class="token keyword" data-v-3af8a195>const</span> <span class="token function-variable function" data-v-3af8a195>getValue</span> <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>key</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token keyword" data-v-3af8a195>const</span> ref <span class="token operator" data-v-3af8a195>=</span> cache<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>get</span><span class="token punctuation" data-v-3af8a195>(</span>key<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
  <span class="token keyword" data-v-3af8a195>if</span> <span class="token punctuation" data-v-3af8a195>(</span>ref<span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token keyword" data-v-3af8a195>return</span> ref<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>deref</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
  <span class="token punctuation" data-v-3af8a195>}</span>
<span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>;</span>

<span class="token keyword" data-v-3af8a195>const</span> <span class="token function-variable function" data-v-3af8a195>fibonacciCached</span> <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>number</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token keyword" data-v-3af8a195>const</span> cached <span class="token operator" data-v-3af8a195>=</span> <span class="token function" data-v-3af8a195>getValue</span><span class="token punctuation" data-v-3af8a195>(</span>number<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
  <span class="token keyword" data-v-3af8a195>if</span> <span class="token punctuation" data-v-3af8a195>(</span>cached<span class="token punctuation" data-v-3af8a195>)</span> <span class="token keyword" data-v-3af8a195>return</span> cached<span class="token punctuation" data-v-3af8a195>;</span>
  <span class="token keyword" data-v-3af8a195>const</span> sum <span class="token operator" data-v-3af8a195>=</span> <span class="token function" data-v-3af8a195>calculateFibonacci</span><span class="token punctuation" data-v-3af8a195>(</span>number<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
  <span class="token function" data-v-3af8a195>setValue</span><span class="token punctuation" data-v-3af8a195>(</span>number<span class="token punctuation" data-v-3af8a195>,</span> sum<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>;</span>
  <span class="token keyword" data-v-3af8a195>return</span> sum<span class="token punctuation" data-v-3af8a195>;</span>
<span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>;</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>14</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>15</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>16</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>17</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>18</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>19</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>20</span><br data-v-3af8a195></div></div><h3 id="promise-any" data-v-3af8a195><a href="#promise-any" class="header-anchor" data-v-3af8a195>#</a> Promise.any</h3> <p data-v-3af8a195>E12新增的Promise的方法</p> <ul data-v-3af8a195><li data-v-3af8a195>接收一个Promise数组，数组中如有非Promise项，则此项当做成功</li> <li data-v-3af8a195>如果有一个Promise成功，则返回这个成功结果</li> <li data-v-3af8a195>如果所有Promise都失败，则报错</li></ul> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token comment" data-v-3af8a195>// 当有成功的时候，返回最快那个成功</span>
<span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>time<span class="token punctuation" data-v-3af8a195>,</span> isResolve</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token keyword" data-v-3af8a195>return</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Promise</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>resolve<span class="token punctuation" data-v-3af8a195>,</span> reject</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token function" data-v-3af8a195>setTimeout</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
      isResolve <span class="token operator" data-v-3af8a195>?</span> <span class="token function" data-v-3af8a195>resolve</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token template-string" data-v-3af8a195><span class="token template-punctuation string" data-v-3af8a195>`</span><span class="token interpolation" data-v-3af8a195><span class="token interpolation-punctuation punctuation" data-v-3af8a195>${</span>time<span class="token interpolation-punctuation punctuation" data-v-3af8a195>}</span></span><span class="token string" data-v-3af8a195>毫秒后我成功啦！！！</span><span class="token template-punctuation string" data-v-3af8a195>`</span></span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>:</span> <span class="token function" data-v-3af8a195>reject</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token template-string" data-v-3af8a195><span class="token template-punctuation string" data-v-3af8a195>`</span><span class="token interpolation" data-v-3af8a195><span class="token interpolation-punctuation punctuation" data-v-3af8a195>${</span>time<span class="token interpolation-punctuation punctuation" data-v-3af8a195>}</span></span><span class="token string" data-v-3af8a195>毫秒后我失败啦！！！</span><span class="token template-punctuation string" data-v-3af8a195>`</span></span><span class="token punctuation" data-v-3af8a195>)</span>
    <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span> time<span class="token punctuation" data-v-3af8a195>)</span>
  <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span>

Promise<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>any</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>[</span><span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>2000</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token boolean" data-v-3af8a195>true</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>3000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>1000</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token boolean" data-v-3af8a195>true</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>then</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>res</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
  console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>res<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// 1秒后 输出  1000毫秒后我成功啦</span>
<span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token parameter" data-v-3af8a195>err</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
  console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>err<span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>

<span class="token comment" data-v-3af8a195>// 当全都失败时</span>
<span class="token keyword" data-v-3af8a195>function</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>time<span class="token punctuation" data-v-3af8a195>,</span> isResolve</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token keyword" data-v-3af8a195>return</span> <span class="token keyword" data-v-3af8a195>new</span> <span class="token class-name" data-v-3af8a195>Promise</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>resolve<span class="token punctuation" data-v-3af8a195>,</span> reject</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
    <span class="token function" data-v-3af8a195>setTimeout</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
      isResolve <span class="token operator" data-v-3af8a195>?</span> <span class="token function" data-v-3af8a195>resolve</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token template-string" data-v-3af8a195><span class="token template-punctuation string" data-v-3af8a195>`</span><span class="token interpolation" data-v-3af8a195><span class="token interpolation-punctuation punctuation" data-v-3af8a195>${</span>time<span class="token interpolation-punctuation punctuation" data-v-3af8a195>}</span></span><span class="token string" data-v-3af8a195>毫秒后我成功啦！！！</span><span class="token template-punctuation string" data-v-3af8a195>`</span></span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token operator" data-v-3af8a195>:</span> <span class="token function" data-v-3af8a195>reject</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token template-string" data-v-3af8a195><span class="token template-punctuation string" data-v-3af8a195>`</span><span class="token interpolation" data-v-3af8a195><span class="token interpolation-punctuation punctuation" data-v-3af8a195>${</span>time<span class="token interpolation-punctuation punctuation" data-v-3af8a195>}</span></span><span class="token string" data-v-3af8a195>毫秒后我失败啦！！！</span><span class="token template-punctuation string" data-v-3af8a195>`</span></span><span class="token punctuation" data-v-3af8a195>)</span>
    <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span> time<span class="token punctuation" data-v-3af8a195>)</span>
  <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span>

Promise<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>any</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>[</span><span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>2000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>3000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token function" data-v-3af8a195>fn</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token number" data-v-3af8a195>1000</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>]</span><span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>then</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token parameter" data-v-3af8a195>res</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
  console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>res<span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span> <span class="token parameter" data-v-3af8a195>err</span> <span class="token operator" data-v-3af8a195>=&gt;</span> <span class="token punctuation" data-v-3af8a195>{</span>
  console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>log</span><span class="token punctuation" data-v-3af8a195>(</span>err<span class="token punctuation" data-v-3af8a195>)</span> <span class="token comment" data-v-3af8a195>// 3秒后 报错 all Error</span>
<span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>

</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>14</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>15</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>16</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>17</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>18</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>19</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>20</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>21</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>22</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>23</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>24</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>25</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>26</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>27</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>28</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>29</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>30</span><br data-v-3af8a195></div></div><h3 id="数字分隔符" data-v-3af8a195><a href="#数字分隔符" class="header-anchor" data-v-3af8a195>#</a> 数字分隔符</h3> <p data-v-3af8a195>数字分隔符可以让你在定义长数字时，更加地一目了然</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> num <span class="token operator" data-v-3af8a195>=</span> <span class="token number" data-v-3af8a195>1000000000</span>

<span class="token comment" data-v-3af8a195>// 使用数字分隔符</span>
<span class="token keyword" data-v-3af8a195>const</span> num <span class="token operator" data-v-3af8a195>=</span> <span class="token number" data-v-3af8a195>1_000_000_000</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195></div></div><h3 id="和-和" data-v-3af8a195><a href="#和-和" class="header-anchor" data-v-3af8a195>#</a> ||= 和 &amp;&amp;= 和 ??=</h3> <p data-v-3af8a195>或等于(||=)   a ||= b 等同于 a || (a = b);</p> <p data-v-3af8a195>且等于(&amp;&amp;=)   a &amp;&amp;= b 等同于 a &amp;&amp; (a = b);</p> <p data-v-3af8a195>a ??= b  等价于 a = a ?? (a = b)</p> <p data-v-3af8a195>??=可用来补充/初始化缺失的属性</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>const</span> pages <span class="token operator" data-v-3af8a195>=</span> <span class="token punctuation" data-v-3af8a195>[</span>
  <span class="token punctuation" data-v-3af8a195>{</span>
   title<span class="token operator" data-v-3af8a195>:</span><span class="token string" data-v-3af8a195>'主会场'</span><span class="token punctuation" data-v-3af8a195>,</span>
    path<span class="token operator" data-v-3af8a195>:</span><span class="token string" data-v-3af8a195>'/'</span>
  <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span>
  <span class="token punctuation" data-v-3af8a195>{</span>
    path<span class="token operator" data-v-3af8a195>:</span><span class="token string" data-v-3af8a195>'/other'</span>
  <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>,</span>
  <span class="token operator" data-v-3af8a195>...</span>
<span class="token punctuation" data-v-3af8a195>]</span>
  
<span class="token keyword" data-v-3af8a195>for</span> <span class="token punctuation" data-v-3af8a195>(</span><span class="token keyword" data-v-3af8a195>const</span> page <span class="token keyword" data-v-3af8a195>of</span> pages<span class="token punctuation" data-v-3af8a195>)</span><span class="token punctuation" data-v-3af8a195>{</span>
 page<span class="token punctuation" data-v-3af8a195>.</span>title <span class="token operator" data-v-3af8a195>??</span><span class="token operator" data-v-3af8a195>=</span> <span class="token string" data-v-3af8a195>'默认标题'</span>
<span class="token punctuation" data-v-3af8a195>}</span>
console<span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>table</span><span class="token punctuation" data-v-3af8a195>(</span>pages<span class="token punctuation" data-v-3af8a195>)</span>
<span class="token comment" data-v-3af8a195>//(index)  title         path</span>
<span class="token comment" data-v-3af8a195>//0        &quot;主会场&quot;      &quot;/&quot;</span>
<span class="token comment" data-v-3af8a195>//1        &quot;默认标题&quot;    &quot;/other&quot;</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>10</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>11</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>12</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>13</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>14</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>15</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>16</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>17</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>18</span><br data-v-3af8a195></div></div><h2 id="补充" data-v-3af8a195><a href="#补充" class="header-anchor" data-v-3af8a195>#</a> 补充</h2> <h3 id="对象动态属性" data-v-3af8a195><a href="#对象动态属性" class="header-anchor" data-v-3af8a195>#</a> 对象动态属性</h3> <p data-v-3af8a195>我们经常碰到这样的问题，无论是在微信小程序还是React中，我们需要根据某个条件去修改某个数据</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>if</span> <span class="token punctuation" data-v-3af8a195>(</span>type <span class="token operator" data-v-3af8a195>===</span> <span class="token string" data-v-3af8a195>'boy'</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token keyword" data-v-3af8a195>this</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>setData</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>{</span>
    boyName<span class="token operator" data-v-3af8a195>:</span> name
  <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span> <span class="token keyword" data-v-3af8a195>else</span> <span class="token keyword" data-v-3af8a195>if</span> <span class="token punctuation" data-v-3af8a195>(</span>type <span class="token operator" data-v-3af8a195>===</span> <span class="token string" data-v-3af8a195>'girl'</span><span class="token punctuation" data-v-3af8a195>)</span> <span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token keyword" data-v-3af8a195>this</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>setData</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>{</span>
    girlName<span class="token operator" data-v-3af8a195>:</span> name
  <span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>
<span class="token punctuation" data-v-3af8a195>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>4</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>5</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>6</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>7</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>8</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>9</span><br data-v-3af8a195></div></div><p data-v-3af8a195>我们可以这么写：</p> <div class="language-js line-numbers-mode" data-v-3af8a195><pre class="language-js" data-v-3af8a195><code data-v-3af8a195><span class="token keyword" data-v-3af8a195>this</span><span class="token punctuation" data-v-3af8a195>.</span><span class="token function" data-v-3af8a195>setData</span><span class="token punctuation" data-v-3af8a195>(</span><span class="token punctuation" data-v-3af8a195>{</span>
  <span class="token punctuation" data-v-3af8a195>[</span><span class="token template-string" data-v-3af8a195><span class="token template-punctuation string" data-v-3af8a195>`</span><span class="token interpolation" data-v-3af8a195><span class="token interpolation-punctuation punctuation" data-v-3af8a195>${</span>type<span class="token interpolation-punctuation punctuation" data-v-3af8a195>}</span></span><span class="token string" data-v-3af8a195>Name</span><span class="token template-punctuation string" data-v-3af8a195>`</span></span><span class="token punctuation" data-v-3af8a195>]</span><span class="token operator" data-v-3af8a195>:</span> name
<span class="token punctuation" data-v-3af8a195>}</span><span class="token punctuation" data-v-3af8a195>)</span>
</code></pre> <div class="line-numbers-wrapper" data-v-3af8a195><span class="line-number" data-v-3af8a195>1</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>2</span><br data-v-3af8a195><span class="line-number" data-v-3af8a195>3</span><br data-v-3af8a195></div></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">10/6/2021, 10:23:05 AM</span></div></div> <!----> </div> <!----></div><div class="global-ui"></div></div>
    <script src="/vuebloger/assets/js/app.a65085b2.js" defer></script><script src="/vuebloger/assets/js/7.02fe805f.js" defer></script><script src="/vuebloger/assets/js/1.252ffbfc.js" defer></script><script src="/vuebloger/assets/js/73.686450b9.js" defer></script><script src="/vuebloger/assets/js/30.44efcc4f.js" defer></script>
  </body>
</html>
