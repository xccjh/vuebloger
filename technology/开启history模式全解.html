<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>开启history模式全解 | 邹先生博客记录</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/vuebloger/img/logo.jpeg">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    <meta name="description" content="">
    <link rel="preload" href="/vuebloger/assets/css/0.styles.12296c3f.css" as="style"><link rel="preload" href="/vuebloger/assets/js/app.39b3045d.js" as="script"><link rel="preload" href="/vuebloger/assets/js/7.e348d6b7.js" as="script"><link rel="preload" href="/vuebloger/assets/js/1.14d9dcb0.js" as="script"><link rel="preload" href="/vuebloger/assets/js/44.b0621b94.js" as="script"><link rel="preload" href="/vuebloger/assets/js/40.e6dedebe.js" as="script"><link rel="prefetch" href="/vuebloger/assets/js/10.2fc7b3fc.js"><link rel="prefetch" href="/vuebloger/assets/js/100.1c6b4fbd.js"><link rel="prefetch" href="/vuebloger/assets/js/101.97e27c50.js"><link rel="prefetch" href="/vuebloger/assets/js/102.e5a2deab.js"><link rel="prefetch" href="/vuebloger/assets/js/103.32ac5ba2.js"><link rel="prefetch" href="/vuebloger/assets/js/104.640de69c.js"><link rel="prefetch" href="/vuebloger/assets/js/105.fcca8dcd.js"><link rel="prefetch" href="/vuebloger/assets/js/106.d3b4dcd4.js"><link rel="prefetch" href="/vuebloger/assets/js/107.759a9484.js"><link rel="prefetch" href="/vuebloger/assets/js/108.54cb9825.js"><link rel="prefetch" href="/vuebloger/assets/js/109.2405adcf.js"><link rel="prefetch" href="/vuebloger/assets/js/11.61fef990.js"><link rel="prefetch" href="/vuebloger/assets/js/110.b91858ef.js"><link rel="prefetch" href="/vuebloger/assets/js/111.632d87dc.js"><link rel="prefetch" href="/vuebloger/assets/js/112.1650baa8.js"><link rel="prefetch" href="/vuebloger/assets/js/113.546ba6d2.js"><link rel="prefetch" href="/vuebloger/assets/js/114.afc5a900.js"><link rel="prefetch" href="/vuebloger/assets/js/12.831b2cd3.js"><link rel="prefetch" href="/vuebloger/assets/js/13.930f2726.js"><link rel="prefetch" href="/vuebloger/assets/js/14.cdb322ee.js"><link rel="prefetch" href="/vuebloger/assets/js/15.2b2864bd.js"><link rel="prefetch" href="/vuebloger/assets/js/16.8fb37ecf.js"><link rel="prefetch" href="/vuebloger/assets/js/17.c190a72e.js"><link rel="prefetch" href="/vuebloger/assets/js/18.32a8ddc4.js"><link rel="prefetch" href="/vuebloger/assets/js/19.a6e920f2.js"><link rel="prefetch" href="/vuebloger/assets/js/20.8f5eaf18.js"><link rel="prefetch" href="/vuebloger/assets/js/21.6de1dc73.js"><link rel="prefetch" href="/vuebloger/assets/js/22.003a0968.js"><link rel="prefetch" href="/vuebloger/assets/js/23.755fbc7b.js"><link rel="prefetch" href="/vuebloger/assets/js/24.f72a210e.js"><link rel="prefetch" href="/vuebloger/assets/js/25.0d5e9ebb.js"><link rel="prefetch" href="/vuebloger/assets/js/26.1baa8ed4.js"><link rel="prefetch" href="/vuebloger/assets/js/27.cff734d3.js"><link rel="prefetch" href="/vuebloger/assets/js/28.443d29d0.js"><link rel="prefetch" href="/vuebloger/assets/js/29.1bbf7457.js"><link rel="prefetch" href="/vuebloger/assets/js/30.b4dac900.js"><link rel="prefetch" href="/vuebloger/assets/js/31.3518b77b.js"><link rel="prefetch" href="/vuebloger/assets/js/32.8fa8e754.js"><link rel="prefetch" href="/vuebloger/assets/js/33.e9ecdcf5.js"><link rel="prefetch" href="/vuebloger/assets/js/34.3a93b63f.js"><link rel="prefetch" href="/vuebloger/assets/js/35.01e7f3c1.js"><link rel="prefetch" href="/vuebloger/assets/js/36.c6f3d3e2.js"><link rel="prefetch" href="/vuebloger/assets/js/37.74e2cbc2.js"><link rel="prefetch" href="/vuebloger/assets/js/38.fee8d0ba.js"><link rel="prefetch" href="/vuebloger/assets/js/39.b24b1f5a.js"><link rel="prefetch" href="/vuebloger/assets/js/4.c7248bb6.js"><link rel="prefetch" href="/vuebloger/assets/js/41.33fc599c.js"><link rel="prefetch" href="/vuebloger/assets/js/42.9ba7610e.js"><link rel="prefetch" href="/vuebloger/assets/js/43.d31c9220.js"><link rel="prefetch" href="/vuebloger/assets/js/45.98d0efda.js"><link rel="prefetch" href="/vuebloger/assets/js/46.42b90d67.js"><link rel="prefetch" href="/vuebloger/assets/js/47.cb027916.js"><link rel="prefetch" href="/vuebloger/assets/js/48.b3f2b1d3.js"><link rel="prefetch" href="/vuebloger/assets/js/49.a1ee3758.js"><link rel="prefetch" href="/vuebloger/assets/js/5.cb43f664.js"><link rel="prefetch" href="/vuebloger/assets/js/50.b8fc3649.js"><link rel="prefetch" href="/vuebloger/assets/js/51.079ac320.js"><link rel="prefetch" href="/vuebloger/assets/js/52.3d3e6768.js"><link rel="prefetch" href="/vuebloger/assets/js/53.28ccd73f.js"><link rel="prefetch" href="/vuebloger/assets/js/54.e88b5073.js"><link rel="prefetch" href="/vuebloger/assets/js/55.66be78b3.js"><link rel="prefetch" href="/vuebloger/assets/js/56.3b7d2865.js"><link rel="prefetch" href="/vuebloger/assets/js/57.62e2c23a.js"><link rel="prefetch" href="/vuebloger/assets/js/58.33cf59e0.js"><link rel="prefetch" href="/vuebloger/assets/js/59.aa23eb6e.js"><link rel="prefetch" href="/vuebloger/assets/js/6.7d6d6bf3.js"><link rel="prefetch" href="/vuebloger/assets/js/60.43eca62a.js"><link rel="prefetch" href="/vuebloger/assets/js/61.afde05f3.js"><link rel="prefetch" href="/vuebloger/assets/js/62.5c628d68.js"><link rel="prefetch" href="/vuebloger/assets/js/63.eb06e04f.js"><link rel="prefetch" href="/vuebloger/assets/js/64.e1ff5f6c.js"><link rel="prefetch" href="/vuebloger/assets/js/65.706c019d.js"><link rel="prefetch" href="/vuebloger/assets/js/66.17af5e36.js"><link rel="prefetch" href="/vuebloger/assets/js/67.8fcb1099.js"><link rel="prefetch" href="/vuebloger/assets/js/68.29293823.js"><link rel="prefetch" href="/vuebloger/assets/js/69.b905cf69.js"><link rel="prefetch" href="/vuebloger/assets/js/70.fa5e80e5.js"><link rel="prefetch" href="/vuebloger/assets/js/71.1157139f.js"><link rel="prefetch" href="/vuebloger/assets/js/72.a7dd38b1.js"><link rel="prefetch" href="/vuebloger/assets/js/73.a48ea02e.js"><link rel="prefetch" href="/vuebloger/assets/js/74.1342013a.js"><link rel="prefetch" href="/vuebloger/assets/js/75.13621e01.js"><link rel="prefetch" href="/vuebloger/assets/js/76.b44b084d.js"><link rel="prefetch" href="/vuebloger/assets/js/77.424e06cb.js"><link rel="prefetch" href="/vuebloger/assets/js/78.74a78c34.js"><link rel="prefetch" href="/vuebloger/assets/js/79.a2fc33f8.js"><link rel="prefetch" href="/vuebloger/assets/js/8.b7ec17f9.js"><link rel="prefetch" href="/vuebloger/assets/js/80.19a1ff7e.js"><link rel="prefetch" href="/vuebloger/assets/js/81.771ac916.js"><link rel="prefetch" href="/vuebloger/assets/js/82.cb79a226.js"><link rel="prefetch" href="/vuebloger/assets/js/83.d8e5a649.js"><link rel="prefetch" href="/vuebloger/assets/js/84.d5b9176f.js"><link rel="prefetch" href="/vuebloger/assets/js/85.69e9d8e1.js"><link rel="prefetch" href="/vuebloger/assets/js/86.0d01c452.js"><link rel="prefetch" href="/vuebloger/assets/js/87.d27781eb.js"><link rel="prefetch" href="/vuebloger/assets/js/88.569e125b.js"><link rel="prefetch" href="/vuebloger/assets/js/89.0c7accb5.js"><link rel="prefetch" href="/vuebloger/assets/js/9.6529d756.js"><link rel="prefetch" href="/vuebloger/assets/js/90.e32e8f67.js"><link rel="prefetch" href="/vuebloger/assets/js/91.a5cdd295.js"><link rel="prefetch" href="/vuebloger/assets/js/92.95203972.js"><link rel="prefetch" href="/vuebloger/assets/js/93.06e32369.js"><link rel="prefetch" href="/vuebloger/assets/js/94.0d184ec2.js"><link rel="prefetch" href="/vuebloger/assets/js/95.5a3c328b.js"><link rel="prefetch" href="/vuebloger/assets/js/96.b060bc22.js"><link rel="prefetch" href="/vuebloger/assets/js/97.0f9e444b.js"><link rel="prefetch" href="/vuebloger/assets/js/98.b4a194b4.js"><link rel="prefetch" href="/vuebloger/assets/js/99.3167c0e7.js"><link rel="prefetch" href="/vuebloger/assets/js/vendors~docsearch.02f16de3.js">
    <link rel="stylesheet" href="/vuebloger/assets/css/0.styles.12296c3f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuebloger/" class="home-link router-link-active"><img src="/vuebloger/img/logo.jpeg" alt="邹先生博客记录" class="logo"> <span class="site-name can-hide">邹先生博客记录</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuebloger/timeLine/" class="nav-link">首页</a></div><div class="nav-item"><a href="/vuebloger/technology/" class="nav-link router-link-active">技术</a></div><div class="nav-item"><a href="/vuebloger/life/" class="nav-link">生活</a></div><div class="nav-item"><a href="/vuebloger/bake/" class="nav-link">备忘</a></div><div class="nav-item"><a href="/vuebloger/tags/" class="nav-link">标签库</a></div><div class="nav-item"><a href="/vuebloger/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/vuebloger/massage/" class="nav-link">留言板</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">链接</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/xccjh/projects" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://nextjs.frontendx.cn/docs/#%E5%AE%89%E8%A3%85" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nextjs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://zh.nuxtjs.org/guide/installation" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nuxtjs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://angularjs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AngularJS
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://reactnative.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ReactNative
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://element-cn.eleme.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ElementUI
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://youzan.github.io/vant/#/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vant
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://www.fontawesome.com.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Fontawesome
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/miniprogram/dev/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MiniProgram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://reacttraining.com/react-router/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  react-router-dom
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://webpack.js.org/concepts/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  webpack
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.babeljs.cn/docs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  babel
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://eslint.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  eslint
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.swiper.com.cn/api/index.html/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  swiper
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://momentjs.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  momentjs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.runoob.com/linux/linux-shell.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  shell
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://lodash.com/docs/4.17.15#template" target="_blank" rel="noopener noreferrer" class="nav-link external">
  lodash
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://koa.bootcss.com/#links" target="_blank" rel="noopener noreferrer" class="nav-link external">
  koa
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://jestjs.io/docs/en/getting-started" target="_blank" rel="noopener noreferrer" class="nav-link external">
  jest
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://aui.github.io/art-template/zh-cn/docs/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  art-template
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://ejs.bootcss.com/#docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ejs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.layui.com/doc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  layui
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://antv-g2.gitee.io/zh/examples/gallery" target="_blank" rel="noopener noreferrer" class="nav-link external">
  G2
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.echartsjs.com/zh/option.html#title" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ECharts
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.vagrantup.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vagrant
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  docker
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="/vuebloger/technology/ https:/www.runoob.com/redis/redis-tutorial.html" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="https://www.runoob.com/mysql/mysql-tutorial.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  mysql
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://leafletjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  leaflet
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.tslang.cn/docs/home.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TypeScript
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://docschina.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  印记中文
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav> <div style="margin-left:20px;margin-right:20px;">
    音乐
    <div role="switch" class="el-switch"><input type="checkbox" name="" true-value="true" class="el-switch__input"><!----><span class="el-switch__core" style="width:40px;"></span><!----></div> <audio><source src="/vuebloger/mp3/065b_520b_0409_111c898908eab454414c3c326fe77c36.mp3" type="audio/mpeg"></audio></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuebloger/timeLine/" class="nav-link">首页</a></div><div class="nav-item"><a href="/vuebloger/technology/" class="nav-link router-link-active">技术</a></div><div class="nav-item"><a href="/vuebloger/life/" class="nav-link">生活</a></div><div class="nav-item"><a href="/vuebloger/bake/" class="nav-link">备忘</a></div><div class="nav-item"><a href="/vuebloger/tags/" class="nav-link">标签库</a></div><div class="nav-item"><a href="/vuebloger/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/vuebloger/massage/" class="nav-link">留言板</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">链接</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/xccjh/projects" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://nextjs.frontendx.cn/docs/#%E5%AE%89%E8%A3%85" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nextjs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://zh.nuxtjs.org/guide/installation" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nuxtjs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://angularjs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AngularJS
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://reactnative.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ReactNative
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://element-cn.eleme.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ElementUI
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://youzan.github.io/vant/#/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vant
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://www.fontawesome.com.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Fontawesome
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/miniprogram/dev/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MiniProgram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://reacttraining.com/react-router/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  react-router-dom
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://webpack.js.org/concepts/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  webpack
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.babeljs.cn/docs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  babel
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://eslint.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  eslint
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.swiper.com.cn/api/index.html/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  swiper
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://momentjs.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  momentjs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.runoob.com/linux/linux-shell.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  shell
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://lodash.com/docs/4.17.15#template" target="_blank" rel="noopener noreferrer" class="nav-link external">
  lodash
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://koa.bootcss.com/#links" target="_blank" rel="noopener noreferrer" class="nav-link external">
  koa
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://jestjs.io/docs/en/getting-started" target="_blank" rel="noopener noreferrer" class="nav-link external">
  jest
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://aui.github.io/art-template/zh-cn/docs/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  art-template
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://ejs.bootcss.com/#docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ejs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.layui.com/doc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  layui
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://antv-g2.gitee.io/zh/examples/gallery" target="_blank" rel="noopener noreferrer" class="nav-link external">
  G2
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.echartsjs.com/zh/option.html#title" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ECharts
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.vagrantup.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vagrant
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  docker
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="/vuebloger/technology/ https:/www.runoob.com/redis/redis-tutorial.html" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="https://www.runoob.com/mysql/mysql-tutorial.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  mysql
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://leafletjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  leaflet
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.tslang.cn/docs/home.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TypeScript
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://docschina.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  印记中文
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>开启history模式全解</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/vuebloger/technology/%E5%BC%80%E5%90%AFhistory%E6%A8%A1%E5%BC%8F%E5%85%A8%E8%A7%A3.html#开启history模式全解" class="sidebar-link">开启history模式全解</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuebloger/technology/%E5%BC%80%E5%90%AFhistory%E6%A8%A1%E5%BC%8F%E5%85%A8%E8%A7%A3.html#node开启history" class="sidebar-link">node开启history</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuebloger/technology/%E5%BC%80%E5%90%AFhistory%E6%A8%A1%E5%BC%8F%E5%85%A8%E8%A7%A3.html#angular开启history" class="sidebar-link">angular开启history</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuebloger/technology/%E5%BC%80%E5%90%AFhistory%E6%A8%A1%E5%BC%8F%E5%85%A8%E8%A7%A3.html#react开启history" class="sidebar-link">react开启history</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuebloger/technology/%E5%BC%80%E5%90%AFhistory%E6%A8%A1%E5%BC%8F%E5%85%A8%E8%A7%A3.html#vue开启history" class="sidebar-link">vue开启history</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuebloger/technology/%E5%BC%80%E5%90%AFhistory%E6%A8%A1%E5%BC%8F%E5%85%A8%E8%A7%A3.html#nginx开启history" class="sidebar-link">nginx开启history</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuebloger/technology/%E5%BC%80%E5%90%AFhistory%E6%A8%A1%E5%BC%8F%E5%85%A8%E8%A7%A3.html#try-files" class="sidebar-link">try_files</a></li></ul></li><li><a href="/vuebloger/technology/%E5%BC%80%E5%90%AFhistory%E6%A8%A1%E5%BC%8F%E5%85%A8%E8%A7%A3.html#oss开启history" class="sidebar-link">oss开启history</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuebloger/technology/%E5%BC%80%E5%90%AFhistory%E6%A8%A1%E5%BC%8F%E5%85%A8%E8%A7%A3.html#配置oss404重定向" class="sidebar-link">配置oss404重定向</a></li><li class="sidebar-sub-header"><a href="/vuebloger/technology/%E5%BC%80%E5%90%AFhistory%E6%A8%A1%E5%BC%8F%E5%85%A8%E8%A7%A3.html#配置路由拦截跳转" class="sidebar-link">配置路由拦截跳转</a></li></ul></li><li><a href="/vuebloger/technology/%E5%BC%80%E5%90%AFhistory%E6%A8%A1%E5%BC%8F%E5%85%A8%E8%A7%A3.html#oss回源热发布实现" class="sidebar-link">oss回源热发布实现</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuebloger/technology/%E5%BC%80%E5%90%AFhistory%E6%A8%A1%E5%BC%8F%E5%85%A8%E8%A7%A3.html#oss指定大小图片" class="sidebar-link">oss指定大小图片</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content__default" data-v-4001e54a data-v-4001e54a><h2 id="开启history模式全解" data-v-4001e54a><a href="#开启history模式全解" class="header-anchor" data-v-4001e54a>#</a> 开启history模式全解</h2> <p data-v-4001e54a>history模式托管在webpack中需要开启historyApiFallback,具体分为开发环境History托管和打包的静态资源History托管，下面我们来看看：</p> <div class="language-js line-numbers-mode" data-v-4001e54a><pre class="language-js" data-v-4001e54a><code data-v-4001e54a><span class="token comment" data-v-4001e54a>// webpack.config.js</span>
devServer<span class="token operator" data-v-4001e54a>:</span><span class="token punctuation" data-v-4001e54a>{</span>
 historyApiFallback<span class="token operator" data-v-4001e54a>:</span> <span class="token boolean" data-v-4001e54a>true</span>
<span class="token punctuation" data-v-4001e54a>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-4001e54a><span class="line-number" data-v-4001e54a>1</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>2</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>3</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>4</span><br data-v-4001e54a></div></div> <h2 id="node开启history" data-v-4001e54a><a href="#node开启history" class="header-anchor" data-v-4001e54a>#</a> node开启history</h2> <div class="language-js line-numbers-mode" data-v-4001e54a><pre class="language-js" data-v-4001e54a><code data-v-4001e54a><span class="token keyword" data-v-4001e54a>const</span> express <span class="token operator" data-v-4001e54a>=</span> <span class="token function" data-v-4001e54a>require</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token string" data-v-4001e54a>&quot;express&quot;</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token comment" data-v-4001e54a>// const proxy = require('http-proxy-middleware');</span>
<span class="token keyword" data-v-4001e54a>const</span> history <span class="token operator" data-v-4001e54a>=</span> <span class="token function" data-v-4001e54a>require</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token string" data-v-4001e54a>'connect-history-api-fallback'</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token keyword" data-v-4001e54a>const</span> app <span class="token operator" data-v-4001e54a>=</span> <span class="token function" data-v-4001e54a>express</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token keyword" data-v-4001e54a>const</span> https <span class="token operator" data-v-4001e54a>=</span> <span class="token function" data-v-4001e54a>require</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token string" data-v-4001e54a>&quot;https&quot;</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token keyword" data-v-4001e54a>const</span> path <span class="token operator" data-v-4001e54a>=</span> <span class="token function" data-v-4001e54a>require</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token string" data-v-4001e54a>&quot;path&quot;</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token keyword" data-v-4001e54a>const</span> fs <span class="token operator" data-v-4001e54a>=</span> <span class="token function" data-v-4001e54a>require</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token string" data-v-4001e54a>&quot;fs&quot;</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token keyword" data-v-4001e54a>const</span> <span class="token constant" data-v-4001e54a>PORT</span> <span class="token operator" data-v-4001e54a>=</span> <span class="token number" data-v-4001e54a>8888</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token keyword" data-v-4001e54a>const</span> privateKey <span class="token operator" data-v-4001e54a>=</span> fs<span class="token punctuation" data-v-4001e54a>.</span><span class="token function" data-v-4001e54a>readFileSync</span><span class="token punctuation" data-v-4001e54a>(</span>path<span class="token punctuation" data-v-4001e54a>.</span><span class="token function" data-v-4001e54a>join</span><span class="token punctuation" data-v-4001e54a>(</span>__dirname<span class="token punctuation" data-v-4001e54a>,</span> <span class="token string" data-v-4001e54a>&quot;./private.key&quot;</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>,</span> <span class="token string" data-v-4001e54a>&quot;utf8&quot;</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token keyword" data-v-4001e54a>const</span> certificate <span class="token operator" data-v-4001e54a>=</span> fs<span class="token punctuation" data-v-4001e54a>.</span><span class="token function" data-v-4001e54a>readFileSync</span><span class="token punctuation" data-v-4001e54a>(</span>path<span class="token punctuation" data-v-4001e54a>.</span><span class="token function" data-v-4001e54a>join</span><span class="token punctuation" data-v-4001e54a>(</span>__dirname<span class="token punctuation" data-v-4001e54a>,</span> <span class="token string" data-v-4001e54a>&quot;./file.crt&quot;</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>,</span> <span class="token string" data-v-4001e54a>&quot;utf8&quot;</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token keyword" data-v-4001e54a>const</span> credentials <span class="token operator" data-v-4001e54a>=</span> <span class="token punctuation" data-v-4001e54a>{</span>key<span class="token operator" data-v-4001e54a>:</span> privateKey<span class="token punctuation" data-v-4001e54a>,</span> cert<span class="token operator" data-v-4001e54a>:</span> certificate<span class="token punctuation" data-v-4001e54a>}</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token keyword" data-v-4001e54a>const</span> server <span class="token operator" data-v-4001e54a>=</span> https<span class="token punctuation" data-v-4001e54a>.</span><span class="token function" data-v-4001e54a>createServer</span><span class="token punctuation" data-v-4001e54a>(</span>credentials<span class="token punctuation" data-v-4001e54a>,</span> app<span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token keyword" data-v-4001e54a>const</span> httpsArgv <span class="token operator" data-v-4001e54a>=</span> process<span class="token punctuation" data-v-4001e54a>.</span>argv<span class="token punctuation" data-v-4001e54a>.</span><span class="token function" data-v-4001e54a>slice</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token number" data-v-4001e54a>2</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>[</span><span class="token number" data-v-4001e54a>0</span><span class="token punctuation" data-v-4001e54a>]</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token keyword" data-v-4001e54a>const</span> flag <span class="token operator" data-v-4001e54a>=</span> httpsArgv <span class="token operator" data-v-4001e54a>&amp;&amp;</span> httpsArgv<span class="token punctuation" data-v-4001e54a>.</span><span class="token function" data-v-4001e54a>split</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token string" data-v-4001e54a>'='</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>[</span><span class="token number" data-v-4001e54a>1</span><span class="token punctuation" data-v-4001e54a>]</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token keyword" data-v-4001e54a>const</span> serverInstance <span class="token operator" data-v-4001e54a>=</span> flag <span class="token operator" data-v-4001e54a>?</span> server <span class="token operator" data-v-4001e54a>:</span> app<span class="token punctuation" data-v-4001e54a>;</span> <span class="token comment" data-v-4001e54a>// 开启history模式</span>
<span class="token keyword" data-v-4001e54a>const</span> protocol <span class="token operator" data-v-4001e54a>=</span> flag <span class="token operator" data-v-4001e54a>?</span> <span class="token string" data-v-4001e54a>'https'</span> <span class="token operator" data-v-4001e54a>:</span> <span class="token string" data-v-4001e54a>'http'</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token comment" data-v-4001e54a>// 路径以 '/api' 的配置</span>
<span class="token comment" data-v-4001e54a>// const apiProxy = proxy('/api/**', {</span>
<span class="token comment" data-v-4001e54a>//   target: &quot;http://localhost:3000&quot;,</span>
<span class="token comment" data-v-4001e54a>//   changeOrigin: true,</span>
<span class="token comment" data-v-4001e54a>//   pathRewrite: {</span>
<span class="token comment" data-v-4001e54a>//     &quot;^/api&quot;: &quot;&quot;</span>
<span class="token comment" data-v-4001e54a>//   }</span>
<span class="token comment" data-v-4001e54a>// });</span>
<span class="token comment" data-v-4001e54a>// 路径以 '/' 的配置</span>
<span class="token comment" data-v-4001e54a>// const apiProxy = proxy('/**', {</span>
<span class="token comment" data-v-4001e54a>//   target: &quot;http://localhost:3000&quot;,</span>
<span class="token comment" data-v-4001e54a>//   changeOrigin: true</span>
<span class="token comment" data-v-4001e54a>// });</span>
<span class="token comment" data-v-4001e54a>// app.use(apiProxy);</span>
serverInstance<span class="token punctuation" data-v-4001e54a>.</span><span class="token function" data-v-4001e54a>use</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token function" data-v-4001e54a>history</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token punctuation" data-v-4001e54a>{</span>
  verbose<span class="token operator" data-v-4001e54a>:</span> <span class="token boolean" data-v-4001e54a>true</span><span class="token punctuation" data-v-4001e54a>,</span>
  index<span class="token operator" data-v-4001e54a>:</span> <span class="token string" data-v-4001e54a>'/scholar'</span> <span class="token comment" data-v-4001e54a>// 设置基础路径</span>
<span class="token punctuation" data-v-4001e54a>}</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>)</span>
app<span class="token punctuation" data-v-4001e54a>.</span><span class="token function" data-v-4001e54a>use</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token string" data-v-4001e54a>'/scholar'</span><span class="token punctuation" data-v-4001e54a>,</span>express<span class="token punctuation" data-v-4001e54a>.</span><span class="token function" data-v-4001e54a>static</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token string" data-v-4001e54a>&quot;dist/ky-scholar-web&quot;</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token comment" data-v-4001e54a>// history模式默认首页</span>
serverInstance<span class="token punctuation" data-v-4001e54a>.</span><span class="token function" data-v-4001e54a>get</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token string" data-v-4001e54a>&quot;/scholar&quot;</span><span class="token punctuation" data-v-4001e54a>,</span> <span class="token keyword" data-v-4001e54a>function</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token parameter" data-v-4001e54a>req<span class="token punctuation" data-v-4001e54a>,</span> res</span><span class="token punctuation" data-v-4001e54a>)</span> <span class="token punctuation" data-v-4001e54a>{</span>
  res<span class="token punctuation" data-v-4001e54a>.</span><span class="token function" data-v-4001e54a>sendFile</span><span class="token punctuation" data-v-4001e54a>(</span>path<span class="token punctuation" data-v-4001e54a>.</span><span class="token function" data-v-4001e54a>join</span><span class="token punctuation" data-v-4001e54a>(</span>__dirname<span class="token punctuation" data-v-4001e54a>,</span> <span class="token string" data-v-4001e54a>&quot;dist/ky-scholar-web/index.html&quot;</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>)</span>
<span class="token punctuation" data-v-4001e54a>}</span><span class="token punctuation" data-v-4001e54a>)</span>
serverInstance<span class="token punctuation" data-v-4001e54a>.</span><span class="token function" data-v-4001e54a>listen</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token constant" data-v-4001e54a>PORT</span><span class="token punctuation" data-v-4001e54a>,</span> <span class="token keyword" data-v-4001e54a>function</span> <span class="token punctuation" data-v-4001e54a>(</span><span class="token parameter" data-v-4001e54a>err</span><span class="token punctuation" data-v-4001e54a>)</span> <span class="token punctuation" data-v-4001e54a>{</span>
  <span class="token keyword" data-v-4001e54a>if</span> <span class="token punctuation" data-v-4001e54a>(</span>err<span class="token punctuation" data-v-4001e54a>)</span> <span class="token punctuation" data-v-4001e54a>{</span>
    console<span class="token punctuation" data-v-4001e54a>.</span><span class="token function" data-v-4001e54a>log</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token string" data-v-4001e54a>&quot;err :&quot;</span><span class="token punctuation" data-v-4001e54a>,</span> err<span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>;</span>
  <span class="token punctuation" data-v-4001e54a>}</span> <span class="token keyword" data-v-4001e54a>else</span> <span class="token punctuation" data-v-4001e54a>{</span>
    console<span class="token punctuation" data-v-4001e54a>.</span><span class="token function" data-v-4001e54a>log</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token string" data-v-4001e54a>&quot;Listen at &quot;</span> <span class="token operator" data-v-4001e54a>+</span> protocol <span class="token operator" data-v-4001e54a>+</span> <span class="token string" data-v-4001e54a>&quot;://localhost:&quot;</span> <span class="token operator" data-v-4001e54a>+</span> <span class="token constant" data-v-4001e54a>PORT</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>;</span>
    console<span class="token punctuation" data-v-4001e54a>.</span><span class="token function" data-v-4001e54a>log</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token string" data-v-4001e54a>&quot;Listen at &quot;</span> <span class="token operator" data-v-4001e54a>+</span> protocol <span class="token operator" data-v-4001e54a>+</span> <span class="token string" data-v-4001e54a>&quot;://ky.qicoursezjh.com:&quot;</span> <span class="token operator" data-v-4001e54a>+</span> <span class="token constant" data-v-4001e54a>PORT</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>;</span>
  <span class="token punctuation" data-v-4001e54a>}</span>
<span class="token punctuation" data-v-4001e54a>}</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>;</span>
</code></pre> <div class="line-numbers-wrapper" data-v-4001e54a><span class="line-number" data-v-4001e54a>1</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>2</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>3</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>4</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>5</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>6</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>7</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>8</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>9</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>10</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>11</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>12</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>13</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>14</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>15</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>16</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>17</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>18</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>19</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>20</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>21</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>22</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>23</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>24</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>25</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>26</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>27</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>28</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>29</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>30</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>31</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>32</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>33</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>34</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>35</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>36</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>37</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>38</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>39</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>40</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>41</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>42</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>43</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>44</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>45</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>46</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>47</span><br data-v-4001e54a></div></div><h2 id="angular开启history" data-v-4001e54a><a href="#angular开启history" class="header-anchor" data-v-4001e54a>#</a> angular开启history</h2> <div class="language-js line-numbers-mode" data-v-4001e54a><pre class="language-js" data-v-4001e54a><code data-v-4001e54a><span class="token comment" data-v-4001e54a>// 在根模块开启</span>
providers<span class="token operator" data-v-4001e54a>:</span> <span class="token punctuation" data-v-4001e54a>[</span>
    <span class="token comment" data-v-4001e54a>// {provide: LocationStrategy, useClass: HashLocationStrategy}, // 默认模式是history</span>
    <span class="token punctuation" data-v-4001e54a>{</span>provide<span class="token operator" data-v-4001e54a>:</span> <span class="token constant" data-v-4001e54a>APP_BASE_HREF</span><span class="token punctuation" data-v-4001e54a>,</span> useValue<span class="token operator" data-v-4001e54a>:</span> process<span class="token punctuation" data-v-4001e54a>.</span>env<span class="token punctuation" data-v-4001e54a>.</span>environment <span class="token operator" data-v-4001e54a>!==</span> <span class="token string" data-v-4001e54a>'development'</span> <span class="token operator" data-v-4001e54a>?</span> <span class="token string" data-v-4001e54a>'/scholar/'</span> <span class="token operator" data-v-4001e54a>:</span> <span class="token string" data-v-4001e54a>'/'</span><span class="token punctuation" data-v-4001e54a>}</span><span class="token punctuation" data-v-4001e54a>,</span> <span class="token comment" data-v-4001e54a>// 配置基路径</span>
  <span class="token punctuation" data-v-4001e54a>]</span><span class="token punctuation" data-v-4001e54a>,</span>
<span class="token comment" data-v-4001e54a>// package.json</span>
<span class="token string" data-v-4001e54a>&quot;build:test&quot;</span><span class="token operator" data-v-4001e54a>:</span> <span class="token string" data-v-4001e54a>&quot;cross-env NODE_ENV=test npm run build -- --configuration=test --base-href=/scholar/&quot;</span><span class="token punctuation" data-v-4001e54a>,</span> <span class="token comment" data-v-4001e54a>// 或者这里配置基路径</span>
</code></pre> <div class="line-numbers-wrapper" data-v-4001e54a><span class="line-number" data-v-4001e54a>1</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>2</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>3</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>4</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>5</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>6</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>7</span><br data-v-4001e54a></div></div><h2 id="react开启history" data-v-4001e54a><a href="#react开启history" class="header-anchor" data-v-4001e54a>#</a> react开启history</h2> <div class="language-js line-numbers-mode" data-v-4001e54a><pre class="language-js" data-v-4001e54a><code data-v-4001e54a><span class="token comment" data-v-4001e54a>// App.js</span>
<span class="token keyword" data-v-4001e54a>import</span> Login <span class="token keyword" data-v-4001e54a>from</span> <span class="token string" data-v-4001e54a>'./pages/login'</span>
<span class="token keyword" data-v-4001e54a>import</span> Register <span class="token keyword" data-v-4001e54a>from</span> <span class="token string" data-v-4001e54a>'./pages/register'</span>
<span class="token keyword" data-v-4001e54a>import</span> <span class="token punctuation" data-v-4001e54a>{</span>Route<span class="token punctuation" data-v-4001e54a>,</span> Redirect<span class="token punctuation" data-v-4001e54a>,</span> Switch<span class="token punctuation" data-v-4001e54a>,</span> HashRouter <span class="token punctuation" data-v-4001e54a>,</span>Router<span class="token punctuation" data-v-4001e54a>}</span> <span class="token keyword" data-v-4001e54a>from</span> <span class="token string" data-v-4001e54a>'react-router-dom'</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token keyword" data-v-4001e54a>import</span> createBrowserHistory <span class="token keyword" data-v-4001e54a>from</span> <span class="token string" data-v-4001e54a>&quot;history/createBrowserHistory&quot;</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token keyword" data-v-4001e54a>const</span> customHistory <span class="token operator" data-v-4001e54a>=</span> <span class="token function" data-v-4001e54a>createBrowserHistory</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token punctuation" data-v-4001e54a>{</span> <span class="token comment" data-v-4001e54a>//  配置基路径</span>
    basename<span class="token operator" data-v-4001e54a>:</span><span class="token string" data-v-4001e54a>'web/'</span>
<span class="token punctuation" data-v-4001e54a>}</span><span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token keyword" data-v-4001e54a>function</span> <span class="token function" data-v-4001e54a>App</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token punctuation" data-v-4001e54a>)</span> <span class="token punctuation" data-v-4001e54a>{</span>
    <span class="token keyword" data-v-4001e54a>return</span> <span class="token punctuation" data-v-4001e54a>(</span>
        <span class="token operator" data-v-4001e54a>&lt;</span>Router history<span class="token operator" data-v-4001e54a>=</span><span class="token punctuation" data-v-4001e54a>{</span>customHistory<span class="token punctuation" data-v-4001e54a>}</span> <span class="token operator" data-v-4001e54a>&gt;</span> <span class="token punctuation" data-v-4001e54a>{</span><span class="token comment" data-v-4001e54a>/* 使用history模式 */</span><span class="token punctuation" data-v-4001e54a>}</span>
            <span class="token operator" data-v-4001e54a>&lt;</span>Switch<span class="token operator" data-v-4001e54a>&gt;</span>
                <span class="token operator" data-v-4001e54a>&lt;</span>Route path<span class="token operator" data-v-4001e54a>=</span><span class="token string" data-v-4001e54a>'/login'</span> exact component<span class="token operator" data-v-4001e54a>=</span><span class="token punctuation" data-v-4001e54a>{</span>Login<span class="token punctuation" data-v-4001e54a>}</span><span class="token operator" data-v-4001e54a>&gt;</span><span class="token operator" data-v-4001e54a>&lt;</span><span class="token operator" data-v-4001e54a>/</span>Route<span class="token operator" data-v-4001e54a>&gt;</span>
                <span class="token operator" data-v-4001e54a>&lt;</span>Route path<span class="token operator" data-v-4001e54a>=</span><span class="token string" data-v-4001e54a>'/register'</span> exact component<span class="token operator" data-v-4001e54a>=</span><span class="token punctuation" data-v-4001e54a>{</span>Register<span class="token punctuation" data-v-4001e54a>}</span><span class="token operator" data-v-4001e54a>&gt;</span><span class="token operator" data-v-4001e54a>&lt;</span><span class="token operator" data-v-4001e54a>/</span>Route<span class="token operator" data-v-4001e54a>&gt;</span>
                <span class="token operator" data-v-4001e54a>&lt;</span>Redirect <span class="token keyword" data-v-4001e54a>from</span><span class="token operator" data-v-4001e54a>=</span><span class="token string" data-v-4001e54a>'/'</span> to<span class="token operator" data-v-4001e54a>=</span><span class="token string" data-v-4001e54a>'/login'</span><span class="token operator" data-v-4001e54a>&gt;</span><span class="token operator" data-v-4001e54a>&lt;</span><span class="token operator" data-v-4001e54a>/</span>Redirect<span class="token operator" data-v-4001e54a>&gt;</span>
            <span class="token operator" data-v-4001e54a>&lt;</span><span class="token operator" data-v-4001e54a>/</span>Switch<span class="token operator" data-v-4001e54a>&gt;</span>
        <span class="token operator" data-v-4001e54a>&lt;</span><span class="token operator" data-v-4001e54a>/</span>Router<span class="token operator" data-v-4001e54a>&gt;</span>
    <span class="token punctuation" data-v-4001e54a>)</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token punctuation" data-v-4001e54a>}</span>
<span class="token keyword" data-v-4001e54a>export</span> <span class="token keyword" data-v-4001e54a>default</span> App<span class="token punctuation" data-v-4001e54a>;</span>
</code></pre> <div class="line-numbers-wrapper" data-v-4001e54a><span class="line-number" data-v-4001e54a>1</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>2</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>3</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>4</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>5</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>6</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>7</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>8</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>9</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>10</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>11</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>12</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>13</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>14</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>15</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>16</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>17</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>18</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>19</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>20</span><br data-v-4001e54a></div></div><h2 id="vue开启history" data-v-4001e54a><a href="#vue开启history" class="header-anchor" data-v-4001e54a>#</a> vue开启history</h2> <div class="language-js line-numbers-mode" data-v-4001e54a><pre class="language-js" data-v-4001e54a><code data-v-4001e54a><span class="token comment" data-v-4001e54a>// router.js</span>
<span class="token keyword" data-v-4001e54a>import</span> Vue <span class="token keyword" data-v-4001e54a>from</span> <span class="token string" data-v-4001e54a>'vue'</span>
<span class="token keyword" data-v-4001e54a>import</span> VueRouter <span class="token keyword" data-v-4001e54a>from</span> <span class="token string" data-v-4001e54a>'vue-router'</span>
<span class="token keyword" data-v-4001e54a>import</span> Home <span class="token keyword" data-v-4001e54a>from</span> <span class="token string" data-v-4001e54a>'../views/Home.vue'</span>
Vue<span class="token punctuation" data-v-4001e54a>.</span><span class="token function" data-v-4001e54a>use</span><span class="token punctuation" data-v-4001e54a>(</span>VueRouter<span class="token punctuation" data-v-4001e54a>)</span>
<span class="token keyword" data-v-4001e54a>const</span> routes <span class="token operator" data-v-4001e54a>=</span> <span class="token punctuation" data-v-4001e54a>[</span>
  <span class="token punctuation" data-v-4001e54a>{</span>
    path<span class="token operator" data-v-4001e54a>:</span> <span class="token string" data-v-4001e54a>'/'</span><span class="token punctuation" data-v-4001e54a>,</span>
    name<span class="token operator" data-v-4001e54a>:</span> <span class="token string" data-v-4001e54a>'Home'</span><span class="token punctuation" data-v-4001e54a>,</span>
    component<span class="token operator" data-v-4001e54a>:</span> Home
  <span class="token punctuation" data-v-4001e54a>}</span><span class="token punctuation" data-v-4001e54a>,</span>
  <span class="token punctuation" data-v-4001e54a>{</span>
    path<span class="token operator" data-v-4001e54a>:</span> <span class="token string" data-v-4001e54a>'/about'</span><span class="token punctuation" data-v-4001e54a>,</span>
    name<span class="token operator" data-v-4001e54a>:</span> <span class="token string" data-v-4001e54a>'About'</span><span class="token punctuation" data-v-4001e54a>,</span>
    <span class="token comment" data-v-4001e54a>// route level code-splitting</span>
    <span class="token comment" data-v-4001e54a>// this generates a separate chunk (about.[hash].js) for this route</span>
    <span class="token comment" data-v-4001e54a>// which is lazy-loaded when the route is visited.</span>
    <span class="token function-variable function" data-v-4001e54a>component</span><span class="token operator" data-v-4001e54a>:</span> <span class="token punctuation" data-v-4001e54a>(</span><span class="token punctuation" data-v-4001e54a>)</span> <span class="token operator" data-v-4001e54a>=&gt;</span> <span class="token keyword" data-v-4001e54a>import</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token comment" data-v-4001e54a>/* webpackChunkName: &quot;about&quot; */</span> <span class="token string" data-v-4001e54a>'../views/About.vue'</span><span class="token punctuation" data-v-4001e54a>)</span>
  <span class="token punctuation" data-v-4001e54a>}</span>
<span class="token punctuation" data-v-4001e54a>]</span>
<span class="token keyword" data-v-4001e54a>const</span> router <span class="token operator" data-v-4001e54a>=</span> <span class="token keyword" data-v-4001e54a>new</span> <span class="token class-name" data-v-4001e54a>VueRouter</span><span class="token punctuation" data-v-4001e54a>(</span><span class="token punctuation" data-v-4001e54a>{</span>
  routes<span class="token punctuation" data-v-4001e54a>,</span>
  base<span class="token operator" data-v-4001e54a>:</span> <span class="token string" data-v-4001e54a>'/vuep'</span><span class="token punctuation" data-v-4001e54a>,</span> <span class="token comment" data-v-4001e54a>// 设置基路径</span>
  mode<span class="token operator" data-v-4001e54a>:</span> <span class="token string" data-v-4001e54a>'history'</span> <span class="token comment" data-v-4001e54a>// 开启history</span>
<span class="token punctuation" data-v-4001e54a>}</span><span class="token punctuation" data-v-4001e54a>)</span>
<span class="token keyword" data-v-4001e54a>export</span> <span class="token keyword" data-v-4001e54a>default</span> router
</code></pre> <div class="line-numbers-wrapper" data-v-4001e54a><span class="line-number" data-v-4001e54a>1</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>2</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>3</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>4</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>5</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>6</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>7</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>8</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>9</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>10</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>11</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>12</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>13</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>14</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>15</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>16</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>17</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>18</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>19</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>20</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>21</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>22</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>23</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>24</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>25</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>26</span><br data-v-4001e54a></div></div><h2 id="nginx开启history" data-v-4001e54a><a href="#nginx开启history" class="header-anchor" data-v-4001e54a>#</a> nginx开启history</h2> <p data-v-4001e54a>一级</p> <div class="language-sh line-numbers-mode" data-v-4001e54a><pre class="language-sh" data-v-4001e54a><code data-v-4001e54a>location / <span class="token punctuation" data-v-4001e54a>{</span>
 	try_files <span class="token variable" data-v-4001e54a>$uri</span> <span class="token variable" data-v-4001e54a>$uri</span>/ <span class="token variable" data-v-4001e54a>$uri</span>/index.html?<span class="token variable" data-v-4001e54a>$query_string</span><span class="token punctuation" data-v-4001e54a>;</span> <span class="token comment" data-v-4001e54a>#$uri内置变量，匹配自定义变量@web</span>
<span class="token punctuation" data-v-4001e54a>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-4001e54a><span class="line-number" data-v-4001e54a>1</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>2</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>3</span><br data-v-4001e54a></div></div><p data-v-4001e54a>多级</p> <div class="language-sh line-numbers-mode" data-v-4001e54a><pre class="language-sh" data-v-4001e54a><code data-v-4001e54a>// window本地
<span class="token comment" data-v-4001e54a># location  ~ ^/scholar/(.+\.(js|css|html|png|jpg|gif|mp3|json|jpeg|moc|mtn|svg|mp4|woff2|woff|eot|ttf|webp))$ {</span>
<span class="token comment" data-v-4001e54a>#      alias   E:/ky-scholar-web/dist/ky-scholar-web/$1;</span>
<span class="token comment" data-v-4001e54a>#      index     index.html;</span>
<span class="token comment" data-v-4001e54a>#      try_files $uri $uri/ /scholar/index.html?$query_string;</span>
<span class="token comment" data-v-4001e54a># }</span>
location /scholar <span class="token punctuation" data-v-4001e54a>{</span>
    try_files <span class="token variable" data-v-4001e54a>$uri</span> <span class="token variable" data-v-4001e54a>$uri</span>/ /scholar/index.html?<span class="token variable" data-v-4001e54a>$query_string</span><span class="token punctuation" data-v-4001e54a>;</span><span class="token comment" data-v-4001e54a>#$uri内置变量，匹配自定义变量@web</span>
<span class="token punctuation" data-v-4001e54a>}</span>
location ~ ^/scholar/<span class="token punctuation" data-v-4001e54a>(</span>.+<span class="token punctuation" data-v-4001e54a>\</span>.<span class="token punctuation" data-v-4001e54a>(</span>js<span class="token operator" data-v-4001e54a>|</span>css<span class="token operator" data-v-4001e54a>|</span>html<span class="token operator" data-v-4001e54a>|</span>png<span class="token operator" data-v-4001e54a>|</span>jpg<span class="token operator" data-v-4001e54a>|</span>gif<span class="token operator" data-v-4001e54a>|</span>mp3<span class="token operator" data-v-4001e54a>|</span>json<span class="token operator" data-v-4001e54a>|</span>jpeg<span class="token operator" data-v-4001e54a>|</span>moc<span class="token operator" data-v-4001e54a>|</span>mtn<span class="token operator" data-v-4001e54a>|</span>svg<span class="token operator" data-v-4001e54a>|</span>mp4<span class="token operator" data-v-4001e54a>|</span>woff2<span class="token operator" data-v-4001e54a>|</span>woff<span class="token operator" data-v-4001e54a>|</span>eot<span class="token operator" data-v-4001e54a>|</span>ttf<span class="token operator" data-v-4001e54a>|</span>webp<span class="token punctuation" data-v-4001e54a>))</span>$ <span class="token punctuation" data-v-4001e54a>{</span>
    <span class="token builtin class-name" data-v-4001e54a>alias</span> E:/ky-scholar-web/dist/ky-scholar-web/<span class="token variable" data-v-4001e54a>$1</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token punctuation" data-v-4001e54a>}</span>


// linux服务端
<span class="token comment" data-v-4001e54a>#user  nobody;</span>
worker_processes  <span class="token number" data-v-4001e54a>1</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token comment" data-v-4001e54a>#error_log  logs/error.log;</span>
<span class="token comment" data-v-4001e54a>#error_log  logs/error.log  notice;</span>
<span class="token comment" data-v-4001e54a>#error_log  logs/error.log  info;</span>
<span class="token comment" data-v-4001e54a>#pid        logs/nginx.pid;</span>
events <span class="token punctuation" data-v-4001e54a>{</span>
    worker_connections  <span class="token number" data-v-4001e54a>1024</span><span class="token punctuation" data-v-4001e54a>;</span>
<span class="token punctuation" data-v-4001e54a>}</span>
http <span class="token punctuation" data-v-4001e54a>{</span>
    include       mime.types<span class="token punctuation" data-v-4001e54a>;</span>
    default_type  application/octet-stream<span class="token punctuation" data-v-4001e54a>;</span>
    <span class="token comment" data-v-4001e54a>#log_format  main  '$remote_addr - $remote_user [$time_local] &quot;$request&quot; '</span>
    <span class="token comment" data-v-4001e54a>#                  '$status $body_bytes_sent &quot;$http_referer&quot; '</span>
    <span class="token comment" data-v-4001e54a>#                  '&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;';</span>
    <span class="token comment" data-v-4001e54a>#access_log  logs/access.log  main;</span>
    sendfile        on<span class="token punctuation" data-v-4001e54a>;</span>
    <span class="token comment" data-v-4001e54a>#tcp_nopush     on;</span>
    <span class="token comment" data-v-4001e54a>#keepalive_timeout  0;</span>
    keepalive_timeout  <span class="token number" data-v-4001e54a>65</span><span class="token punctuation" data-v-4001e54a>;</span>
    <span class="token comment" data-v-4001e54a>#gzip  on;</span>
    server <span class="token punctuation" data-v-4001e54a>{</span>
        listen       <span class="token number" data-v-4001e54a>80</span><span class="token punctuation" data-v-4001e54a>;</span>
        server_name  localhost<span class="token punctuation" data-v-4001e54a>;</span>
        <span class="token comment" data-v-4001e54a>#charset koi8-r;</span>
        <span class="token comment" data-v-4001e54a>#access_log  logs/host.access.log  main;</span>
        location /scholar <span class="token punctuation" data-v-4001e54a>{</span>
          try_files <span class="token variable" data-v-4001e54a>$uri</span> <span class="token variable" data-v-4001e54a>$uri</span>/ /scholar/index.html?<span class="token variable" data-v-4001e54a>$query_string</span><span class="token punctuation" data-v-4001e54a>;</span><span class="token comment" data-v-4001e54a>#$uri内置变量，匹配自定义变量@web</span>
        <span class="token punctuation" data-v-4001e54a>}</span>
        location ~ ^/scholar/<span class="token punctuation" data-v-4001e54a>(</span>.+<span class="token punctuation" data-v-4001e54a>\</span>.<span class="token punctuation" data-v-4001e54a>(</span>js<span class="token operator" data-v-4001e54a>|</span>css<span class="token operator" data-v-4001e54a>|</span>html<span class="token operator" data-v-4001e54a>|</span>png<span class="token operator" data-v-4001e54a>|</span>jpg<span class="token operator" data-v-4001e54a>|</span>gif<span class="token operator" data-v-4001e54a>|</span>mp3<span class="token operator" data-v-4001e54a>|</span>json<span class="token operator" data-v-4001e54a>|</span>jpeg<span class="token operator" data-v-4001e54a>|</span>moc<span class="token operator" data-v-4001e54a>|</span>mtn<span class="token operator" data-v-4001e54a>|</span>svg<span class="token operator" data-v-4001e54a>|</span>mp4<span class="token operator" data-v-4001e54a>|</span>woff2<span class="token operator" data-v-4001e54a>|</span>woff<span class="token operator" data-v-4001e54a>|</span>eot<span class="token operator" data-v-4001e54a>|</span>ttf<span class="token operator" data-v-4001e54a>|</span>webp<span class="token punctuation" data-v-4001e54a>))</span>$ <span class="token punctuation" data-v-4001e54a>{</span>
           <span class="token builtin class-name" data-v-4001e54a>alias</span>  webscholar/<span class="token variable" data-v-4001e54a>$1</span><span class="token punctuation" data-v-4001e54a>;</span> <span class="token comment" data-v-4001e54a>#相对于nginx那个文件夹</span>
        <span class="token punctuation" data-v-4001e54a>}</span>
        <span class="token comment" data-v-4001e54a># location / {</span>
        <span class="token comment" data-v-4001e54a>#     root   html;</span>
        <span class="token comment" data-v-4001e54a>#     # try_files $uri $uri/ /vuep/index.html;</span>
        <span class="token comment" data-v-4001e54a># }</span>
        <span class="token comment" data-v-4001e54a>#error_page  404              /404.html;</span>
        <span class="token comment" data-v-4001e54a># redirect server error pages to the static page /50x.html</span>
        <span class="token comment" data-v-4001e54a>#</span>
        error_page   <span class="token number" data-v-4001e54a>500</span> <span class="token number" data-v-4001e54a>502</span> <span class="token number" data-v-4001e54a>503</span> <span class="token number" data-v-4001e54a>504</span>  /50x.html<span class="token punctuation" data-v-4001e54a>;</span>
        location <span class="token operator" data-v-4001e54a>=</span> /50x.html <span class="token punctuation" data-v-4001e54a>{</span>
            root   html<span class="token punctuation" data-v-4001e54a>;</span>
        <span class="token punctuation" data-v-4001e54a>}</span>
        <span class="token comment" data-v-4001e54a># proxy the PHP scripts to Apache listening on 127.0.0.1:80</span>
        <span class="token comment" data-v-4001e54a>#</span>
        <span class="token comment" data-v-4001e54a>#location ~ \.php$ {</span>
        <span class="token comment" data-v-4001e54a>#    proxy_pass   http://127.0.0.1;</span>
        <span class="token comment" data-v-4001e54a>#}</span>
        <span class="token comment" data-v-4001e54a># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span>
        <span class="token comment" data-v-4001e54a>#</span>
        <span class="token comment" data-v-4001e54a>#location ~ \.php$ {</span>
        <span class="token comment" data-v-4001e54a>#    root           html;</span>
        <span class="token comment" data-v-4001e54a>#    fastcgi_pass   127.0.0.1:9000;</span>
        <span class="token comment" data-v-4001e54a>#    fastcgi_index  index.php;</span>
        <span class="token comment" data-v-4001e54a>#    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span>
        <span class="token comment" data-v-4001e54a>#    include        fastcgi_params;</span>
        <span class="token comment" data-v-4001e54a>#}</span>
        <span class="token comment" data-v-4001e54a># deny access to .htaccess files, if Apache's document root</span>
        <span class="token comment" data-v-4001e54a># concurs with nginx's one</span>
        <span class="token comment" data-v-4001e54a>#</span>
        <span class="token comment" data-v-4001e54a>#location ~ /\.ht {</span>
        <span class="token comment" data-v-4001e54a>#    deny  all;</span>
        <span class="token comment" data-v-4001e54a>#}</span>
    <span class="token punctuation" data-v-4001e54a>}</span>
<span class="token punctuation" data-v-4001e54a>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-4001e54a><span class="line-number" data-v-4001e54a>1</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>2</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>3</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>4</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>5</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>6</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>7</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>8</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>9</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>10</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>11</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>12</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>13</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>14</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>15</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>16</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>17</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>18</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>19</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>20</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>21</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>22</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>23</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>24</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>25</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>26</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>27</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>28</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>29</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>30</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>31</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>32</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>33</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>34</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>35</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>36</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>37</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>38</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>39</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>40</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>41</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>42</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>43</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>44</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>45</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>46</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>47</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>48</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>49</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>50</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>51</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>52</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>53</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>54</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>55</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>56</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>57</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>58</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>59</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>60</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>61</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>62</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>63</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>64</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>65</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>66</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>67</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>68</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>69</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>70</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>71</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>72</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>73</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>74</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>75</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>76</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>77</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>78</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>79</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>80</span><br data-v-4001e54a></div></div><p data-v-4001e54a><img src="/vuebloger/img/post/Snipaste_2021-04-12_16-08-20.png" alt="" data-v-4001e54a></p> <p data-v-4001e54a>总的来说，可以使用root或alias,重点是用好重定向的配置。</p> <h3 id="try-files" data-v-4001e54a><a href="#try-files" class="header-anchor" data-v-4001e54a>#</a> try_files</h3> <p data-v-4001e54a>history关键点时重定向。下面我们看下try_files：</p> <div class="language-js line-numbers-mode" data-v-4001e54a><pre class="language-js" data-v-4001e54a><code data-v-4001e54a>#try_files $uri  @web<span class="token punctuation" data-v-4001e54a>;</span>#$uri内置变量，匹配自定义变量@web用于pass_proxy
#try_files $uri $notfound <span class="token operator" data-v-4001e54a>=</span> <span class="token number" data-v-4001e54a>404</span><span class="token punctuation" data-v-4001e54a>;</span>
#语法 ：try_files file <span class="token operator" data-v-4001e54a>...</span> uri<span class="token punctuation" data-v-4001e54a>;</span>  格式<span class="token number" data-v-4001e54a>2</span>：try_files file <span class="token operator" data-v-4001e54a>...</span> <span class="token operator" data-v-4001e54a>=</span>code<span class="token punctuation" data-v-4001e54a>;</span>
#关键点<span class="token number" data-v-4001e54a>1</span>：按指定的file顺序查找存在的文件，并使用第一个找到的文件进行请求处理
#关键点<span class="token number" data-v-4001e54a>2</span>：查找路径是按照给定的root或alias为根路径来查找的
#关键点<span class="token number" data-v-4001e54a>3</span>：如果给出的file都没有匹配到，则重新请求最后一个参数给定的uri，就是新的location匹配
#关键点<span class="token number" data-v-4001e54a>4</span>：如果是格式<span class="token number" data-v-4001e54a>2</span>，如果最后一个参数是 <span class="token operator" data-v-4001e54a>=</span> <span class="token number" data-v-4001e54a>404</span> ，若给出的file都没有匹配到，则最后返回<span class="token number" data-v-4001e54a>404</span>的响应码
#location <span class="token operator" data-v-4001e54a>/</span>images<span class="token operator" data-v-4001e54a>/</span> <span class="token punctuation" data-v-4001e54a>{</span>
#    root <span class="token operator" data-v-4001e54a>/</span>opt<span class="token operator" data-v-4001e54a>/</span>html<span class="token operator" data-v-4001e54a>/</span><span class="token punctuation" data-v-4001e54a>;</span>
#    try_files $uri   $uri<span class="token operator" data-v-4001e54a>/</span>  <span class="token operator" data-v-4001e54a>/</span>images<span class="token operator" data-v-4001e54a>/</span><span class="token keyword" data-v-4001e54a>default</span><span class="token punctuation" data-v-4001e54a>.</span>gif<span class="token punctuation" data-v-4001e54a>;</span>
#<span class="token punctuation" data-v-4001e54a>}</span>
#比如 请求 <span class="token number" data-v-4001e54a>127.0</span><span class="token number" data-v-4001e54a>.0</span><span class="token number" data-v-4001e54a>.1</span><span class="token operator" data-v-4001e54a>/</span>images<span class="token operator" data-v-4001e54a>/</span>test<span class="token punctuation" data-v-4001e54a>.</span>gif 会依次查找
#<span class="token number" data-v-4001e54a>1.</span>文件<span class="token operator" data-v-4001e54a>/</span>opt<span class="token operator" data-v-4001e54a>/</span>html<span class="token operator" data-v-4001e54a>/</span>images<span class="token operator" data-v-4001e54a>/</span>test<span class="token punctuation" data-v-4001e54a>.</span>gif
#<span class="token number" data-v-4001e54a>2.</span>文件夹 <span class="token operator" data-v-4001e54a>/</span>opt<span class="token operator" data-v-4001e54a>/</span>html<span class="token operator" data-v-4001e54a>/</span>images<span class="token operator" data-v-4001e54a>/</span>test<span class="token punctuation" data-v-4001e54a>.</span>gif<span class="token operator" data-v-4001e54a>/</span>下的index文件
#<span class="token number" data-v-4001e54a>3.</span>请求<span class="token number" data-v-4001e54a>127.0</span><span class="token number" data-v-4001e54a>.0</span><span class="token number" data-v-4001e54a>.1</span><span class="token operator" data-v-4001e54a>/</span>images<span class="token operator" data-v-4001e54a>/</span><span class="token keyword" data-v-4001e54a>default</span><span class="token punctuation" data-v-4001e54a>.</span>gif
#<span class="token number" data-v-4001e54a>4.</span>try<span class="token operator" data-v-4001e54a>-</span>files 如果不写上 $uri<span class="token operator" data-v-4001e54a>/</span>，当直接访问一个目录路径时，并不会去匹配目录下的索引页  即 访问<span class="token number" data-v-4001e54a>127.0</span><span class="token number" data-v-4001e54a>.0</span><span class="token number" data-v-4001e54a>.1</span><span class="token operator" data-v-4001e54a>/</span>images<span class="token operator" data-v-4001e54a>/</span> 不会去访问  <span class="token number" data-v-4001e54a>127.0</span><span class="token number" data-v-4001e54a>.0</span><span class="token number" data-v-4001e54a>.1</span><span class="token operator" data-v-4001e54a>/</span>images<span class="token operator" data-v-4001e54a>/</span>index<span class="token punctuation" data-v-4001e54a>.</span>html
</code></pre> <div class="line-numbers-wrapper" data-v-4001e54a><span class="line-number" data-v-4001e54a>1</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>2</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>3</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>4</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>5</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>6</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>7</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>8</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>9</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>10</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>11</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>12</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>13</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>14</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>15</span><br data-v-4001e54a><span class="line-number" data-v-4001e54a>16</span><br data-v-4001e54a></div></div><h2 id="oss开启history" data-v-4001e54a><a href="#oss开启history" class="header-anchor" data-v-4001e54a>#</a> oss开启history</h2> <h3 id="配置oss404重定向" data-v-4001e54a><a href="#配置oss404重定向" class="header-anchor" data-v-4001e54a>#</a> 配置oss404重定向</h3> <ol data-v-4001e54a><li data-v-4001e54a>默认首页</li></ol> <p data-v-4001e54a><img src="/vuebloger/img/post/Snipaste_2021-04-12_15-20-37.png" alt="" data-v-4001e54a></p> <ol start="2" data-v-4001e54a><li data-v-4001e54a>404拦截
<img src="/vuebloger/img/post/Snipaste_2021-04-12_12-03-30.png" alt="" data-v-4001e54a></li></ol> <h3 id="配置路由拦截跳转" data-v-4001e54a><a href="#配置路由拦截跳转" class="header-anchor" data-v-4001e54a>#</a> 配置路由拦截跳转</h3> <p data-v-4001e54a>在项目开启history模式基础下</p> <p data-v-4001e54a><img src="/vuebloger/img/post/Snipaste_2021-04-12_12-00-12.png" alt="" data-v-4001e54a></p> <h2 id="oss回源热发布实现" data-v-4001e54a><a href="#oss回源热发布实现" class="header-anchor" data-v-4001e54a>#</a> oss回源热发布实现</h2> <p data-v-4001e54a>很多人可能对oss 的回源不太清楚，本质是用来设置备用服务器的，即一个访问地址在一台服务器抓取不到资源的时候，会自动到回源的服务器抓取资源返回给用户并自动下载到对应访问的服务器下。</p> <p data-v-4001e54a>他的作用往往可以用来实现前端的热发布。目前大多数单页面应用都是分模块加载，而其前端发布时先删除文件再上传文件到服务器，这样带来的问题是如果在发布过程中用户正在访问服务器，当用户交互比如进入一个新页面（通常一个页面为一个模块），根据旧文件加载的新页面的资源将获取不到，导致页面直接崩掉。也就是说正在发版的几分钟内，用户是不能正常使用服务器的功能的。</p> <p data-v-4001e54a><img src="/vuebloger/img/post/Snipaste_2021-04-12_15-26-35.png" alt="" data-v-4001e54a></p> <p data-v-4001e54a>这个时候，如果你预先把发版文件部署到两个bucket，把一个bucket回源到另外一个bucket,这样，在发版时一个一个bucket发版,在发版第一个bucketh时，用户需要的旧版本文件可以在另外一个bucket抓取到，不会出现功能异常。当发完第一个bucket后删除完第二个bucket文件后，只要用户刷新一下，就又加载到了新的发版文件，实现了前端发版的热发布。即用户无需等待，体验式持续的，不会有中间几分钟白屏的问题。</p> <p data-v-4001e54a><img src="/vuebloger/img/post/Snipaste_2021-04-12_15-12-43.png" alt="" data-v-4001e54a></p> <p data-v-4001e54a>关于oss实现递归文件增删改查发版干代码详见<a href="/vuebloger/bake/实用片段备忘.html#uploadossprod" data-v-4001e54a>实用片段备忘</a></p> <h2 id="oss指定大小图片" data-v-4001e54a><a href="#oss指定大小图片" class="header-anchor" data-v-4001e54a>#</a> oss指定大小图片</h2> <p data-v-4001e54a>直接url后面添加参数即可:</p> <div class="language-js line-numbers-mode" data-v-4001e54a><pre class="language-js" data-v-4001e54a><code data-v-4001e54a><span class="token punctuation" data-v-4001e54a>[</span>imgUrl<span class="token punctuation" data-v-4001e54a>]</span> <span class="token operator" data-v-4001e54a>+</span> <span class="token string" data-v-4001e54a>&quot;x-oss-process=image/resize,m_lfit,h_250,w_200&quot;</span>  <span class="token comment" data-v-4001e54a>// 此为高250px 宽200px , 缩放模式为lfit：m_lfit</span>
</code></pre> <div class="line-numbers-wrapper" data-v-4001e54a><span class="line-number" data-v-4001e54a>1</span><br data-v-4001e54a></div></div><p data-v-4001e54a><a href="https://help.aliyun.com/document_detail/44688.html?spm=a2c4g.11186623.6.1398.50e435a8XxGqoB" target="_blank" rel="noopener noreferrer" data-v-4001e54a>oss官文<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-4001e54a data-v-4001e54a><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div><div class="global-ui"></div></div>
    <script src="/vuebloger/assets/js/app.39b3045d.js" defer></script><script src="/vuebloger/assets/js/7.e348d6b7.js" defer></script><script src="/vuebloger/assets/js/1.14d9dcb0.js" defer></script><script src="/vuebloger/assets/js/44.b0621b94.js" defer></script><script src="/vuebloger/assets/js/40.e6dedebe.js" defer></script>
  </body>
</html>
