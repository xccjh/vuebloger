<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>webpack插件原理分析 | 邹先生博客记录</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/vuebloger/img/logo.jpeg">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    <meta name="description" content="">
    <link rel="preload" href="/vuebloger/assets/css/0.styles.2e2748f8.css" as="style"><link rel="preload" href="/vuebloger/assets/js/app.a65085b2.js" as="script"><link rel="preload" href="/vuebloger/assets/js/7.02fe805f.js" as="script"><link rel="preload" href="/vuebloger/assets/js/1.252ffbfc.js" as="script"><link rel="preload" href="/vuebloger/assets/js/73.686450b9.js" as="script"><link rel="preload" href="/vuebloger/assets/js/55.39d24d6d.js" as="script"><link rel="prefetch" href="/vuebloger/assets/js/10.2fc7b3fc.js"><link rel="prefetch" href="/vuebloger/assets/js/100.fcf6680d.js"><link rel="prefetch" href="/vuebloger/assets/js/101.69820fcb.js"><link rel="prefetch" href="/vuebloger/assets/js/102.62596cc1.js"><link rel="prefetch" href="/vuebloger/assets/js/103.735a2268.js"><link rel="prefetch" href="/vuebloger/assets/js/104.421b6620.js"><link rel="prefetch" href="/vuebloger/assets/js/105.f5e2a7d0.js"><link rel="prefetch" href="/vuebloger/assets/js/106.afec1c9e.js"><link rel="prefetch" href="/vuebloger/assets/js/107.666053ae.js"><link rel="prefetch" href="/vuebloger/assets/js/108.a0cc6c24.js"><link rel="prefetch" href="/vuebloger/assets/js/109.6164bbd7.js"><link rel="prefetch" href="/vuebloger/assets/js/11.ad6acc3a.js"><link rel="prefetch" href="/vuebloger/assets/js/110.4960b345.js"><link rel="prefetch" href="/vuebloger/assets/js/111.ef01f6bb.js"><link rel="prefetch" href="/vuebloger/assets/js/112.a1ad976d.js"><link rel="prefetch" href="/vuebloger/assets/js/113.9f62ab74.js"><link rel="prefetch" href="/vuebloger/assets/js/114.4de2eed2.js"><link rel="prefetch" href="/vuebloger/assets/js/115.eda457c5.js"><link rel="prefetch" href="/vuebloger/assets/js/116.5a94abc8.js"><link rel="prefetch" href="/vuebloger/assets/js/117.e51edec8.js"><link rel="prefetch" href="/vuebloger/assets/js/118.3a4dcc09.js"><link rel="prefetch" href="/vuebloger/assets/js/119.f75dc0b8.js"><link rel="prefetch" href="/vuebloger/assets/js/12.831b2cd3.js"><link rel="prefetch" href="/vuebloger/assets/js/120.57bbd4e8.js"><link rel="prefetch" href="/vuebloger/assets/js/121.694f16e2.js"><link rel="prefetch" href="/vuebloger/assets/js/122.31dd7130.js"><link rel="prefetch" href="/vuebloger/assets/js/123.78b6861a.js"><link rel="prefetch" href="/vuebloger/assets/js/124.f6b84355.js"><link rel="prefetch" href="/vuebloger/assets/js/125.54d2fff1.js"><link rel="prefetch" href="/vuebloger/assets/js/126.8531be65.js"><link rel="prefetch" href="/vuebloger/assets/js/127.3d4251de.js"><link rel="prefetch" href="/vuebloger/assets/js/128.8169e335.js"><link rel="prefetch" href="/vuebloger/assets/js/129.4ce9bd80.js"><link rel="prefetch" href="/vuebloger/assets/js/13.930f2726.js"><link rel="prefetch" href="/vuebloger/assets/js/130.56c84295.js"><link rel="prefetch" href="/vuebloger/assets/js/131.6ab9a2c3.js"><link rel="prefetch" href="/vuebloger/assets/js/132.4d0c08ec.js"><link rel="prefetch" href="/vuebloger/assets/js/133.b79e7f13.js"><link rel="prefetch" href="/vuebloger/assets/js/134.79b04327.js"><link rel="prefetch" href="/vuebloger/assets/js/135.e9635342.js"><link rel="prefetch" href="/vuebloger/assets/js/136.7d1f576e.js"><link rel="prefetch" href="/vuebloger/assets/js/137.5ae3251d.js"><link rel="prefetch" href="/vuebloger/assets/js/138.2cf72827.js"><link rel="prefetch" href="/vuebloger/assets/js/139.7ff3499f.js"><link rel="prefetch" href="/vuebloger/assets/js/14.f14b2abd.js"><link rel="prefetch" href="/vuebloger/assets/js/140.f3c55ed2.js"><link rel="prefetch" href="/vuebloger/assets/js/141.b375515e.js"><link rel="prefetch" href="/vuebloger/assets/js/142.5e65016a.js"><link rel="prefetch" href="/vuebloger/assets/js/143.5f8e60fd.js"><link rel="prefetch" href="/vuebloger/assets/js/144.04214c0d.js"><link rel="prefetch" href="/vuebloger/assets/js/145.cc1be544.js"><link rel="prefetch" href="/vuebloger/assets/js/146.5cfc76ba.js"><link rel="prefetch" href="/vuebloger/assets/js/147.bb3dea71.js"><link rel="prefetch" href="/vuebloger/assets/js/148.7b2156a8.js"><link rel="prefetch" href="/vuebloger/assets/js/149.89021d4c.js"><link rel="prefetch" href="/vuebloger/assets/js/15.1c88a8a2.js"><link rel="prefetch" href="/vuebloger/assets/js/150.fc0ec16e.js"><link rel="prefetch" href="/vuebloger/assets/js/151.9788296d.js"><link rel="prefetch" href="/vuebloger/assets/js/152.87a7322d.js"><link rel="prefetch" href="/vuebloger/assets/js/153.e0ee9fa6.js"><link rel="prefetch" href="/vuebloger/assets/js/154.a0686333.js"><link rel="prefetch" href="/vuebloger/assets/js/155.46ac504c.js"><link rel="prefetch" href="/vuebloger/assets/js/156.d002f6a4.js"><link rel="prefetch" href="/vuebloger/assets/js/157.600eb354.js"><link rel="prefetch" href="/vuebloger/assets/js/158.37e5b3b9.js"><link rel="prefetch" href="/vuebloger/assets/js/16.dba8d6aa.js"><link rel="prefetch" href="/vuebloger/assets/js/17.5c9ff2d7.js"><link rel="prefetch" href="/vuebloger/assets/js/18.e86518d9.js"><link rel="prefetch" href="/vuebloger/assets/js/19.08ad6258.js"><link rel="prefetch" href="/vuebloger/assets/js/20.e6061b25.js"><link rel="prefetch" href="/vuebloger/assets/js/21.6de1dc73.js"><link rel="prefetch" href="/vuebloger/assets/js/22.8a055d98.js"><link rel="prefetch" href="/vuebloger/assets/js/23.5c9f8550.js"><link rel="prefetch" href="/vuebloger/assets/js/24.6502b332.js"><link rel="prefetch" href="/vuebloger/assets/js/25.8e94c39a.js"><link rel="prefetch" href="/vuebloger/assets/js/26.669df298.js"><link rel="prefetch" href="/vuebloger/assets/js/27.7db7ccee.js"><link rel="prefetch" href="/vuebloger/assets/js/28.6468cb48.js"><link rel="prefetch" href="/vuebloger/assets/js/29.495e8d7d.js"><link rel="prefetch" href="/vuebloger/assets/js/30.44efcc4f.js"><link rel="prefetch" href="/vuebloger/assets/js/31.dd3dd93a.js"><link rel="prefetch" href="/vuebloger/assets/js/32.3297950b.js"><link rel="prefetch" href="/vuebloger/assets/js/33.f5a6ecda.js"><link rel="prefetch" href="/vuebloger/assets/js/34.1b52aba9.js"><link rel="prefetch" href="/vuebloger/assets/js/35.af4f0ea3.js"><link rel="prefetch" href="/vuebloger/assets/js/36.3723753e.js"><link rel="prefetch" href="/vuebloger/assets/js/37.8d3ce716.js"><link rel="prefetch" href="/vuebloger/assets/js/38.272cc2ad.js"><link rel="prefetch" href="/vuebloger/assets/js/39.2a3b492f.js"><link rel="prefetch" href="/vuebloger/assets/js/4.7444c5d9.js"><link rel="prefetch" href="/vuebloger/assets/js/40.59f97e36.js"><link rel="prefetch" href="/vuebloger/assets/js/41.03245b0d.js"><link rel="prefetch" href="/vuebloger/assets/js/42.d5021c9c.js"><link rel="prefetch" href="/vuebloger/assets/js/43.bdf0e763.js"><link rel="prefetch" href="/vuebloger/assets/js/44.2cb98cc3.js"><link rel="prefetch" href="/vuebloger/assets/js/45.63e6440b.js"><link rel="prefetch" href="/vuebloger/assets/js/46.7784e388.js"><link rel="prefetch" href="/vuebloger/assets/js/47.d8020da4.js"><link rel="prefetch" href="/vuebloger/assets/js/48.05b856ec.js"><link rel="prefetch" href="/vuebloger/assets/js/49.3a1b9aa9.js"><link rel="prefetch" href="/vuebloger/assets/js/5.b7de26b2.js"><link rel="prefetch" href="/vuebloger/assets/js/50.d01555de.js"><link rel="prefetch" href="/vuebloger/assets/js/51.64762b1b.js"><link rel="prefetch" href="/vuebloger/assets/js/52.f47836ab.js"><link rel="prefetch" href="/vuebloger/assets/js/53.dbf9bd48.js"><link rel="prefetch" href="/vuebloger/assets/js/54.325da55e.js"><link rel="prefetch" href="/vuebloger/assets/js/56.44fb3971.js"><link rel="prefetch" href="/vuebloger/assets/js/57.a282179c.js"><link rel="prefetch" href="/vuebloger/assets/js/58.83e3f4da.js"><link rel="prefetch" href="/vuebloger/assets/js/59.5d965a8a.js"><link rel="prefetch" href="/vuebloger/assets/js/6.2de6d4b4.js"><link rel="prefetch" href="/vuebloger/assets/js/60.3b4ad761.js"><link rel="prefetch" href="/vuebloger/assets/js/61.4571dd6e.js"><link rel="prefetch" href="/vuebloger/assets/js/62.19e53228.js"><link rel="prefetch" href="/vuebloger/assets/js/63.d11aae48.js"><link rel="prefetch" href="/vuebloger/assets/js/64.c561c612.js"><link rel="prefetch" href="/vuebloger/assets/js/65.5f4ba8d5.js"><link rel="prefetch" href="/vuebloger/assets/js/66.a9e8b7b1.js"><link rel="prefetch" href="/vuebloger/assets/js/67.0f96aa45.js"><link rel="prefetch" href="/vuebloger/assets/js/68.01325833.js"><link rel="prefetch" href="/vuebloger/assets/js/69.6b738fe4.js"><link rel="prefetch" href="/vuebloger/assets/js/70.67695a0a.js"><link rel="prefetch" href="/vuebloger/assets/js/71.4efef8a4.js"><link rel="prefetch" href="/vuebloger/assets/js/72.5d0b2873.js"><link rel="prefetch" href="/vuebloger/assets/js/74.6d8aba46.js"><link rel="prefetch" href="/vuebloger/assets/js/75.2309bb3b.js"><link rel="prefetch" href="/vuebloger/assets/js/76.db109f33.js"><link rel="prefetch" href="/vuebloger/assets/js/77.ed0537f8.js"><link rel="prefetch" href="/vuebloger/assets/js/78.234b59da.js"><link rel="prefetch" href="/vuebloger/assets/js/79.69b7c8e1.js"><link rel="prefetch" href="/vuebloger/assets/js/8.9a76c738.js"><link rel="prefetch" href="/vuebloger/assets/js/80.99d930cc.js"><link rel="prefetch" href="/vuebloger/assets/js/81.5ccfa044.js"><link rel="prefetch" href="/vuebloger/assets/js/82.c21e1eb7.js"><link rel="prefetch" href="/vuebloger/assets/js/83.b02f9c93.js"><link rel="prefetch" href="/vuebloger/assets/js/84.01512726.js"><link rel="prefetch" href="/vuebloger/assets/js/85.9af400d0.js"><link rel="prefetch" href="/vuebloger/assets/js/86.c0203f6e.js"><link rel="prefetch" href="/vuebloger/assets/js/87.222e425f.js"><link rel="prefetch" href="/vuebloger/assets/js/88.6a15da03.js"><link rel="prefetch" href="/vuebloger/assets/js/89.08e31365.js"><link rel="prefetch" href="/vuebloger/assets/js/9.6529d756.js"><link rel="prefetch" href="/vuebloger/assets/js/90.9da867ce.js"><link rel="prefetch" href="/vuebloger/assets/js/91.b3adfbbe.js"><link rel="prefetch" href="/vuebloger/assets/js/92.56e9a0a5.js"><link rel="prefetch" href="/vuebloger/assets/js/93.6911059d.js"><link rel="prefetch" href="/vuebloger/assets/js/94.822df84f.js"><link rel="prefetch" href="/vuebloger/assets/js/95.892eb3bf.js"><link rel="prefetch" href="/vuebloger/assets/js/96.5773ad19.js"><link rel="prefetch" href="/vuebloger/assets/js/97.f82abdcd.js"><link rel="prefetch" href="/vuebloger/assets/js/98.b78771dc.js"><link rel="prefetch" href="/vuebloger/assets/js/99.2404420f.js"><link rel="prefetch" href="/vuebloger/assets/js/vendors~docsearch.1b4e1257.js">
    <link rel="stylesheet" href="/vuebloger/assets/css/0.styles.2e2748f8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuebloger/" class="home-link router-link-active"><img src="/vuebloger/img/logo.jpeg" alt="邹先生博客记录" class="logo"> <span class="site-name can-hide">邹先生博客记录</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuebloger/timeLine/" class="nav-link">首页</a></div><div class="nav-item"><a href="/vuebloger/technology/" class="nav-link router-link-active">技术</a></div><div class="nav-item"><a href="/vuebloger/life/" class="nav-link">生活</a></div><div class="nav-item"><a href="/vuebloger/workplace/" class="nav-link">职场</a></div><div class="nav-item"><a href="/vuebloger/bake/" class="nav-link">备忘</a></div><div class="nav-item"><a href="/vuebloger/tags/" class="nav-link">标签库</a></div><div class="nav-item"><a href="/vuebloger/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/vuebloger/massage/" class="nav-link">留言板</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">链接</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/xccjh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/xccjh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://nextjs.frontendx.cn/docs/#%E5%AE%89%E8%A3%85" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nextjs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://zh.nuxtjs.org/guide/installation" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nuxtjs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://angularjs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AngularJS
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://reactnative.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ReactNative
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://element-cn.eleme.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ElementUI
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://youzan.github.io/vant/#/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vant
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://www.fontawesome.com.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Fontawesome
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/miniprogram/dev/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MiniProgram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://reacttraining.com/react-router/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  react-router-dom
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://webpack.js.org/concepts/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  webpack
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.babeljs.cn/docs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  babel
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://eslint.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  eslint
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.swiper.com.cn/api/index.html/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  swiper
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://momentjs.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  momentjs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.runoob.com/linux/linux-shell.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  shell
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://lodash.com/docs/4.17.15#template" target="_blank" rel="noopener noreferrer" class="nav-link external">
  lodash
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://koa.bootcss.com/#links" target="_blank" rel="noopener noreferrer" class="nav-link external">
  koa
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://jestjs.io/docs/en/getting-started" target="_blank" rel="noopener noreferrer" class="nav-link external">
  jest
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://aui.github.io/art-template/zh-cn/docs/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  art-template
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://ejs.bootcss.com/#docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ejs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.layui.com/doc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  layui
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://antv-g2.gitee.io/zh/examples/gallery" target="_blank" rel="noopener noreferrer" class="nav-link external">
  G2
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.echartsjs.com/zh/option.html#title" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ECharts
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.vagrantup.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vagrant
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  docker
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="/vuebloger/technology/ https:/www.runoob.com/redis/redis-tutorial.html" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="https://www.runoob.com/mysql/mysql-tutorial.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  mysql
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://leafletjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  leaflet
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.tslang.cn/docs/home.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TypeScript
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://docschina.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  印记中文
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav> <div style="margin-left:20px;margin-right:20px;">
    音乐
    <div role="switch" class="el-switch"><input type="checkbox" name="" true-value="true" class="el-switch__input"><!----><span class="el-switch__core" style="width:40px;"></span><!----></div> <audio><source src="/vuebloger/mp3/065b_520b_0409_111c898908eab454414c3c326fe77c36.mp3" type="audio/mpeg"></audio></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuebloger/timeLine/" class="nav-link">首页</a></div><div class="nav-item"><a href="/vuebloger/technology/" class="nav-link router-link-active">技术</a></div><div class="nav-item"><a href="/vuebloger/life/" class="nav-link">生活</a></div><div class="nav-item"><a href="/vuebloger/workplace/" class="nav-link">职场</a></div><div class="nav-item"><a href="/vuebloger/bake/" class="nav-link">备忘</a></div><div class="nav-item"><a href="/vuebloger/tags/" class="nav-link">标签库</a></div><div class="nav-item"><a href="/vuebloger/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/vuebloger/massage/" class="nav-link">留言板</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">链接</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/xccjh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/xccjh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://nextjs.frontendx.cn/docs/#%E5%AE%89%E8%A3%85" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nextjs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://zh.nuxtjs.org/guide/installation" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nuxtjs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://angularjs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AngularJS
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://reactnative.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ReactNative
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://element-cn.eleme.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ElementUI
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://youzan.github.io/vant/#/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vant
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://www.fontawesome.com.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Fontawesome
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://developers.weixin.qq.com/miniprogram/dev/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MiniProgram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://reacttraining.com/react-router/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  react-router-dom
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://webpack.js.org/concepts/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  webpack
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.babeljs.cn/docs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  babel
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://eslint.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  eslint
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.swiper.com.cn/api/index.html/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  swiper
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://momentjs.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  momentjs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.runoob.com/linux/linux-shell.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  shell
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://lodash.com/docs/4.17.15#template" target="_blank" rel="noopener noreferrer" class="nav-link external">
  lodash
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://koa.bootcss.com/#links" target="_blank" rel="noopener noreferrer" class="nav-link external">
  koa
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://jestjs.io/docs/en/getting-started" target="_blank" rel="noopener noreferrer" class="nav-link external">
  jest
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://aui.github.io/art-template/zh-cn/docs/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  art-template
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://ejs.bootcss.com/#docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ejs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.layui.com/doc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  layui
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://antv-g2.gitee.io/zh/examples/gallery" target="_blank" rel="noopener noreferrer" class="nav-link external">
  G2
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.echartsjs.com/zh/option.html#title" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ECharts
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.vagrantup.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vagrant
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  docker
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="/vuebloger/technology/ https:/www.runoob.com/redis/redis-tutorial.html" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="https://www.runoob.com/mysql/mysql-tutorial.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  mysql
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://leafletjs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  leaflet
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.tslang.cn/docs/home.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TypeScript
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://docschina.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  印记中文
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>webpack插件原理分析</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/vuebloger/technology/webpack%E6%8F%92%E4%BB%B6%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90.html#plugin-vs-loader" class="sidebar-link">plugin vs loader</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuebloger/technology/webpack%E6%8F%92%E4%BB%B6%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90.html#plugin-的特征" class="sidebar-link">plugin 的特征</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuebloger/technology/webpack%E6%8F%92%E4%BB%B6%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90.html#事件流机制" class="sidebar-link">事件流机制</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuebloger/technology/webpack%E6%8F%92%E4%BB%B6%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90.html#编写一个插件" class="sidebar-link">编写一个插件</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuebloger/technology/webpack%E6%8F%92%E4%BB%B6%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90.html#compiler-对象-（负责编译）" class="sidebar-link">Compiler 对象 （负责编译）</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuebloger/technology/webpack%E6%8F%92%E4%BB%B6%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90.html#compilation-对象" class="sidebar-link">Compilation 对象</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuebloger/technology/webpack%E6%8F%92%E4%BB%B6%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90.html#手写插件-1：文件清单" class="sidebar-link">手写插件 1：文件清单</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuebloger/technology/webpack%E6%8F%92%E4%BB%B6%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90.html#手写插件-2：去除注释" class="sidebar-link">手写插件 2：去除注释</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content__default" data-v-786f451c data-v-786f451c><h2 id="plugin-vs-loader" data-v-786f451c><a href="#plugin-vs-loader" class="header-anchor" data-v-786f451c>#</a> plugin vs loader</h2> <p data-v-786f451c>loader 是一个转换器，将 A 文件进行编译成 B 文件，比如：将 A.less 转换为 A.css，单纯的文件转换过程。webpack 自身只支持 js 和 json 这两种格式的文件，对于其他文件需要通过 loader 将其转换为 commonJS 规范的文件后，webpack 才能解析到。</p> <p data-v-786f451c>plugin 是一个扩展器，它丰富了 webpack 本身，针对是 loader 结束后，webpack 打包的整个过程，它并不直接操作文件，而是基于事件机制工作，会监听 webpack 打包过程中的某些节点，执行广泛的任务。</p> <h2 id="plugin-的特征" data-v-786f451c><a href="#plugin-的特征" class="header-anchor" data-v-786f451c>#</a> plugin 的特征</h2> <p data-v-786f451c>webpack 插件有以下特征：</p> <ul data-v-786f451c><li data-v-786f451c>是一个独立的模块。</li> <li data-v-786f451c>模块对外暴露一个 js 函数(类，构造函数)。</li> <li data-v-786f451c>函数的原型 (prototype) 上定义了一个注入 compiler 对象的 apply 方法。</li> <li data-v-786f451c>apply 函数中需要有通过 compiler 对象挂载的 webpack 事件钩子，钩子的回调中能拿到当前编译的 compilation 对象，如果是异步编译插件的话可以拿到回调 callback。</li> <li data-v-786f451c>完成自定义子编译流程并处理 complition 对象的内部数据。</li> <li data-v-786f451c>如果异步编译插件的话，数据处理完成后执行 callback 回调。</li></ul> <div class="language-js line-numbers-mode" data-v-786f451c><pre class="language-js" data-v-786f451c><code data-v-786f451c><span class="token keyword" data-v-786f451c>class</span> <span class="token class-name" data-v-786f451c>HelloPlugin</span> <span class="token punctuation" data-v-786f451c>{</span>
  <span class="token comment" data-v-786f451c>// 在构造函数中获取用户给该插件传入的配置</span>
  <span class="token function" data-v-786f451c>constructor</span><span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>options</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span><span class="token punctuation" data-v-786f451c>}</span>
  <span class="token comment" data-v-786f451c>// Webpack 会调用 HelloPlugin 实例的 apply 方法给插件实例传入 compiler 对象</span>
  <span class="token function" data-v-786f451c>apply</span><span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>compiler</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
    <span class="token comment" data-v-786f451c>// 在emit阶段插入钩子函数，用于特定时机处理额外的逻辑；</span>
    compiler<span class="token punctuation" data-v-786f451c>.</span>hooks<span class="token punctuation" data-v-786f451c>.</span>emit<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>tap</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'HelloPlugin'</span><span class="token punctuation" data-v-786f451c>,</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>compilation</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token operator" data-v-786f451c>=&gt;</span> <span class="token punctuation" data-v-786f451c>{</span>
      <span class="token comment" data-v-786f451c>// 在功能流程完成后可以调用 webpack 提供的回调函数；</span>
    <span class="token punctuation" data-v-786f451c>}</span><span class="token punctuation" data-v-786f451c>)</span>
    <span class="token comment" data-v-786f451c>// 如果事件是异步的，会带两个参数，第二个参数为回调函数，</span>
    compiler<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>plugin</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'emit'</span><span class="token punctuation" data-v-786f451c>,</span> <span class="token keyword" data-v-786f451c>function</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>compilation<span class="token punctuation" data-v-786f451c>,</span> callback</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
      <span class="token comment" data-v-786f451c>// 处理完毕后执行 callback 以通知 Webpack</span>
      <span class="token comment" data-v-786f451c>// 如果不执行 callback，运行流程将会一直卡在这不往下执行</span>
      <span class="token function" data-v-786f451c>callback</span><span class="token punctuation" data-v-786f451c>(</span><span class="token punctuation" data-v-786f451c>)</span>
    <span class="token punctuation" data-v-786f451c>}</span><span class="token punctuation" data-v-786f451c>)</span>
  <span class="token punctuation" data-v-786f451c>}</span>
<span class="token punctuation" data-v-786f451c>}</span>

module<span class="token punctuation" data-v-786f451c>.</span>exports <span class="token operator" data-v-786f451c>=</span> HelloPlugin
</code></pre> <div class="line-numbers-wrapper" data-v-786f451c><span class="line-number" data-v-786f451c>1</span><br data-v-786f451c><span class="line-number" data-v-786f451c>2</span><br data-v-786f451c><span class="line-number" data-v-786f451c>3</span><br data-v-786f451c><span class="line-number" data-v-786f451c>4</span><br data-v-786f451c><span class="line-number" data-v-786f451c>5</span><br data-v-786f451c><span class="line-number" data-v-786f451c>6</span><br data-v-786f451c><span class="line-number" data-v-786f451c>7</span><br data-v-786f451c><span class="line-number" data-v-786f451c>8</span><br data-v-786f451c><span class="line-number" data-v-786f451c>9</span><br data-v-786f451c><span class="line-number" data-v-786f451c>10</span><br data-v-786f451c><span class="line-number" data-v-786f451c>11</span><br data-v-786f451c><span class="line-number" data-v-786f451c>12</span><br data-v-786f451c><span class="line-number" data-v-786f451c>13</span><br data-v-786f451c><span class="line-number" data-v-786f451c>14</span><br data-v-786f451c><span class="line-number" data-v-786f451c>15</span><br data-v-786f451c><span class="line-number" data-v-786f451c>16</span><br data-v-786f451c><span class="line-number" data-v-786f451c>17</span><br data-v-786f451c><span class="line-number" data-v-786f451c>18</span><br data-v-786f451c><span class="line-number" data-v-786f451c>19</span><br data-v-786f451c></div></div><p data-v-786f451c>上述代码的接入流程：</p> <ol data-v-786f451c><li data-v-786f451c>webpack 读取配置的过程中会先执行 new HelloPlugin(options) 初始化一个 HelloPlugin 获得其实例。</li> <li data-v-786f451c>初始化 compiler 对象后调用 HelloPlugin.apply(compiler) 给插件实例传入 compiler 对象。</li> <li data-v-786f451c>插件实例在获取到 compiler 对象后，就可以通过 compiler.plugin (事件名称, 回调函数) 监听到 Webpack 广播出来的事件。 并且可以通过 compiler 对象去操作 Webpack。</li></ol> <h2 id="事件流机制" data-v-786f451c><a href="#事件流机制" class="header-anchor" data-v-786f451c>#</a> 事件流机制</h2> <p data-v-786f451c>webpack 本质上是一种事件流的机制，它的工作流程就是将各个插件串联起来，而实现这一切的核心就是 Tapable。</p> <p data-v-786f451c>Webpack 的 Tapable 事件流机制保证了插件的有序性，将各个插件串联起来， Webpack 在运行过程中会广播事件，插件只需要监听它所关心的事件，就能加入到这条 webapck 机制中，去改变 webapck 的运作，使得整个系统扩展性良好。</p> <p data-v-786f451c>Tapable 也是一个小型的 library，是 Webpack 的一个核心工具。类似于 node 中的 events 库，核心原理就是一个订阅发布模式。作用是提供类似的插件接口。方法如下：</p> <div class="language-js line-numbers-mode" data-v-786f451c><pre class="language-js" data-v-786f451c><code data-v-786f451c><span class="token comment" data-v-786f451c>//  广播事件</span>
<span class="token function" data-v-786f451c>compiler</span><span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>apply</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'event-name'</span><span class="token punctuation" data-v-786f451c>,</span> params<span class="token punctuation" data-v-786f451c>)</span>
<span class="token function" data-v-786f451c>compilation</span><span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>apply</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'event-name'</span><span class="token punctuation" data-v-786f451c>,</span> params<span class="token punctuation" data-v-786f451c>)</span>

<span class="token comment" data-v-786f451c>// 监听事件</span>
compiler<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>plugin</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'event-name'</span><span class="token punctuation" data-v-786f451c>,</span> <span class="token keyword" data-v-786f451c>function</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>params</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span><span class="token punctuation" data-v-786f451c>}</span><span class="token punctuation" data-v-786f451c>)</span>
compilation<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>plugin</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'event-name'</span><span class="token punctuation" data-v-786f451c>,</span> <span class="token keyword" data-v-786f451c>function</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>params</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span><span class="token punctuation" data-v-786f451c>}</span><span class="token punctuation" data-v-786f451c>)</span>
</code></pre> <div class="line-numbers-wrapper" data-v-786f451c><span class="line-number" data-v-786f451c>1</span><br data-v-786f451c><span class="line-number" data-v-786f451c>2</span><br data-v-786f451c><span class="line-number" data-v-786f451c>3</span><br data-v-786f451c><span class="line-number" data-v-786f451c>4</span><br data-v-786f451c><span class="line-number" data-v-786f451c>5</span><br data-v-786f451c><span class="line-number" data-v-786f451c>6</span><br data-v-786f451c><span class="line-number" data-v-786f451c>7</span><br data-v-786f451c></div></div><p data-v-786f451c>我们来看下 Tapable：</p> <div class="language-js line-numbers-mode" data-v-786f451c><pre class="language-js" data-v-786f451c><code data-v-786f451c><span class="token keyword" data-v-786f451c>function</span> <span class="token function" data-v-786f451c>Tapable</span><span class="token punctuation" data-v-786f451c>(</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
  <span class="token keyword" data-v-786f451c>this</span><span class="token punctuation" data-v-786f451c>.</span>_plugins <span class="token operator" data-v-786f451c>=</span> <span class="token punctuation" data-v-786f451c>{</span><span class="token punctuation" data-v-786f451c>}</span>
<span class="token punctuation" data-v-786f451c>}</span>
<span class="token comment" data-v-786f451c>//发布name消息</span>
<span class="token class-name" data-v-786f451c>Tapable</span><span class="token punctuation" data-v-786f451c>.</span>prototype<span class="token punctuation" data-v-786f451c>.</span><span class="token function-variable function" data-v-786f451c>applyPlugins</span> <span class="token operator" data-v-786f451c>=</span> <span class="token keyword" data-v-786f451c>function</span> <span class="token function" data-v-786f451c>applyPlugins</span><span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>name</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
  <span class="token keyword" data-v-786f451c>if</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token operator" data-v-786f451c>!</span><span class="token keyword" data-v-786f451c>this</span><span class="token punctuation" data-v-786f451c>.</span>_plugins<span class="token punctuation" data-v-786f451c>[</span>name<span class="token punctuation" data-v-786f451c>]</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token keyword" data-v-786f451c>return</span>
  <span class="token keyword" data-v-786f451c>var</span> args <span class="token operator" data-v-786f451c>=</span> <span class="token class-name" data-v-786f451c>Array</span><span class="token punctuation" data-v-786f451c>.</span>prototype<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>slice</span><span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>call</span><span class="token punctuation" data-v-786f451c>(</span>arguments<span class="token punctuation" data-v-786f451c>,</span> <span class="token number" data-v-786f451c>1</span><span class="token punctuation" data-v-786f451c>)</span>
  <span class="token keyword" data-v-786f451c>var</span> plugins <span class="token operator" data-v-786f451c>=</span> <span class="token keyword" data-v-786f451c>this</span><span class="token punctuation" data-v-786f451c>.</span>_plugins<span class="token punctuation" data-v-786f451c>[</span>name<span class="token punctuation" data-v-786f451c>]</span>
  <span class="token keyword" data-v-786f451c>for</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token keyword" data-v-786f451c>var</span> i <span class="token operator" data-v-786f451c>=</span> <span class="token number" data-v-786f451c>0</span><span class="token punctuation" data-v-786f451c>;</span> i <span class="token operator" data-v-786f451c>&lt;</span> plugins<span class="token punctuation" data-v-786f451c>.</span>length<span class="token punctuation" data-v-786f451c>;</span> i<span class="token operator" data-v-786f451c>++</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
    plugins<span class="token punctuation" data-v-786f451c>[</span>i<span class="token punctuation" data-v-786f451c>]</span><span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>apply</span><span class="token punctuation" data-v-786f451c>(</span><span class="token keyword" data-v-786f451c>this</span><span class="token punctuation" data-v-786f451c>,</span> args<span class="token punctuation" data-v-786f451c>)</span>
  <span class="token punctuation" data-v-786f451c>}</span>
<span class="token punctuation" data-v-786f451c>}</span>
<span class="token comment" data-v-786f451c>// fn订阅name消息</span>
<span class="token class-name" data-v-786f451c>Tapable</span><span class="token punctuation" data-v-786f451c>.</span>prototype<span class="token punctuation" data-v-786f451c>.</span><span class="token function-variable function" data-v-786f451c>plugin</span> <span class="token operator" data-v-786f451c>=</span> <span class="token keyword" data-v-786f451c>function</span> <span class="token function" data-v-786f451c>plugin</span><span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>name<span class="token punctuation" data-v-786f451c>,</span> fn</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
  <span class="token keyword" data-v-786f451c>if</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token operator" data-v-786f451c>!</span><span class="token keyword" data-v-786f451c>this</span><span class="token punctuation" data-v-786f451c>.</span>_plugins<span class="token punctuation" data-v-786f451c>[</span>name<span class="token punctuation" data-v-786f451c>]</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
    <span class="token keyword" data-v-786f451c>this</span><span class="token punctuation" data-v-786f451c>.</span>_plugins<span class="token punctuation" data-v-786f451c>[</span>name<span class="token punctuation" data-v-786f451c>]</span> <span class="token operator" data-v-786f451c>=</span> <span class="token punctuation" data-v-786f451c>[</span>fn<span class="token punctuation" data-v-786f451c>]</span>
  <span class="token punctuation" data-v-786f451c>}</span> <span class="token keyword" data-v-786f451c>else</span> <span class="token punctuation" data-v-786f451c>{</span>
    <span class="token keyword" data-v-786f451c>this</span><span class="token punctuation" data-v-786f451c>.</span>_plugins<span class="token punctuation" data-v-786f451c>[</span>name<span class="token punctuation" data-v-786f451c>]</span><span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>push</span><span class="token punctuation" data-v-786f451c>(</span>fn<span class="token punctuation" data-v-786f451c>)</span>
  <span class="token punctuation" data-v-786f451c>}</span>
<span class="token punctuation" data-v-786f451c>}</span>
<span class="token comment" data-v-786f451c>//给定一个插件数组，对其中的每一个插件调用插件自身的apply方法注册插件</span>
<span class="token class-name" data-v-786f451c>Tapable</span><span class="token punctuation" data-v-786f451c>.</span>prototype<span class="token punctuation" data-v-786f451c>.</span><span class="token function-variable function" data-v-786f451c>apply</span> <span class="token operator" data-v-786f451c>=</span> <span class="token keyword" data-v-786f451c>function</span> <span class="token function" data-v-786f451c>apply</span><span class="token punctuation" data-v-786f451c>(</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
  <span class="token keyword" data-v-786f451c>for</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token keyword" data-v-786f451c>var</span> i <span class="token operator" data-v-786f451c>=</span> <span class="token number" data-v-786f451c>0</span><span class="token punctuation" data-v-786f451c>;</span> i <span class="token operator" data-v-786f451c>&lt;</span> arguments<span class="token punctuation" data-v-786f451c>.</span>length<span class="token punctuation" data-v-786f451c>;</span> i<span class="token operator" data-v-786f451c>++</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
    arguments<span class="token punctuation" data-v-786f451c>[</span>i<span class="token punctuation" data-v-786f451c>]</span><span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>apply</span><span class="token punctuation" data-v-786f451c>(</span><span class="token keyword" data-v-786f451c>this</span><span class="token punctuation" data-v-786f451c>)</span>
  <span class="token punctuation" data-v-786f451c>}</span>
<span class="token punctuation" data-v-786f451c>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-786f451c><span class="line-number" data-v-786f451c>1</span><br data-v-786f451c><span class="line-number" data-v-786f451c>2</span><br data-v-786f451c><span class="line-number" data-v-786f451c>3</span><br data-v-786f451c><span class="line-number" data-v-786f451c>4</span><br data-v-786f451c><span class="line-number" data-v-786f451c>5</span><br data-v-786f451c><span class="line-number" data-v-786f451c>6</span><br data-v-786f451c><span class="line-number" data-v-786f451c>7</span><br data-v-786f451c><span class="line-number" data-v-786f451c>8</span><br data-v-786f451c><span class="line-number" data-v-786f451c>9</span><br data-v-786f451c><span class="line-number" data-v-786f451c>10</span><br data-v-786f451c><span class="line-number" data-v-786f451c>11</span><br data-v-786f451c><span class="line-number" data-v-786f451c>12</span><br data-v-786f451c><span class="line-number" data-v-786f451c>13</span><br data-v-786f451c><span class="line-number" data-v-786f451c>14</span><br data-v-786f451c><span class="line-number" data-v-786f451c>15</span><br data-v-786f451c><span class="line-number" data-v-786f451c>16</span><br data-v-786f451c><span class="line-number" data-v-786f451c>17</span><br data-v-786f451c><span class="line-number" data-v-786f451c>18</span><br data-v-786f451c><span class="line-number" data-v-786f451c>19</span><br data-v-786f451c><span class="line-number" data-v-786f451c>20</span><br data-v-786f451c><span class="line-number" data-v-786f451c>21</span><br data-v-786f451c><span class="line-number" data-v-786f451c>22</span><br data-v-786f451c><span class="line-number" data-v-786f451c>23</span><br data-v-786f451c><span class="line-number" data-v-786f451c>24</span><br data-v-786f451c><span class="line-number" data-v-786f451c>25</span><br data-v-786f451c><span class="line-number" data-v-786f451c>26</span><br data-v-786f451c></div></div><p data-v-786f451c>Tapable 为 webpack 提供了统一的插件接口（钩子）类型定义，它是 webpack 的核心功能库。webpack 中目前有十种 hooks，在 Tapable 源码中可以看到，他们是：</p> <div class="language-js line-numbers-mode" data-v-786f451c><pre class="language-js" data-v-786f451c><code data-v-786f451c>exports<span class="token punctuation" data-v-786f451c>.</span>SyncHook <span class="token operator" data-v-786f451c>=</span> <span class="token function" data-v-786f451c>require</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'./SyncHook'</span><span class="token punctuation" data-v-786f451c>)</span>
exports<span class="token punctuation" data-v-786f451c>.</span>SyncBailHook <span class="token operator" data-v-786f451c>=</span> <span class="token function" data-v-786f451c>require</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'./SyncBailHook'</span><span class="token punctuation" data-v-786f451c>)</span>
exports<span class="token punctuation" data-v-786f451c>.</span>SyncWaterfallHook <span class="token operator" data-v-786f451c>=</span> <span class="token function" data-v-786f451c>require</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'./SyncWaterfallHook'</span><span class="token punctuation" data-v-786f451c>)</span>
exports<span class="token punctuation" data-v-786f451c>.</span>SyncLoopHook <span class="token operator" data-v-786f451c>=</span> <span class="token function" data-v-786f451c>require</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'./SyncLoopHook'</span><span class="token punctuation" data-v-786f451c>)</span>
exports<span class="token punctuation" data-v-786f451c>.</span>AsyncParallelHook <span class="token operator" data-v-786f451c>=</span> <span class="token function" data-v-786f451c>require</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'./AsyncParallelHook'</span><span class="token punctuation" data-v-786f451c>)</span>
exports<span class="token punctuation" data-v-786f451c>.</span>AsyncParallelBailHook <span class="token operator" data-v-786f451c>=</span> <span class="token function" data-v-786f451c>require</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'./AsyncParallelBailHook'</span><span class="token punctuation" data-v-786f451c>)</span>
exports<span class="token punctuation" data-v-786f451c>.</span>AsyncSeriesHook <span class="token operator" data-v-786f451c>=</span> <span class="token function" data-v-786f451c>require</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'./AsyncSeriesHook'</span><span class="token punctuation" data-v-786f451c>)</span>
exports<span class="token punctuation" data-v-786f451c>.</span>AsyncSeriesBailHook <span class="token operator" data-v-786f451c>=</span> <span class="token function" data-v-786f451c>require</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'./AsyncSeriesBailHook'</span><span class="token punctuation" data-v-786f451c>)</span>
exports<span class="token punctuation" data-v-786f451c>.</span>AsyncSeriesLoopHook <span class="token operator" data-v-786f451c>=</span> <span class="token function" data-v-786f451c>require</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'./AsyncSeriesLoopHook'</span><span class="token punctuation" data-v-786f451c>)</span>
exports<span class="token punctuation" data-v-786f451c>.</span>AsyncSeriesWaterfallHook <span class="token operator" data-v-786f451c>=</span> <span class="token function" data-v-786f451c>require</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'./AsyncSeriesWaterfallHook'</span><span class="token punctuation" data-v-786f451c>)</span>
</code></pre> <div class="line-numbers-wrapper" data-v-786f451c><span class="line-number" data-v-786f451c>1</span><br data-v-786f451c><span class="line-number" data-v-786f451c>2</span><br data-v-786f451c><span class="line-number" data-v-786f451c>3</span><br data-v-786f451c><span class="line-number" data-v-786f451c>4</span><br data-v-786f451c><span class="line-number" data-v-786f451c>5</span><br data-v-786f451c><span class="line-number" data-v-786f451c>6</span><br data-v-786f451c><span class="line-number" data-v-786f451c>7</span><br data-v-786f451c><span class="line-number" data-v-786f451c>8</span><br data-v-786f451c><span class="line-number" data-v-786f451c>9</span><br data-v-786f451c><span class="line-number" data-v-786f451c>10</span><br data-v-786f451c></div></div><p data-v-786f451c>Tapable 还统一暴露了三个方法给插件，用于注入不同类型的自定义构建行为：</p> <ul data-v-786f451c><li data-v-786f451c>tap：可以注册同步钩子和异步钩子。</li> <li data-v-786f451c>tapAsync：回调方式注册异步钩子。</li> <li data-v-786f451c>tapPromise：Promise 方式注册异步钩子。</li></ul> <p data-v-786f451c>webpack 里的几个非常重要的对象，<code data-v-786f451c>Compiler</code>, <code data-v-786f451c>Compilation</code> 和 <code data-v-786f451c>JavascriptParser</code> 都继承了 <code data-v-786f451c>Tapable</code> 类，它们身上挂着丰富的钩子。</p> <h2 id="编写一个插件" data-v-786f451c><a href="#编写一个插件" class="header-anchor" data-v-786f451c>#</a> 编写一个插件</h2> <p data-v-786f451c>一个 webpack 插件由以下组成：</p> <ul data-v-786f451c><li data-v-786f451c>JavaScript 命名函数。</li> <li data-v-786f451c>件函数的 prototype 上定义一个 apply 方法。</li> <li data-v-786f451c>一个绑定到 webpack 自身的事件钩子。</li> <li data-v-786f451c>webpack 内部实例的特定数据。</li> <li data-v-786f451c>完成后调用 webpack 提供的回调。</li></ul> <p data-v-786f451c>下面实现一个最简单的插件:</p> <div class="language-js line-numbers-mode" data-v-786f451c><pre class="language-js" data-v-786f451c><code data-v-786f451c><span class="token keyword" data-v-786f451c>class</span> <span class="token class-name" data-v-786f451c>WebpackPlugin1</span> <span class="token punctuation" data-v-786f451c>{</span>
  <span class="token function" data-v-786f451c>constructor</span><span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>options</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
    <span class="token keyword" data-v-786f451c>this</span><span class="token punctuation" data-v-786f451c>.</span>options <span class="token operator" data-v-786f451c>=</span> options
  <span class="token punctuation" data-v-786f451c>}</span>
  <span class="token function" data-v-786f451c>apply</span><span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>compiler</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
    compiler<span class="token punctuation" data-v-786f451c>.</span>hooks<span class="token punctuation" data-v-786f451c>.</span>done<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>tap</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'MYWebpackPlugin'</span><span class="token punctuation" data-v-786f451c>,</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token operator" data-v-786f451c>=&gt;</span> <span class="token punctuation" data-v-786f451c>{</span>
      console<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>log</span><span class="token punctuation" data-v-786f451c>(</span><span class="token keyword" data-v-786f451c>this</span><span class="token punctuation" data-v-786f451c>.</span>options<span class="token punctuation" data-v-786f451c>)</span>
    <span class="token punctuation" data-v-786f451c>}</span><span class="token punctuation" data-v-786f451c>)</span>
  <span class="token punctuation" data-v-786f451c>}</span>
<span class="token punctuation" data-v-786f451c>}</span>

module<span class="token punctuation" data-v-786f451c>.</span>exports <span class="token operator" data-v-786f451c>=</span> WebpackPlugin1
</code></pre> <div class="line-numbers-wrapper" data-v-786f451c><span class="line-number" data-v-786f451c>1</span><br data-v-786f451c><span class="line-number" data-v-786f451c>2</span><br data-v-786f451c><span class="line-number" data-v-786f451c>3</span><br data-v-786f451c><span class="line-number" data-v-786f451c>4</span><br data-v-786f451c><span class="line-number" data-v-786f451c>5</span><br data-v-786f451c><span class="line-number" data-v-786f451c>6</span><br data-v-786f451c><span class="line-number" data-v-786f451c>7</span><br data-v-786f451c><span class="line-number" data-v-786f451c>8</span><br data-v-786f451c><span class="line-number" data-v-786f451c>9</span><br data-v-786f451c><span class="line-number" data-v-786f451c>10</span><br data-v-786f451c><span class="line-number" data-v-786f451c>11</span><br data-v-786f451c><span class="line-number" data-v-786f451c>12</span><br data-v-786f451c></div></div><p data-v-786f451c>然后在 webpack 的配置中注册使用就行，只需要在 webpack.config.js 里引入并实例化就可以了：</p> <div class="language-js line-numbers-mode" data-v-786f451c><pre class="language-js" data-v-786f451c><code data-v-786f451c><span class="token keyword" data-v-786f451c>const</span> WebpackPlugin1 <span class="token operator" data-v-786f451c>=</span> <span class="token function" data-v-786f451c>require</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'./src/plugin/plugin1'</span><span class="token punctuation" data-v-786f451c>)</span>

module<span class="token punctuation" data-v-786f451c>.</span>exports <span class="token operator" data-v-786f451c>=</span> <span class="token punctuation" data-v-786f451c>{</span>
  entry<span class="token operator" data-v-786f451c>:</span> <span class="token punctuation" data-v-786f451c>{</span>
    index<span class="token operator" data-v-786f451c>:</span> path<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>join</span><span class="token punctuation" data-v-786f451c>(</span>__dirname<span class="token punctuation" data-v-786f451c>,</span> <span class="token string" data-v-786f451c>'/src/main.js'</span><span class="token punctuation" data-v-786f451c>)</span><span class="token punctuation" data-v-786f451c>,</span>
  <span class="token punctuation" data-v-786f451c>}</span><span class="token punctuation" data-v-786f451c>,</span>
  output<span class="token operator" data-v-786f451c>:</span> <span class="token punctuation" data-v-786f451c>{</span>
    path<span class="token operator" data-v-786f451c>:</span> path<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>join</span><span class="token punctuation" data-v-786f451c>(</span>__dirname<span class="token punctuation" data-v-786f451c>,</span> <span class="token string" data-v-786f451c>'/dist'</span><span class="token punctuation" data-v-786f451c>)</span><span class="token punctuation" data-v-786f451c>,</span>
    filename<span class="token operator" data-v-786f451c>:</span> <span class="token string" data-v-786f451c>'index.js'</span><span class="token punctuation" data-v-786f451c>,</span>
  <span class="token punctuation" data-v-786f451c>}</span><span class="token punctuation" data-v-786f451c>,</span>
  plugins<span class="token operator" data-v-786f451c>:</span> <span class="token punctuation" data-v-786f451c>[</span><span class="token keyword" data-v-786f451c>new</span> <span class="token class-name" data-v-786f451c>WebpackPlugin1</span><span class="token punctuation" data-v-786f451c>(</span><span class="token punctuation" data-v-786f451c>{</span> msg<span class="token operator" data-v-786f451c>:</span> <span class="token string" data-v-786f451c>'hello world'</span> <span class="token punctuation" data-v-786f451c>}</span><span class="token punctuation" data-v-786f451c>)</span><span class="token punctuation" data-v-786f451c>]</span><span class="token punctuation" data-v-786f451c>,</span>
<span class="token punctuation" data-v-786f451c>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-786f451c><span class="line-number" data-v-786f451c>1</span><br data-v-786f451c><span class="line-number" data-v-786f451c>2</span><br data-v-786f451c><span class="line-number" data-v-786f451c>3</span><br data-v-786f451c><span class="line-number" data-v-786f451c>4</span><br data-v-786f451c><span class="line-number" data-v-786f451c>5</span><br data-v-786f451c><span class="line-number" data-v-786f451c>6</span><br data-v-786f451c><span class="line-number" data-v-786f451c>7</span><br data-v-786f451c><span class="line-number" data-v-786f451c>8</span><br data-v-786f451c><span class="line-number" data-v-786f451c>9</span><br data-v-786f451c><span class="line-number" data-v-786f451c>10</span><br data-v-786f451c><span class="line-number" data-v-786f451c>11</span><br data-v-786f451c><span class="line-number" data-v-786f451c>12</span><br data-v-786f451c></div></div><p data-v-786f451c>此时我们执行一下 npm run build 就能看到效果了:</p> <p data-v-786f451c><img src="/vuebloger/img/post/f2ed64adec9d45c69a8cedc591a8be9d_tplv-k3u1fbpfcp-watermark.awebp" alt="" data-v-786f451c></p> <h2 id="compiler-对象-（负责编译）" data-v-786f451c><a href="#compiler-对象-（负责编译）" class="header-anchor" data-v-786f451c>#</a> Compiler 对象 （负责编译）</h2> <p data-v-786f451c>Compiler 对象包含了当前运行 Webpack 的配置，包括 entry、output、loaders 等配置，这个对象在启动 Webpack 时被实例化，而且是全局唯一的。Plugin 可以通过该对象获取到 Webpack 的配置信息进行处理。</p> <p data-v-786f451c>compiler 上暴露的一些常用的钩子：</p> <p data-v-786f451c><img src="/vuebloger/img/post/c6e92a4c13434d06b45bb2eb83096d75_tplv-k3u1fbpfcp-watermark.awebp" alt="" data-v-786f451c></p> <p data-v-786f451c>下面来举个例子</p> <div class="language-js line-numbers-mode" data-v-786f451c><pre class="language-js" data-v-786f451c><code data-v-786f451c><span class="token keyword" data-v-786f451c>class</span> <span class="token class-name" data-v-786f451c>WebpackPlugin2</span> <span class="token punctuation" data-v-786f451c>{</span>
  <span class="token function" data-v-786f451c>constructor</span><span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>options</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
    <span class="token keyword" data-v-786f451c>this</span><span class="token punctuation" data-v-786f451c>.</span>options <span class="token operator" data-v-786f451c>=</span> options
  <span class="token punctuation" data-v-786f451c>}</span>
  <span class="token function" data-v-786f451c>apply</span><span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>compiler</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
    compiler<span class="token punctuation" data-v-786f451c>.</span>hooks<span class="token punctuation" data-v-786f451c>.</span>run<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>tap</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'run'</span><span class="token punctuation" data-v-786f451c>,</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token operator" data-v-786f451c>=&gt;</span> <span class="token punctuation" data-v-786f451c>{</span>
      console<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>log</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'开始编译...'</span><span class="token punctuation" data-v-786f451c>)</span>
    <span class="token punctuation" data-v-786f451c>}</span><span class="token punctuation" data-v-786f451c>)</span>

    compiler<span class="token punctuation" data-v-786f451c>.</span>hooks<span class="token punctuation" data-v-786f451c>.</span>compile<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>tap</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'compile'</span><span class="token punctuation" data-v-786f451c>,</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token operator" data-v-786f451c>=&gt;</span> <span class="token punctuation" data-v-786f451c>{</span>
      console<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>log</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'compile'</span><span class="token punctuation" data-v-786f451c>)</span>
    <span class="token punctuation" data-v-786f451c>}</span><span class="token punctuation" data-v-786f451c>)</span>

    compiler<span class="token punctuation" data-v-786f451c>.</span>hooks<span class="token punctuation" data-v-786f451c>.</span>done<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>tap</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'compilation'</span><span class="token punctuation" data-v-786f451c>,</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token operator" data-v-786f451c>=&gt;</span> <span class="token punctuation" data-v-786f451c>{</span>
      console<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>log</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'compilation'</span><span class="token punctuation" data-v-786f451c>)</span>
    <span class="token punctuation" data-v-786f451c>}</span><span class="token punctuation" data-v-786f451c>)</span>
  <span class="token punctuation" data-v-786f451c>}</span>
<span class="token punctuation" data-v-786f451c>}</span>

module<span class="token punctuation" data-v-786f451c>.</span>exports <span class="token operator" data-v-786f451c>=</span> WebpackPlugin2
</code></pre> <div class="line-numbers-wrapper" data-v-786f451c><span class="line-number" data-v-786f451c>1</span><br data-v-786f451c><span class="line-number" data-v-786f451c>2</span><br data-v-786f451c><span class="line-number" data-v-786f451c>3</span><br data-v-786f451c><span class="line-number" data-v-786f451c>4</span><br data-v-786f451c><span class="line-number" data-v-786f451c>5</span><br data-v-786f451c><span class="line-number" data-v-786f451c>6</span><br data-v-786f451c><span class="line-number" data-v-786f451c>7</span><br data-v-786f451c><span class="line-number" data-v-786f451c>8</span><br data-v-786f451c><span class="line-number" data-v-786f451c>9</span><br data-v-786f451c><span class="line-number" data-v-786f451c>10</span><br data-v-786f451c><span class="line-number" data-v-786f451c>11</span><br data-v-786f451c><span class="line-number" data-v-786f451c>12</span><br data-v-786f451c><span class="line-number" data-v-786f451c>13</span><br data-v-786f451c><span class="line-number" data-v-786f451c>14</span><br data-v-786f451c><span class="line-number" data-v-786f451c>15</span><br data-v-786f451c><span class="line-number" data-v-786f451c>16</span><br data-v-786f451c><span class="line-number" data-v-786f451c>17</span><br data-v-786f451c><span class="line-number" data-v-786f451c>18</span><br data-v-786f451c><span class="line-number" data-v-786f451c>19</span><br data-v-786f451c><span class="line-number" data-v-786f451c>20</span><br data-v-786f451c></div></div><p data-v-786f451c>此时我们执行一下 npm run build 就能看到效果了</p> <p data-v-786f451c><img src="/vuebloger/img/post/3f5844d0730941ab9ff45c7c0ac143df_tplv-k3u1fbpfcp-watermark.awebp" alt="" data-v-786f451c></p> <p data-v-786f451c>有一些编译插件中的步骤是异步的，这样就需要额外传入一个 callback 回调函数，并且在插件运行结束时执行这个回调函数</p> <div class="language-js line-numbers-mode" data-v-786f451c><pre class="language-js" data-v-786f451c><code data-v-786f451c><span class="token keyword" data-v-786f451c>class</span> <span class="token class-name" data-v-786f451c>WebpackPlugin2</span> <span class="token punctuation" data-v-786f451c>{</span>
  <span class="token function" data-v-786f451c>constructor</span><span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>options</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
    <span class="token keyword" data-v-786f451c>this</span><span class="token punctuation" data-v-786f451c>.</span>options <span class="token operator" data-v-786f451c>=</span> options
  <span class="token punctuation" data-v-786f451c>}</span>
  <span class="token function" data-v-786f451c>apply</span><span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>compiler</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
    compiler<span class="token punctuation" data-v-786f451c>.</span>hooks<span class="token punctuation" data-v-786f451c>.</span>beforeCompile<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>tapAsync</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'compilation'</span><span class="token punctuation" data-v-786f451c>,</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>compilation<span class="token punctuation" data-v-786f451c>,</span> cb</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token operator" data-v-786f451c>=&gt;</span> <span class="token punctuation" data-v-786f451c>{</span>
      <span class="token function" data-v-786f451c>setTimeout</span><span class="token punctuation" data-v-786f451c>(</span><span class="token punctuation" data-v-786f451c>(</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token operator" data-v-786f451c>=&gt;</span> <span class="token punctuation" data-v-786f451c>{</span>
        console<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>log</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'编译中...'</span><span class="token punctuation" data-v-786f451c>)</span>
        <span class="token function" data-v-786f451c>cb</span><span class="token punctuation" data-v-786f451c>(</span><span class="token punctuation" data-v-786f451c>)</span>
      <span class="token punctuation" data-v-786f451c>}</span><span class="token punctuation" data-v-786f451c>,</span> <span class="token number" data-v-786f451c>1000</span><span class="token punctuation" data-v-786f451c>)</span>
    <span class="token punctuation" data-v-786f451c>}</span><span class="token punctuation" data-v-786f451c>)</span>
  <span class="token punctuation" data-v-786f451c>}</span>
<span class="token punctuation" data-v-786f451c>}</span>

module<span class="token punctuation" data-v-786f451c>.</span>exports <span class="token operator" data-v-786f451c>=</span> WebpackPlugin2
</code></pre> <div class="line-numbers-wrapper" data-v-786f451c><span class="line-number" data-v-786f451c>1</span><br data-v-786f451c><span class="line-number" data-v-786f451c>2</span><br data-v-786f451c><span class="line-number" data-v-786f451c>3</span><br data-v-786f451c><span class="line-number" data-v-786f451c>4</span><br data-v-786f451c><span class="line-number" data-v-786f451c>5</span><br data-v-786f451c><span class="line-number" data-v-786f451c>6</span><br data-v-786f451c><span class="line-number" data-v-786f451c>7</span><br data-v-786f451c><span class="line-number" data-v-786f451c>8</span><br data-v-786f451c><span class="line-number" data-v-786f451c>9</span><br data-v-786f451c><span class="line-number" data-v-786f451c>10</span><br data-v-786f451c><span class="line-number" data-v-786f451c>11</span><br data-v-786f451c><span class="line-number" data-v-786f451c>12</span><br data-v-786f451c><span class="line-number" data-v-786f451c>13</span><br data-v-786f451c><span class="line-number" data-v-786f451c>14</span><br data-v-786f451c><span class="line-number" data-v-786f451c>15</span><br data-v-786f451c></div></div><h2 id="compilation-对象" data-v-786f451c><a href="#compilation-对象" class="header-anchor" data-v-786f451c>#</a> Compilation 对象</h2> <p data-v-786f451c>Compilation 对象代表了一次资源版本构建。当运行 webpack 开发环境中间件时，每当检测到一个文件变化，就会创建一个新的 compilation，从而生成一组新的编译资源。一个 Compilation 对象表现了当前的模块资源、编译生成资源、变化的文件、以及被跟踪依赖的状态信息，简单来讲就是把本次打包编译的内容存到内存里。Compilation 对象也提供了插件需要自定义功能的回调，以供插件做自定义处理时选择使用拓展。</p> <p data-v-786f451c>简单来说，Compilation 的职责就是构建模块和 Chunk，并利用插件优化构建过程。</p> <p data-v-786f451c>Compiler 代表了整个 Webpack 从启动到关闭的生命周期，而 Compilation 只是代表了一次新的编译，只要文件有改动，compilation 就会被重新创建。
Compilation 上暴露的一些常用的钩子：</p> <p data-v-786f451c><img src="/vuebloger/img/post/4ef72647ca8f4816878edeb7912c23b1_tplv-k3u1fbpfcp-watermark.awebp" alt="" data-v-786f451c></p> <p data-v-786f451c>Compiler 和 Compilation 的区别:</p> <ul data-v-786f451c><li data-v-786f451c>Compiler 代表了整个 Webpack 从启动到关闭的生命周期</li> <li data-v-786f451c>Compilation 只是代表了一次新的编译，只要文件有改动，compilation 就会被重新创建。</li></ul> <h2 id="手写插件-1：文件清单" data-v-786f451c><a href="#手写插件-1：文件清单" class="header-anchor" data-v-786f451c>#</a> 手写插件 1：文件清单</h2> <p data-v-786f451c>在每次 webpack 打包之后，自动产生一个一个 markdown 文件清单，记录打包之后的文件夹 dist 里所有的文件的一些信息。</p> <p data-v-786f451c>思路：</p> <ol data-v-786f451c><li data-v-786f451c>通过 compiler.hooks.emit.tapAsync() 来触发生成资源到 output 目录之前的钩子</li> <li data-v-786f451c>通过 compilation.assets 获取文件数量</li> <li data-v-786f451c>定义 markdown 文件的内容，将文件信息写入 markdown 文件内</li> <li data-v-786f451c>给 dist 文件夹里添加一个资源名称为 fileListName 的变量</li> <li data-v-786f451c>写入资源的内容和文件大小</li> <li data-v-786f451c>执行回调，让 webpack 继续执行</li></ol> <div class="language-js line-numbers-mode" data-v-786f451c><pre class="language-js" data-v-786f451c><code data-v-786f451c><span class="token keyword" data-v-786f451c>class</span> <span class="token class-name" data-v-786f451c>FileListPlugin</span> <span class="token punctuation" data-v-786f451c>{</span>
  <span class="token function" data-v-786f451c>constructor</span><span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>options</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
    <span class="token comment" data-v-786f451c>// 获取插件配置项</span>
    <span class="token keyword" data-v-786f451c>this</span><span class="token punctuation" data-v-786f451c>.</span>filename <span class="token operator" data-v-786f451c>=</span> options <span class="token operator" data-v-786f451c>&amp;&amp;</span> options<span class="token punctuation" data-v-786f451c>.</span>filename <span class="token operator" data-v-786f451c>?</span> options<span class="token punctuation" data-v-786f451c>.</span>filename <span class="token operator" data-v-786f451c>:</span> <span class="token string" data-v-786f451c>'FILELIST.md'</span>
  <span class="token punctuation" data-v-786f451c>}</span>

  <span class="token function" data-v-786f451c>apply</span><span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>compiler</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
    <span class="token comment" data-v-786f451c>// 注册 compiler 上的 emit 钩子</span>
    compiler<span class="token punctuation" data-v-786f451c>.</span>hooks<span class="token punctuation" data-v-786f451c>.</span>emit<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>tapAsync</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'FileListPlugin'</span><span class="token punctuation" data-v-786f451c>,</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>compilation<span class="token punctuation" data-v-786f451c>,</span> cb</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token operator" data-v-786f451c>=&gt;</span> <span class="token punctuation" data-v-786f451c>{</span>
      <span class="token comment" data-v-786f451c>// 通过 compilation.assets 获取文件数量</span>
      <span class="token keyword" data-v-786f451c>let</span> len <span class="token operator" data-v-786f451c>=</span> Object<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>keys</span><span class="token punctuation" data-v-786f451c>(</span>compilation<span class="token punctuation" data-v-786f451c>.</span>assets<span class="token punctuation" data-v-786f451c>)</span><span class="token punctuation" data-v-786f451c>.</span>length

      <span class="token comment" data-v-786f451c>// 添加统计信息</span>
      <span class="token keyword" data-v-786f451c>let</span> content <span class="token operator" data-v-786f451c>=</span> <span class="token template-string" data-v-786f451c><span class="token template-punctuation string" data-v-786f451c>`</span><span class="token string" data-v-786f451c># </span><span class="token interpolation" data-v-786f451c><span class="token interpolation-punctuation punctuation" data-v-786f451c>${</span>len<span class="token interpolation-punctuation punctuation" data-v-786f451c>}</span></span><span class="token string" data-v-786f451c> file</span><span class="token interpolation" data-v-786f451c><span class="token interpolation-punctuation punctuation" data-v-786f451c>${</span>len <span class="token operator" data-v-786f451c>&gt;</span> <span class="token number" data-v-786f451c>1</span> <span class="token operator" data-v-786f451c>?</span> <span class="token string" data-v-786f451c>'s'</span> <span class="token operator" data-v-786f451c>:</span> <span class="token string" data-v-786f451c>''</span><span class="token interpolation-punctuation punctuation" data-v-786f451c>}</span></span><span class="token string" data-v-786f451c> emitted by webpack\n\n</span><span class="token template-punctuation string" data-v-786f451c>`</span></span>

      <span class="token comment" data-v-786f451c>// 通过 compilation.assets 获取文件名列表</span>
      <span class="token keyword" data-v-786f451c>for</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token keyword" data-v-786f451c>let</span> filename <span class="token keyword" data-v-786f451c>in</span> compilation<span class="token punctuation" data-v-786f451c>.</span>assets<span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
        content <span class="token operator" data-v-786f451c>+=</span> <span class="token template-string" data-v-786f451c><span class="token template-punctuation string" data-v-786f451c>`</span><span class="token string" data-v-786f451c>- </span><span class="token interpolation" data-v-786f451c><span class="token interpolation-punctuation punctuation" data-v-786f451c>${</span>filename<span class="token interpolation-punctuation punctuation" data-v-786f451c>}</span></span><span class="token string" data-v-786f451c>\n</span><span class="token template-punctuation string" data-v-786f451c>`</span></span>
      <span class="token punctuation" data-v-786f451c>}</span>

      <span class="token comment" data-v-786f451c>// 往 compilation.assets 中添加清单文件</span>
      compilation<span class="token punctuation" data-v-786f451c>.</span>assets<span class="token punctuation" data-v-786f451c>[</span><span class="token keyword" data-v-786f451c>this</span><span class="token punctuation" data-v-786f451c>.</span>filename<span class="token punctuation" data-v-786f451c>]</span> <span class="token operator" data-v-786f451c>=</span> <span class="token punctuation" data-v-786f451c>{</span>
        <span class="token comment" data-v-786f451c>// 写入新文件的内容</span>
        <span class="token function-variable function" data-v-786f451c>source</span><span class="token operator" data-v-786f451c>:</span> <span class="token keyword" data-v-786f451c>function</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
          <span class="token keyword" data-v-786f451c>return</span> content
        <span class="token punctuation" data-v-786f451c>}</span><span class="token punctuation" data-v-786f451c>,</span>
        <span class="token comment" data-v-786f451c>// 新文件大小（给 webapck 输出展示用）</span>
        <span class="token function-variable function" data-v-786f451c>size</span><span class="token operator" data-v-786f451c>:</span> <span class="token keyword" data-v-786f451c>function</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
          <span class="token keyword" data-v-786f451c>return</span> content<span class="token punctuation" data-v-786f451c>.</span>length
        <span class="token punctuation" data-v-786f451c>}</span><span class="token punctuation" data-v-786f451c>,</span>
      <span class="token punctuation" data-v-786f451c>}</span>

      <span class="token comment" data-v-786f451c>// 执行回调，让 webpack 继续执行</span>
      <span class="token function" data-v-786f451c>cb</span><span class="token punctuation" data-v-786f451c>(</span><span class="token punctuation" data-v-786f451c>)</span>
    <span class="token punctuation" data-v-786f451c>}</span><span class="token punctuation" data-v-786f451c>)</span>
  <span class="token punctuation" data-v-786f451c>}</span>
<span class="token punctuation" data-v-786f451c>}</span>

module<span class="token punctuation" data-v-786f451c>.</span>exports <span class="token operator" data-v-786f451c>=</span> FileListPlugin
</code></pre> <div class="line-numbers-wrapper" data-v-786f451c><span class="line-number" data-v-786f451c>1</span><br data-v-786f451c><span class="line-number" data-v-786f451c>2</span><br data-v-786f451c><span class="line-number" data-v-786f451c>3</span><br data-v-786f451c><span class="line-number" data-v-786f451c>4</span><br data-v-786f451c><span class="line-number" data-v-786f451c>5</span><br data-v-786f451c><span class="line-number" data-v-786f451c>6</span><br data-v-786f451c><span class="line-number" data-v-786f451c>7</span><br data-v-786f451c><span class="line-number" data-v-786f451c>8</span><br data-v-786f451c><span class="line-number" data-v-786f451c>9</span><br data-v-786f451c><span class="line-number" data-v-786f451c>10</span><br data-v-786f451c><span class="line-number" data-v-786f451c>11</span><br data-v-786f451c><span class="line-number" data-v-786f451c>12</span><br data-v-786f451c><span class="line-number" data-v-786f451c>13</span><br data-v-786f451c><span class="line-number" data-v-786f451c>14</span><br data-v-786f451c><span class="line-number" data-v-786f451c>15</span><br data-v-786f451c><span class="line-number" data-v-786f451c>16</span><br data-v-786f451c><span class="line-number" data-v-786f451c>17</span><br data-v-786f451c><span class="line-number" data-v-786f451c>18</span><br data-v-786f451c><span class="line-number" data-v-786f451c>19</span><br data-v-786f451c><span class="line-number" data-v-786f451c>20</span><br data-v-786f451c><span class="line-number" data-v-786f451c>21</span><br data-v-786f451c><span class="line-number" data-v-786f451c>22</span><br data-v-786f451c><span class="line-number" data-v-786f451c>23</span><br data-v-786f451c><span class="line-number" data-v-786f451c>24</span><br data-v-786f451c><span class="line-number" data-v-786f451c>25</span><br data-v-786f451c><span class="line-number" data-v-786f451c>26</span><br data-v-786f451c><span class="line-number" data-v-786f451c>27</span><br data-v-786f451c><span class="line-number" data-v-786f451c>28</span><br data-v-786f451c><span class="line-number" data-v-786f451c>29</span><br data-v-786f451c><span class="line-number" data-v-786f451c>30</span><br data-v-786f451c><span class="line-number" data-v-786f451c>31</span><br data-v-786f451c><span class="line-number" data-v-786f451c>32</span><br data-v-786f451c><span class="line-number" data-v-786f451c>33</span><br data-v-786f451c><span class="line-number" data-v-786f451c>34</span><br data-v-786f451c><span class="line-number" data-v-786f451c>35</span><br data-v-786f451c><span class="line-number" data-v-786f451c>36</span><br data-v-786f451c><span class="line-number" data-v-786f451c>37</span><br data-v-786f451c><span class="line-number" data-v-786f451c>38</span><br data-v-786f451c><span class="line-number" data-v-786f451c>39</span><br data-v-786f451c></div></div><h2 id="手写插件-2：去除注释" data-v-786f451c><a href="#手写插件-2：去除注释" class="header-anchor" data-v-786f451c>#</a> 手写插件 2：去除注释</h2> <p data-v-786f451c>开发一个插件能够去除打包后代码的注释，这样我们的 bundle.js 将更容易阅读。</p> <p data-v-786f451c>思路：</p> <ul data-v-786f451c><li data-v-786f451c>通过 compiler.hooks.emit.tap() 来触发生成文件后的钩子</li> <li data-v-786f451c>通过 compilation.assets 拿到生产后的文件，然后去遍历各个文件</li> <li data-v-786f451c>通过 .source() 获取构建产物的文本，然后用正则去 replace 调注释的代码</li> <li data-v-786f451c>更新构建产物对象</li> <li data-v-786f451c>执行回调，让 webpack 继续执行</li></ul> <div class="language-js line-numbers-mode" data-v-786f451c><pre class="language-js" data-v-786f451c><code data-v-786f451c><span class="token keyword" data-v-786f451c>class</span> <span class="token class-name" data-v-786f451c>RemoveCommentPlugin</span> <span class="token punctuation" data-v-786f451c>{</span>
  <span class="token function" data-v-786f451c>constructor</span><span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>options</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
    <span class="token keyword" data-v-786f451c>this</span><span class="token punctuation" data-v-786f451c>.</span>options <span class="token operator" data-v-786f451c>=</span> options
  <span class="token punctuation" data-v-786f451c>}</span>
  <span class="token function" data-v-786f451c>apply</span><span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>compiler</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
    <span class="token comment" data-v-786f451c>// 去除注释正则</span>
    <span class="token keyword" data-v-786f451c>const</span> reg <span class="token operator" data-v-786f451c>=</span> <span class="token regex" data-v-786f451c>/(&quot;([^\\\&quot;]*(\\.)?)*&quot;)|('([^\\\']*(\\.)?)*')|(\/{2,}.*?(\r|\n))|(\/\*(\n|.)*?\*\/)|(\/\*\*\*\*\*\*\/)/g</span>

    compiler<span class="token punctuation" data-v-786f451c>.</span>hooks<span class="token punctuation" data-v-786f451c>.</span>emit<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>tap</span><span class="token punctuation" data-v-786f451c>(</span><span class="token string" data-v-786f451c>'RemoveComment'</span><span class="token punctuation" data-v-786f451c>,</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>compilation</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token operator" data-v-786f451c>=&gt;</span> <span class="token punctuation" data-v-786f451c>{</span>
      <span class="token comment" data-v-786f451c>// 遍历构建产物，.assets中包含构建产物的文件名</span>
      Object<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>keys</span><span class="token punctuation" data-v-786f451c>(</span>compilation<span class="token punctuation" data-v-786f451c>.</span>assets<span class="token punctuation" data-v-786f451c>)</span><span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>forEach</span><span class="token punctuation" data-v-786f451c>(</span><span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>item</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token operator" data-v-786f451c>=&gt;</span> <span class="token punctuation" data-v-786f451c>{</span>
        <span class="token comment" data-v-786f451c>// .source()是获取构建产物的文本</span>
        <span class="token keyword" data-v-786f451c>let</span> content <span class="token operator" data-v-786f451c>=</span> compilation<span class="token punctuation" data-v-786f451c>.</span>assets<span class="token punctuation" data-v-786f451c>[</span>item<span class="token punctuation" data-v-786f451c>]</span><span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>source</span><span class="token punctuation" data-v-786f451c>(</span><span class="token punctuation" data-v-786f451c>)</span>
        content <span class="token operator" data-v-786f451c>=</span> content<span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>replace</span><span class="token punctuation" data-v-786f451c>(</span>reg<span class="token punctuation" data-v-786f451c>,</span> <span class="token keyword" data-v-786f451c>function</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token parameter" data-v-786f451c>word</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token punctuation" data-v-786f451c>{</span>
          <span class="token comment" data-v-786f451c>// 去除注释后的文本</span>
          <span class="token keyword" data-v-786f451c>return</span> <span class="token operator" data-v-786f451c>/</span><span class="token operator" data-v-786f451c>^</span>\<span class="token regex" data-v-786f451c>/{2,}/</span><span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>test</span><span class="token punctuation" data-v-786f451c>(</span>word<span class="token punctuation" data-v-786f451c>)</span> <span class="token operator" data-v-786f451c>||</span> <span class="token regex" data-v-786f451c>/^\/\*!/</span><span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>test</span><span class="token punctuation" data-v-786f451c>(</span>word<span class="token punctuation" data-v-786f451c>)</span> <span class="token operator" data-v-786f451c>||</span> <span class="token regex" data-v-786f451c>/^\/\*{3,}\//</span><span class="token punctuation" data-v-786f451c>.</span><span class="token function" data-v-786f451c>test</span><span class="token punctuation" data-v-786f451c>(</span>word<span class="token punctuation" data-v-786f451c>)</span> <span class="token operator" data-v-786f451c>?</span> <span class="token string" data-v-786f451c>''</span> <span class="token operator" data-v-786f451c>:</span> word
        <span class="token punctuation" data-v-786f451c>}</span><span class="token punctuation" data-v-786f451c>)</span>
        <span class="token comment" data-v-786f451c>// 更新构建产物对象</span>
        compilation<span class="token punctuation" data-v-786f451c>.</span>assets<span class="token punctuation" data-v-786f451c>[</span>item<span class="token punctuation" data-v-786f451c>]</span> <span class="token operator" data-v-786f451c>=</span> <span class="token punctuation" data-v-786f451c>{</span>
          <span class="token function-variable function" data-v-786f451c>source</span><span class="token operator" data-v-786f451c>:</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token operator" data-v-786f451c>=&gt;</span> content<span class="token punctuation" data-v-786f451c>,</span>
          <span class="token function-variable function" data-v-786f451c>size</span><span class="token operator" data-v-786f451c>:</span> <span class="token punctuation" data-v-786f451c>(</span><span class="token punctuation" data-v-786f451c>)</span> <span class="token operator" data-v-786f451c>=&gt;</span> content<span class="token punctuation" data-v-786f451c>.</span>length<span class="token punctuation" data-v-786f451c>,</span>
        <span class="token punctuation" data-v-786f451c>}</span>
      <span class="token punctuation" data-v-786f451c>}</span><span class="token punctuation" data-v-786f451c>)</span>
    <span class="token punctuation" data-v-786f451c>}</span><span class="token punctuation" data-v-786f451c>)</span>
  <span class="token punctuation" data-v-786f451c>}</span>
<span class="token punctuation" data-v-786f451c>}</span>

module<span class="token punctuation" data-v-786f451c>.</span>exports <span class="token operator" data-v-786f451c>=</span> RemoveCommentPlugin
</code></pre> <div class="line-numbers-wrapper" data-v-786f451c><span class="line-number" data-v-786f451c>1</span><br data-v-786f451c><span class="line-number" data-v-786f451c>2</span><br data-v-786f451c><span class="line-number" data-v-786f451c>3</span><br data-v-786f451c><span class="line-number" data-v-786f451c>4</span><br data-v-786f451c><span class="line-number" data-v-786f451c>5</span><br data-v-786f451c><span class="line-number" data-v-786f451c>6</span><br data-v-786f451c><span class="line-number" data-v-786f451c>7</span><br data-v-786f451c><span class="line-number" data-v-786f451c>8</span><br data-v-786f451c><span class="line-number" data-v-786f451c>9</span><br data-v-786f451c><span class="line-number" data-v-786f451c>10</span><br data-v-786f451c><span class="line-number" data-v-786f451c>11</span><br data-v-786f451c><span class="line-number" data-v-786f451c>12</span><br data-v-786f451c><span class="line-number" data-v-786f451c>13</span><br data-v-786f451c><span class="line-number" data-v-786f451c>14</span><br data-v-786f451c><span class="line-number" data-v-786f451c>15</span><br data-v-786f451c><span class="line-number" data-v-786f451c>16</span><br data-v-786f451c><span class="line-number" data-v-786f451c>17</span><br data-v-786f451c><span class="line-number" data-v-786f451c>18</span><br data-v-786f451c><span class="line-number" data-v-786f451c>19</span><br data-v-786f451c><span class="line-number" data-v-786f451c>20</span><br data-v-786f451c><span class="line-number" data-v-786f451c>21</span><br data-v-786f451c><span class="line-number" data-v-786f451c>22</span><br data-v-786f451c><span class="line-number" data-v-786f451c>23</span><br data-v-786f451c><span class="line-number" data-v-786f451c>24</span><br data-v-786f451c><span class="line-number" data-v-786f451c>25</span><br data-v-786f451c><span class="line-number" data-v-786f451c>26</span><br data-v-786f451c><span class="line-number" data-v-786f451c>27</span><br data-v-786f451c><span class="line-number" data-v-786f451c>28</span><br data-v-786f451c></div></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">12/23/2021, 6:20:52 PM</span></div></div> <!----> </div> <!----></div><div class="global-ui"></div></div>
    <script src="/vuebloger/assets/js/app.a65085b2.js" defer></script><script src="/vuebloger/assets/js/7.02fe805f.js" defer></script><script src="/vuebloger/assets/js/1.252ffbfc.js" defer></script><script src="/vuebloger/assets/js/73.686450b9.js" defer></script><script src="/vuebloger/assets/js/55.39d24d6d.js" defer></script>
  </body>
</html>
