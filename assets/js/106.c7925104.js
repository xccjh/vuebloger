(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{590:function(s,n,a){"use strict";a.r(n);var e=a(47),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"一、组件主题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、组件主题"}},[s._v("#")]),s._v(" 一、组件主题")]),s._v(" "),a("p",[s._v("基础色，中性色，产品色（系统色），功能色")]),s._v(" "),a("h4",{attrs:{id:"色彩两大体系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#色彩两大体系"}},[s._v("#")]),s._v(" 色彩两大体系")]),s._v(" "),a("h5",{attrs:{id:"系统色板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统色板"}},[s._v("#")]),s._v(" 系统色板")]),s._v(" "),a("blockquote",[a("p",[s._v("符合Vision的各种基础色板,比如红，蓝，紫的定义")]),s._v(" "),a("p",[s._v("中性色板：黑白灰三色")])]),s._v(" "),a("h5",{attrs:{id:"产品色板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#产品色板"}},[s._v("#")]),s._v(" 产品色板")]),s._v(" "),a("blockquote",[a("p",[s._v("一到两个主要色彩（品牌色/primary color）")]),s._v(" "),a("p",[s._v("一到两个次要颜色（secondary color）")]),s._v(" "),a("p",[s._v("一系列功能色板")])]),s._v(" "),a("p",[s._v("边框色，字体色，背景色，阴影色等")]),s._v(" "),a("p",[s._v("字体系统")]),s._v(" "),a("blockquote",[a("p",[s._v("Font Family")]),s._v(" "),a("p",[s._v("Font Size")]),s._v(" "),a("p",[s._v("Font Weight")]),s._v(" "),a("p",[s._v("Line Height")]),s._v(" "),a("p",[s._v("Header Size")]),s._v(" "),a("p",[s._v("Link")]),s._v(" "),a("p",[s._v("Spacing")]),s._v(" "),a("p",[s._v("Paragraphs")]),s._v(" "),a("p",[s._v("Code")])]),s._v(" "),a("p",[s._v("按钮，输入框，进度条，菜单栏细节定义圆角样式，list， hr，Body等等")]),s._v(" "),a("p",[s._v("预定变量，使用预处理函编程，mixin.scss，animation.scss，reset.scss,normalize.scss")]),s._v(" "),a("h5",{attrs:{id:"色板变量实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#色板变量实例"}},[s._v("#")]),s._v(" 色板变量实例")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('$white:    #fff !default;\n$gray-100: #f8f9fa !default;\n$gray-200: #e9ecef !default;\n$gray-300: #dee2e6 !default;\n$gray-400: #ced4da !default;\n$gray-500: #adb5bd !default;\n$gray-600: #6c757d !default;\n$gray-700: #495057 !default;\n$gray-800: #343a40 !default;\n$gray-900: #212529 !default;\n$black:    #000 !default;\n\n$blue:    #0d6efd !default;\n$indigo:  #6610f2 !default;\n$purple:  #6f42c1 !default;\n$pink:    #d63384 !default;\n$red:     #dc3545 !default;\n$orange:  #fd7e14 !default;\n$yellow:  #fadb14 !default;\n$green:   #52c41a !default;\n$teal:    #20c997 !default;\n$cyan:    #17a2b8 !default;\n\n$primary:       $blue !default;\n$secondary:     $gray-600 !default;\n$success:       $green !default;\n$info:          $cyan !default;\n$warning:       $yellow !default;\n$danger:        $red !default;\n$light:         $gray-100 !default;\n$dark:          $gray-800 !default;\n// sass中的map\n$theme-colors:\n(\n  "primary":    $primary,\n  "secondary":  $secondary,\n  "success":    $success,\n  "info":       $info,\n  "warning":    $warning,\n  "danger":     $danger,\n  "light":      $light,\n  "dark":       $dark\n);\n\n// 字体家族\n$font-family-sans-serif:      -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji" !default;\n$font-family-monospace:       SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace !default;\n$font-family-base:            $font-family-sans-serif !default;\n\n// 字体大小\n$font-size-base:              1rem !default; // Assumes the browser default, typically `16px`\n$font-size-lg:                $font-size-base * 1.25 !default;\n$font-size-sm:                $font-size-base * .875 !default;\n$font-size-root:              null !default;\n\n// 字重\n$font-weight-lighter:         lighter !default;\n$font-weight-light:           300 !default;\n$font-weight-normal:          400 !default;\n$font-weight-bold:            700 !default;\n$font-weight-bolder:          bolder !default;\n$font-weight-base:            $font-weight-normal !default;\n\n// 行高\n$line-height-base:            1.5 !default;\n$line-height-lg:              2 !default;\n$line-height-sm:              1.25 !default;\n\n// 标题大小\n$h1-font-size:                $font-size-base * 2.5 !default;\n$h2-font-size:                $font-size-base * 2 !default;\n$h3-font-size:                $font-size-base * 1.75 !default;\n$h4-font-size:                $font-size-base * 1.5 !default;\n$h5-font-size:                $font-size-base * 1.25 !default;\n$h6-font-size:                $font-size-base !default;\n\n// 链接\n$link-color:                              $primary !default;\n$link-decoration:                         none !default;\n$link-hover-color:                        darken($link-color, 15%) !default;\n$link-hover-decoration:                   underline !default;\n\n// body\n$body-bg:                   $white !default;\n$body-color:                $gray-900 !default;\n$body-text-align:           null !default;\n\n// Spacing\n$spacer: 1rem !default;\n\n$headings-margin-bottom:      $spacer / 2 !default;\n$headings-font-family:        null !default;\n$headings-font-style:         null !default;\n$headings-font-weight:        500 !default;\n$headings-line-height:        1.2 !default;\n$headings-color:              null !default;\n\n// Paragraphs\n\n$paragraph-margin-bottom:   1rem !default;\n\n// 字体其他部分 heading list hr 等等\n$headings-margin-bottom:      $spacer / 2 !default;\n$headings-font-family:        null !default;\n$headings-font-style:         null !default;\n$headings-font-weight:        500 !default;\n$headings-line-height:        1.2 !default;\n$headings-color:              null !default;\n\n$display1-size:               6rem !default;\n$display2-size:               5.5rem !default;\n$display3-size:               4.5rem !default;\n$display4-size:               3.5rem !default;\n\n$display1-weight:             300 !default;\n$display2-weight:             300 !default;\n$display3-weight:             300 !default;\n$display4-weight:             300 !default;\n$display-line-height:         $headings-line-height !default;\n\n$lead-font-size:              $font-size-base * 1.25 !default;\n$lead-font-weight:            300 !default;\n\n$small-font-size:             .875em !default;\n\n$sub-sup-font-size:           .75em !default;\n\n$text-muted:                  $gray-600 !default;\n\n$initialism-font-size:        $small-font-size !default;\n\n$blockquote-small-color:      $gray-600 !default;\n$blockquote-small-font-size:  $small-font-size !default;\n$blockquote-font-size:        $font-size-base * 1.25 !default;\n\n$hr-color:                    inherit !default;\n$hr-height:                   1px !default;\n$hr-opacity:                  .25 !default;\n\n$legend-margin-bottom:        .5rem !default;\n$legend-font-size:            1.5rem !default;\n$legend-font-weight:          null !default;\n\n$mark-padding:                .2em !default;\n\n$dt-font-weight:              $font-weight-bold !default;\n\n$nested-kbd-font-weight:      $font-weight-bold !default;\n\n$list-inline-padding:         .5rem !default;\n\n$mark-bg:                     #fcf8e3 !default;\n\n$hr-margin-y:                 $spacer !default;\n\n// Code\n\n$code-font-size:                    $small-font-size !default;\n$code-color:                        $pink !default;\n$pre-color:                         null !default;\n\n// options 可配置选项\n$enable-pointer-cursor-for-buttons:           true !default;\n\n// 边框 和 border radius\n\n$border-width:                1px !default;\n$border-color:                $gray-300 !default;\n\n$border-radius:               .25rem !default;\n$border-radius-lg:            .3rem !default;\n$border-radius-sm:            .2rem !default;\n\n// 不同类型的 box shadow\n$box-shadow-sm:               0 .125rem .25rem rgba($black, .075) !default;\n$box-shadow:                  0 .5rem 1rem rgba($black, .15) !default;\n$box-shadow-lg:               0 1rem 3rem rgba($black, .175) !default;\n$box-shadow-inset:            inset 0 1px 2px rgba($black, .075) !default;\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br"),a("span",{staticClass:"line-number"},[s._v("110")]),a("br"),a("span",{staticClass:"line-number"},[s._v("111")]),a("br"),a("span",{staticClass:"line-number"},[s._v("112")]),a("br"),a("span",{staticClass:"line-number"},[s._v("113")]),a("br"),a("span",{staticClass:"line-number"},[s._v("114")]),a("br"),a("span",{staticClass:"line-number"},[s._v("115")]),a("br"),a("span",{staticClass:"line-number"},[s._v("116")]),a("br"),a("span",{staticClass:"line-number"},[s._v("117")]),a("br"),a("span",{staticClass:"line-number"},[s._v("118")]),a("br"),a("span",{staticClass:"line-number"},[s._v("119")]),a("br"),a("span",{staticClass:"line-number"},[s._v("120")]),a("br"),a("span",{staticClass:"line-number"},[s._v("121")]),a("br"),a("span",{staticClass:"line-number"},[s._v("122")]),a("br"),a("span",{staticClass:"line-number"},[s._v("123")]),a("br"),a("span",{staticClass:"line-number"},[s._v("124")]),a("br"),a("span",{staticClass:"line-number"},[s._v("125")]),a("br"),a("span",{staticClass:"line-number"},[s._v("126")]),a("br"),a("span",{staticClass:"line-number"},[s._v("127")]),a("br"),a("span",{staticClass:"line-number"},[s._v("128")]),a("br"),a("span",{staticClass:"line-number"},[s._v("129")]),a("br"),a("span",{staticClass:"line-number"},[s._v("130")]),a("br"),a("span",{staticClass:"line-number"},[s._v("131")]),a("br"),a("span",{staticClass:"line-number"},[s._v("132")]),a("br"),a("span",{staticClass:"line-number"},[s._v("133")]),a("br"),a("span",{staticClass:"line-number"},[s._v("134")]),a("br"),a("span",{staticClass:"line-number"},[s._v("135")]),a("br"),a("span",{staticClass:"line-number"},[s._v("136")]),a("br"),a("span",{staticClass:"line-number"},[s._v("137")]),a("br"),a("span",{staticClass:"line-number"},[s._v("138")]),a("br"),a("span",{staticClass:"line-number"},[s._v("139")]),a("br"),a("span",{staticClass:"line-number"},[s._v("140")]),a("br"),a("span",{staticClass:"line-number"},[s._v("141")]),a("br"),a("span",{staticClass:"line-number"},[s._v("142")]),a("br"),a("span",{staticClass:"line-number"},[s._v("143")]),a("br"),a("span",{staticClass:"line-number"},[s._v("144")]),a("br"),a("span",{staticClass:"line-number"},[s._v("145")]),a("br"),a("span",{staticClass:"line-number"},[s._v("146")]),a("br"),a("span",{staticClass:"line-number"},[s._v("147")]),a("br"),a("span",{staticClass:"line-number"},[s._v("148")]),a("br"),a("span",{staticClass:"line-number"},[s._v("149")]),a("br"),a("span",{staticClass:"line-number"},[s._v("150")]),a("br"),a("span",{staticClass:"line-number"},[s._v("151")]),a("br"),a("span",{staticClass:"line-number"},[s._v("152")]),a("br"),a("span",{staticClass:"line-number"},[s._v("153")]),a("br"),a("span",{staticClass:"line-number"},[s._v("154")]),a("br"),a("span",{staticClass:"line-number"},[s._v("155")]),a("br"),a("span",{staticClass:"line-number"},[s._v("156")]),a("br"),a("span",{staticClass:"line-number"},[s._v("157")]),a("br"),a("span",{staticClass:"line-number"},[s._v("158")]),a("br"),a("span",{staticClass:"line-number"},[s._v("159")]),a("br"),a("span",{staticClass:"line-number"},[s._v("160")]),a("br"),a("span",{staticClass:"line-number"},[s._v("161")]),a("br"),a("span",{staticClass:"line-number"},[s._v("162")]),a("br"),a("span",{staticClass:"line-number"},[s._v("163")]),a("br"),a("span",{staticClass:"line-number"},[s._v("164")]),a("br"),a("span",{staticClass:"line-number"},[s._v("165")]),a("br"),a("span",{staticClass:"line-number"},[s._v("166")]),a("br"),a("span",{staticClass:"line-number"},[s._v("167")]),a("br"),a("span",{staticClass:"line-number"},[s._v("168")]),a("br"),a("span",{staticClass:"line-number"},[s._v("169")]),a("br"),a("span",{staticClass:"line-number"},[s._v("170")]),a("br"),a("span",{staticClass:"line-number"},[s._v("171")]),a("br"),a("span",{staticClass:"line-number"},[s._v("172")]),a("br"),a("span",{staticClass:"line-number"},[s._v("173")]),a("br"),a("span",{staticClass:"line-number"},[s._v("174")]),a("br"),a("span",{staticClass:"line-number"},[s._v("175")]),a("br"),a("span",{staticClass:"line-number"},[s._v("176")]),a("br"),a("span",{staticClass:"line-number"},[s._v("177")]),a("br"),a("span",{staticClass:"line-number"},[s._v("178")]),a("br")])]),a("h5",{attrs:{id:"sass多层嵌套map"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sass多层嵌套map"}},[s._v("#")]),s._v(" Sass多层嵌套map")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("$map: (\n  key1: value1,\n  key2: (\n      key-1: value-1,\n      key-2: value-2,\n      ),\n  key3: value3\n);\n")])])]),a("h5",{attrs:{id:"sass-maps的函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sass-maps的函数"}},[s._v("#")]),s._v(" Sass Maps的函数")]),s._v(" "),a("p",[s._v("一共七个函数：")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("map-get($map,$key)：")]),s._v(" "),a("th",[s._v("根据给定的 key 值，返回 map 中相关的值。")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("map-merge($map1,$map2)")]),s._v(" "),a("td",[s._v("将两个 map 合并成一个新的 map。")])]),s._v(" "),a("tr",[a("td",[s._v("map-remove($map,$key)")]),s._v(" "),a("td",[s._v("从 map 中删除一个 key，返回一个新 map。")])]),s._v(" "),a("tr",[a("td",[s._v("map-keys($map)")]),s._v(" "),a("td",[s._v("返回 map 中所有的 key。")])]),s._v(" "),a("tr",[a("td",[s._v("map-values($map)")]),s._v(" "),a("td",[s._v("返回 map 中所有的 value")])]),s._v(" "),a("tr",[a("td",[s._v("map-has-key($map,$key)")]),s._v(" "),a("td",[s._v("以key 判断 map 是否有对应的value ，如果有返回 true，否则返回 false")])]),s._v(" "),a("tr",[a("td",[s._v("keywords($args)")]),s._v(" "),a("td",[s._v("返回一个函数的参数，这个参数可以动态的设置 key 和 value。")])])])]),s._v(" "),a("blockquote",[a("p",[s._v("map-get($map,$key)")])]),s._v(" "),a("p",[s._v("map-get($map,$key) 函数的作用是根据 $key 参数，返回 $key 在 $map 中对应的 value 值。如果 $key 不存在 $map中，将返回 null 值。此函数包括两个参数：")]),s._v(" "),a("ul",[a("li",[s._v("$map：定义好的 map。")]),s._v(" "),a("li",[s._v("$key：需要遍历的 key。")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//SCSS\n$social-colors: (\n    dribble: #ea4c89,\n    facebook: #3b5998,\n    github: #171515,\n    google: #db4437,\n    twitter: #55acee\n);\n.btn-dribble{\n  color: map-get($social-colors,facebook);\n}\n \n//编译后的css\n.btn-dribble {color: #3b5998; }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("blockquote",[a("p",[s._v("map-has-key($map,$key) 函数")])]),s._v(" "),a("p",[s._v("map-has-key($map,$key) 函数将返回一个布尔值。当 $map 中有这个 $key，则函数返回 true，否则返回 false。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('@if map-has-key($social-colors,facebook){\n    .btn-facebook {\n        color: map-get($social-colors,facebook);\n    }\n} @else {\n    @warn "No color found for faceboo in $social-colors map. Property ommitted."\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("有了这个函数之后，我们就可以这样使用")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// 定义函数\n@function colors($color){\n    @if not map-has-key($social-colors,$color){\n        @warn "No color found for `#{$color}` in $social-colors map. Property omitted.";\n    }\n    @return map-get($social-colors,$color);\n}\n// 使用函数\n.btn-dribble {\n    color: colors(dribble);\n}\n.btn-facebook {\n    color: colors(facebook);\n}\n.btn-github {\n    color: colors(github);\n}\n.btn-google {\n    color: colors(google);\n}\n.btn-twitter {\n    color: colors(twitter);\n}\n.btn-weibo {\n    color: colors(weibo);\n}\n// 或者使用循环\n$social-network:dribble,facebook,github,google,twtter,weibo;//定义list\n@each $social-network,$social-color in $social-colors {\n    .btn-#{$social-network} {\n        color: colors($social-network);\n    }\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br")])]),a("blockquote",[a("p",[s._v("3、map-keys($map)")])]),s._v(" "),a("p",[s._v("map-keys($map) 函数将会返回 $map 中的所有 key。这些值赋予给一个变量，那他就是一个列表。如：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('map-keys($social-colors);\n// "dribble","facebook","github","google","twitter"\n// 换句话说：$list: map-keys(social-colors);\n// 相当于：  $list:"dribble","facebook","github","google","twitter";\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("上面的示例，可以通过 "),a("code",[s._v("map-keys($map)")]),s._v("来判断如果这个位置不存在，将返回提示信息，存在将返回正确的值。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('@function colors($color){\n    $names: map-keys($social-colors);\n    @if not index($names,$color){\n        @warn "Waring: `#{$color} is not a valid color name.`";\n    }\n    @return map-get($social-colors,$color);\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("同样，也可以通过 @each 或者 @for 遍历出所有值：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// @each\n@each $name in map-keys($social-colors){\n    .btn-#{$name}{\n        color: colors($name);\n    }\n}\n \n//@for\n@for $i from 1 through length(map-keys($social-colors)){\n    .btn-#{nth(map-keys($social-colors),$i)} {\n        color: colors(nth(map-keys($social-colors),$i));\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("blockquote",[a("p",[s._v("4、map-values($map)")])]),s._v(" "),a("p",[s._v("map-values($map) 函数类似于 map-keys($map) 功能，不同的是 map-values($map )获取的是 $map 的所有 value 值，可以说也是一个列表。而且map-values($map) 中如果有相同的 value 也将会全部获取出来。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("map-values($social-colors)\n// 将会返回：`#ea4c89`,`#3b5998`,`#171515`,`#db4437`,`#55acee`\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("blockquote",[a("p",[s._v("5、map-merge($map1,$map2)")])]),s._v(" "),a("p",[s._v("map-merge($map1,$map2) 函数是将 $map1 和 $map2 合并，然后得到一个新的 map。如果你要快速将新的值插入到"),a("code",[s._v("map")]),s._v("中的话，这种方法是最佳方法")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$color: (\n    text: #f36,\n    link: #f63,\n    border: #ddd,\n    backround: #fff\n);\n$typo:(\n    font-size: 12px,\n    line-height: 1.6\n);\n//如果希望将这两个 $map 合并成一个 map，我们只要这样做：\n$newmap: map-merge($color,$typo);\n//将会生成一个新的 map:\n$newmap:(\n    text: #f36,\n    link: #f63,\n    border: #ddd,\n    background: #fff,\n    font-size: 12px,\n    line-height: 1.6\n);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("p",[s._v("有一点需要注意，如果 $map1 和 $map2 中有相同的 $key 名，那么将 $map2 中的 $key 会取代 $map1 中的值")]),s._v(" "),a("blockquote",[a("p",[s._v("map-remove($map,$key)")])]),s._v(" "),a("p",[s._v("map-remove($map,$key) 函数是用来删除当前 $map 中的某一个 $key，从而得到一个新的 map。其返回的值还是一个 map。他并不能直接从一个 map 中删除另一个 map，仅能通过删除 map 中的某个 key 得到新 map。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("map:map-remove($social-colors,dribble);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("返回的是一个新 map:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$map:(\n    facebook: #3b5998,\n    github: #171515,\n    google: #db4437,\n    twitter: #55acee\n);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("如果删除的 key 并不存在于 $map 中，那么 map-remove() 函数返回的新 map 和以前的 map 一样。")]),s._v(" "),a("blockquote",[a("h5",{attrs:{id:"_7、keywords-args"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、keywords-args"}},[s._v("#")]),s._v(" 7、"),a("strong",[s._v("keywords($args)")])])]),s._v(" "),a("p",[a("code",[s._v("keywords($args)")]),s._v("函数可以说是一个动态创建 map 的函数。可以通过混合宏或函数的参数创建 map。参数也是成对出现，其中 "),a("code",[s._v("$args")]),s._v(" 变成 key(会自动去掉$符号)，而 $args 对应的值就是value。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("@mixin map($args...){\n    @debug keywords($args);\n}\n@include map(\n  $dribble: #ea4c89,\n  $facebook: #3b5998,\n  $github: #171515,\n  $google: #db4437,\n  $twitter: #55acee\n);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("在命令终端可以看到一个输入的 @debug 信息：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("DEBUG: (dribble: #ea4c89, facebook: #3b5998, github: #171515, google: #db4437, twitter: #55acee)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h5",{attrs:{id:"组件细节实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件细节实例"}},[s._v("#")]),s._v(" 组件细节实例")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 按钮基本属性\n$btn-font-weight:             400;\n$btn-padding-y:               .375rem !default;\n$btn-padding-x:               .75rem !default;\n$btn-font-family:             $font-family-base !default;\n$btn-font-size:               $font-size-base !default;\n$btn-line-height:             $line-height-base !default;\n\n//不同大小按钮的 padding 和 font size\n$btn-padding-y-sm:            .25rem !default;\n$btn-padding-x-sm:            .5rem !default;\n$btn-font-size-sm:            $font-size-sm !default;\n\n$btn-padding-y-lg:            .5rem !default;\n$btn-padding-x-lg:            1rem !default;\n$btn-font-size-lg:            $font-size-lg !default;\n\n// 按钮边框\n$btn-border-width:            $border-width !default;\n\n// 按钮其他\n$btn-box-shadow:              inset 0 1px 0 rgba($white, .15), 0 1px 1px rgba($black, .075) !default;\n$btn-disabled-opacity:        .65 !default;\n\n// 链接按钮\n$btn-link-color:              $link-color !default;\n$btn-link-hover-color:        $link-hover-color !default;\n$btn-link-disabled-color:     $gray-600 !default;\n\n\n// 按钮 radius\n$btn-border-radius:           $border-radius !default;\n$btn-border-radius-lg:        $border-radius-lg !default;\n$btn-border-radius-sm:        $border-radius-sm !default;\n\n$btn-transition:              color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out !default;\n\n// menu\n$menu-border-width:            $border-width !default;\n$menu-border-color:            $border-color !default;\n$menu-box-shadow:              inset 0 1px 0 rgba($white, .15), 0 1px 1px rgba($black, .075) !default;\n$menu-transition:              color .15s ease-in-out, border-color .15s ease-in-out !default;\n\n// menu-item\n$menu-item-padding-y:          .5rem !default;\n$menu-item-padding-x:          1rem !default;\n$menu-item-active-color:       $primary !default;\n$menu-item-active-border-width: 2px !default;\n$menu-item-disabled-color:     $gray-600 !default;\n\n//sub-menu\n//submenu\n$submenu-box-shadow: 0 2px 4px 0 rgba(0,0,0,.12), 0 0 6px 0 rgba(0,0,0,.04);\n\n//input\n$input-padding-y:                       $btn-padding-y !default;\n$input-padding-x:                       $btn-padding-x !default;\n$input-font-family:                     $btn-font-family !default;\n$input-font-size:                       $btn-font-size !default;\n$input-font-weight:                     $font-weight-base !default;\n$input-line-height:                     $btn-line-height !default;\n\n$input-padding-y-sm:                    $btn-padding-y-sm !default;\n$input-padding-x-sm:                    $btn-padding-x-sm !default;\n$input-font-size-sm:                    $btn-font-size-sm !default;\n\n$input-padding-y-lg:                    $btn-padding-y-lg !default;\n$input-padding-x-lg:                    $btn-padding-x-lg !default;\n$input-font-size-lg:                    $btn-font-size-lg !default;\n\n$input-bg:                              $white !default;\n$input-disabled-bg:                     $gray-200 !default;\n$input-disabled-border-color:           null !default;\n\n$input-color:                           $gray-700 !default;\n$input-border-color:                    $gray-400 !default;\n$input-border-width:                    $border-width !default;\n$input-box-shadow:                      $box-shadow-inset !default;\n\n$input-border-radius:                   $border-radius !default;\n$input-border-radius-lg:                $border-radius-lg !default;\n$input-border-radius-sm:                $border-radius-sm !default;\n\n$input-focus-bg:                        $input-bg !default;\n$input-focus-border-color:              lighten($primary, 25%) !default;\n$input-focus-width:                     .2rem !default;\n$input-focus-color:                     $input-color !default;\n$input-focus-shadow-color:              rgba($primary, .25) !default;\n$input-focus-box-shadow:                0 0 0 $input-focus-width $input-focus-shadow-color !default;\n\n$input-placeholder-color:               $gray-600 !default;\n$input-plaintext-color:                 $body-color !default;\n\n$input-height-border:                   $input-border-width * 2 !default;\n\n\n$input-transition:                      border-color .3s ease-in-out, box-shadow .3s ease-in-out !default;\n\n$input-group-addon-color:               $input-color !default;\n$input-group-addon-bg:                  $gray-200 !default;\n$input-group-addon-border-color:        $input-border-color !default;\n\n// Progress bars\n\n$progress-bar-color:                $white !default;\n$progress-font-size:                $font-size-base * .75 !default;\n$progress-bg:                       $gray-200 !default;\n$progress-border-radius:            $border-radius !default;\n$progress-bar-transition:           width .6s ease !default;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br")])]),a("h5",{attrs:{id:"代码组织实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代码组织实例"}},[s._v("#")]),s._v(" 代码组织实例")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/4.png",alt:"4"}})]),s._v(" "),a("p",[s._v("可以看到上图有两个主题包")]),s._v(" "),a("h5",{attrs:{id:"elementui"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#elementui"}},[s._v("#")]),s._v(" elementUI")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("img",{attrs:{src:"pic/10.png",alt:"Elementui"}})]),s._v(" "),a("th",[a("code",[s._v("build")]),s._v("：放置webpack的配置文件。"),a("br"),s._v(" "),a("code",[s._v("examples")]),s._v("：放置element api的页面文档。 "),a("br"),a("code",[s._v("packages")]),s._v("：放置element的组件（css样式放置在这个目录下"),a("code",[s._v("theme-chalk")]),s._v("下）。 "),a("br"),a("code",[s._v("src/directives")]),s._v("：放置自定义指令。 "),a("br"),a("code",[s._v("src/locale")]),s._v("：放置语言的配置文件。"),a("br"),s._v(" "),a("code",[s._v("src/mixins")]),s._v("：放置组件用的混合文件。"),a("br"),s._v(" "),a("code",[s._v("src/transitions")]),s._v("：放置动画配置文件。"),a("br"),s._v(" "),a("code",[s._v("src/utils")]),s._v("：放置用到工具函数文件。 "),a("br"),a("code",[s._v("src/index.js")]),s._v("：组件注册的入口文件。 "),a("br"),a("code",[s._v("test")]),s._v("：测试文件。"),a("br"),s._v(" "),a("code",[s._v("types")]),s._v("：这个文件里放了typescript的数据类")])])]),s._v(" "),a("tbody",[a("tr",[a("td"),s._v(" "),a("td")])])]),s._v(" "),a("h5",{attrs:{id:"iview结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iview结构"}},[s._v("#")]),s._v(" iview结构")]),s._v(" "),a("h5",{attrs:{id:""}},[a("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")]),s._v(" "),a("img",{attrs:{src:"pic/11.png",alt:"11"}})]),s._v(" "),a("blockquote",[a("p",[s._v("assets—图片存放目录")]),s._v(" "),a("p",[s._v("build—Webpack配置存放目录")]),s._v(" "),a("p",[s._v("dist—打包之后页面存放目录")]),s._v(" "),a("p",[s._v("examples—组件的demo页面存放目录")]),s._v(" "),a("p",[s._v("src—组件根目录")]),s._v(" "),a("p",[s._v("components—组件存放目录")]),s._v(" "),a("p",[s._v("directives—组件封装的指令存放目录")]),s._v(" "),a("p",[s._v("locale—组件封装的语言配置存放目录")]),s._v(" "),a("p",[s._v("mixins—组件封装的混入存放目录")]),s._v(" "),a("p",[s._v("styles—组件的样式根目录")]),s._v(" "),a("p",[s._v("animation—动画样式")]),s._v(" "),a("p",[s._v("common—公共样式")]),s._v(" "),a("p",[s._v("components—组件样式")]),s._v(" "),a("p",[s._v("mixins—混入样式")]),s._v(" "),a("p",[s._v("custom.less—样式公共变量")]),s._v(" "),a("p",[s._v("index.less—样式入口")]),s._v(" "),a("p",[s._v("utils—组件内部公共方法")]),s._v(" "),a("p",[s._v("index.js—组件入口")])]),s._v(" "),a("h5",{attrs:{id:"antd-vue结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#antd-vue结构"}},[s._v("#")]),s._v(" antd-vue结构")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/12.png",alt:"12"}})]),s._v(" "),a("h5",{attrs:{id:"antd-react结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#antd-react结构"}},[s._v("#")]),s._v(" antd-react结构")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("img",{attrs:{src:"pic/13.png",alt:"13"}})]),s._v(" "),a("th",[a("code",[s._v("components")]),s._v(":放置组件文件（文档、样式都放在这里面）。"),a("br"),s._v(" "),a("code",[s._v("components/demo")]),s._v(":组件的api文档。"),a("br"),a("code",[s._v("components/tyle")]),s._v(":组件的样式文件。"),a("br"),a("code",[s._v("components/index.tsx")]),s._v(":组件的入口文件。"),a("br"),a("code",[s._v("docs")]),s._v(":Ant Design of React相关文档。"),a("br"),a("code",[s._v("scripts")]),s._v(":打包的配置文件。"),a("br"),a("code",[s._v("site")]),s._v(":公共文件，包括样式，js，语言配置文件。"),a("br"),a("code",[s._v("tests")]),s._v(":测试文件。")])])]),s._v(" "),a("tbody",[a("tr",[a("td"),s._v(" "),a("td")])])]),s._v(" "),a("p",[s._v("Ant Design 的样式的命名规则和iview差不多也是用less")]),s._v(" "),a("h5",{attrs:{id:"pci-ecp-ui结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pci-ecp-ui结构"}},[s._v("#")]),s._v(" pci-ecp-ui结构")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/14.png",alt:"14"}})]),s._v(" "),a("h5",{attrs:{id:"样式解决方案bem"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#样式解决方案bem"}},[s._v("#")]),s._v(" 样式解决方案BEM")]),s._v(" "),a("p",[s._v("BEM的命名规矩很容易记：block-name__element-name--modifier-name，也就是块名 + 元素名 + 修饰器名。")]),s._v(" "),a("p",[s._v("element的样式：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  @include when(disabled) {\n    .el-input__inner {\n      background-color: $--input-disabled-fill;\n      border-color: $--input-disabled-border;\n      color: $--input-disabled-color;\n      cursor: not-allowed;\n      &::placeholder {\n        color: $--input-disabled-placeholder-color;\n      }\n    }\n    .el-input__icon {\n      cursor: not-allowed;\n    }\n  }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h5",{attrs:{id:"b-代表块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#b-代表块"}},[s._v("#")]),s._v(" B 代表块")]),s._v(" "),a("p",[s._v("BEM 试图将整个用户界面分成可重用独立的块（Block，注意这里的 Block 并非指 inline-block），一个 header 是一个 block，header 里面嵌套的元素（logo、input、menu）也可以是 block 。")]),s._v(" "),a("p",[s._v("举个例子下面的图片：")]),s._v(" "),a("h5",{attrs:{id:"-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#-2"}},[s._v("#")]),s._v(" "),a("img",{attrs:{src:"pic/5.jpg",alt:"img"}})]),s._v(" "),a("p",[s._v("这是一个火柴人（我们可以把它看做一个 Block），按照之前的说法，这个组件的命名我们可以设为 "),a("strong",[s._v("stick-man")]),s._v("。")]),s._v(" "),a("p",[s._v("主键的样式应该如下所示：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(".stick-man { \n  \n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("img",{attrs:{src:"pic/6.png",alt:"img"}})]),s._v(" "),a("h5",{attrs:{id:"e-代表元素"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#e-代表元素"}},[s._v("#")]),s._v(" E 代表元素")]),s._v(" "),a("p",[s._v("Block 中一般会有多个元素，举个例子：火柴人有一个 head，两个 arms 和 feets")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/7.png",alt:"img"}})]),s._v(" "),a("p",[s._v("head、feet、和 arms 是该组件中的所有元素。使用 BEM 命名规则，通过双下划线连接块（Block）和元素（Elements）方式来命名。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(".stick-man__head {\n}\n.stick-man__arms {\n}\n.stick-man__feet {\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h5",{attrs:{id:"m-代表修饰符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#m-代表修饰符"}},[s._v("#")]),s._v(" M 代表修饰符")]),s._v(" "),a("p",[s._v("BEM 中 M 代表修饰，可以对块（Block）或元素（Element）进行修饰（外观或行为的调整），我们可以调整我们的火柴人生成蓝色火柴人和红色火柴人（实际上我们可能需要一个蓝色按钮和一个红色按钮）。")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/8.png",alt:"img"}})]),s._v(" "),a("p",[s._v("使用 BEM 的命名规则我们使用双连接符来命名（'--'）")]),s._v(" "),a("p",[s._v("例如：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(".stick-man--blue {\n}\n.stick-man--red {\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("修饰符也可用于元素（element），例如我们只想调整火柴人的头部大小。我们可以这样命名")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/9.png",alt:"img"}})]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(".stick-man__head--small {\n}\n.stick-man__head--big {\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h5",{attrs:{id:"预处理函编程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#预处理函编程"}},[s._v("#")]),s._v(" 预处理函编程")]),s._v(" "),a("p",[a("a",{attrs:{href:"http://oss.xccjh.top/hq-components-ui/index.html#/",target:"_blank",rel:"noopener noreferrer"}},[s._v("HqComponentsUI"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/39.png",alt:"39"}})]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//定义一个map\n@selectors: {\n    @primary: {\n        hover: #66b1ff;\n        active: #3a8ee6;\n        default: #409eff\n    }\n\n    @danger: {\n        hover: #f78989;\n        active: #dd6161;\n        default: #f56c6c;\n    }\n\n    @info: {\n        hover: #a6a9ad;\n        active: #82848a;\n        default: #909399;\n    }\n\n    @warning: {\n        hover: #e6a23c;\n        active: #cf9236;\n        default: #e6a23c;\n    }\n\n    @success: {\n        hover: #85ce61;\n        active: #5daf34;\n        default: #67c23a;\n    }\n}\n// 使用条件判断\n.output(@key,@value) when not (@key = default) {\n    background-color: @value;\n     // 第二级条件下所有样式\n}\n// 循环语句\neach(@selectors, {\n        @str: replace(@key, \"@\", '');\n\n        .@{str} {\n            background-color: @value[default];\n            color: #fff;\n\t\t\t// 第一级所有样式\n            each(@value, {\n                    @str1: e('&:@{key}');\n                    @{str1} {\n                        .output(@key,@value);\n                        // 第二级所有样式\n                    }\n                }\n\n            );\n        }\n    }\n);\n// 生成后\n.primary {\n  background-color: #409eff;\n  color: #fff;\n  &:hover {\n    background-color: #66b1ff;\n  }\n  &:active {\n    background-color: #3a8ee6;\n  }\n}\n// 实际生成\n.danger {\n  background-color: #f56c6c;\n  color: #fff;\n}\n.danger:hover {\n  background-color: #f78989;\n}\n.danger:active {\n  background-color: #dd6161;\n}\n.info {\n  background-color: #909399;\n  color: #fff;\n}\n.info:hover {\n  background-color: #a6a9ad;\n}\n.info:active {\n  background-color: #82848a;\n}\n.warning {\n  background-color: #e6a23c;\n  color: #fff;\n}\n.warning:hover {\n  background-color: #e6a23c;\n}\n.warning:active {\n  background-color: #cf9236;\n}\n.success {\n  background-color: #67c23a;\n  color: #fff;\n}\n.success:hover {\n  background-color: #85ce61;\n}\n.success:active {\n  background-color: #5daf34;\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br"),a("span",{staticClass:"line-number"},[s._v("110")]),a("br")])]),a("h2",{attrs:{id:"二、字体图标svg"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、字体图标svg"}},[s._v("#")]),s._v(" 二、字体图标svg")]),s._v(" "),a("h3",{attrs:{id:"unicode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unicode"}},[s._v("#")]),s._v(" unicode")]),s._v(" "),a("p",[s._v("最开始我们使用了"),a("code",[s._v("unicode")]),s._v("的格式，它主要的特点是"),a("strong",[s._v("优势")])]),s._v(" "),a("ul",[a("li",[s._v("兼容性最好，支持ie6+")]),s._v(" "),a("li",[s._v("支持按字体的方式去动态调整图标大小，颜色等等")])]),s._v(" "),a("p",[a("strong",[s._v("劣势")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("不支持多色图标")])]),s._v(" "),a("li",[a("p",[s._v("在不同的设备浏览器字体的渲染会略有差别，在不同的浏览器或系统中对文字的渲染不同，其显示的位置和大小可能会受到font-size、line-height、word-spacing等CSS属性的影响，而且这种影响调整起来较为困难")]),s._v(" "),a("p",[s._v("使用方法：")]),s._v(" "),a("p",[s._v("第一步：引入自定义字体 "),a("code",[s._v("font-face")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" @font-face {\n   font-family: \"iconfont\";\n   src: url('iconfont.eot'); /* IE9*/\n   src: url('iconfont.eot#iefix') format('embedded-opentype'), /* IE6-IE8 */\n   url('iconfont.woff') format('woff'), /* chrome, firefox */\n   url('iconfont.ttf') format('truetype'), /* chrome, firefox, opera, Safari, Android, iOS 4.2+*/\n   url('iconfont.svg#iconfont') format('svg'); /* iOS 4.1- */\n }\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("第二步：定义使用iconfont的样式")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('.iconfont {\n  font-family:"iconfont" !important;\n  font-size:16px;\n  font-style:normal;\n  -webkit-font-smoothing: antialiased;\n  -webkit-text-stroke-width: 0.2px;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("第三步：挑选相应图标并获取字体编码，应用于页面")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<i class="iconfont">&#xe604;</i>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("p",[s._v("原理：")]),s._v(" "),a("p",[s._v("通过 "),a("code",[s._v("@font-face")]),s._v(" 引入自定义字体(其实就是一个字体库)，它里面规定了"),a("code",[s._v("&#xe604")]),s._v(" 这个对应的形状")]),s._v(" "),a("h3",{attrs:{id:"font-class"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#font-class"}},[s._v("#")]),s._v(" font-class")]),s._v(" "),a("ul",[a("li",[s._v("兼容性良好，支持ie8+")]),s._v(" "),a("li",[s._v("相比于unicode语意明确，书写更直观。可以很容易分辨这个icon是什么。")])]),s._v(" "),a("p",[a("strong",[s._v("使用方法：")])]),s._v(" "),a("p",[s._v("第一步：拷贝项目下面生成的fontclass代码：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("../font_8d5l8fzk5b87iudi.css\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("第二步：挑选相应图标并获取类名，应用于页面：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<i class="iconfont icon-xxx"></i>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("它的主要原理其实是和 "),a("code",[s._v("unicode")]),s._v(" 一样的，它只是多做了一步，将原先"),a("code",[s._v("&#xe604")]),s._v("这种写法换成了"),a("code",[s._v(".icon-QQ")]),s._v("，它在每个 class 的 before 属性中写了"),a("code",[s._v("unicode")]),s._v(",省去了人为写的麻烦。使用"),a("code",[s._v("font-class")]),s._v("一定要注意命名空间的问题")]),s._v(" "),a("h3",{attrs:{id:"symbol"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#symbol"}},[s._v("#")]),s._v(" symbol")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("支持多色图标了，不再受单色限制。")])]),s._v(" "),a("li",[a("p",[s._v("支持像字体那样通过font-size,color来调整样式。")])]),s._v(" "),a("li",[a("p",[s._v("支持 ie9+")])]),s._v(" "),a("li",[a("p",[s._v("可利用CSS实现动画。")])]),s._v(" "),a("li",[a("p",[s._v("减少HTTP请求。")])]),s._v(" "),a("li",[a("p",[s._v("矢量，缩放不失真")])]),s._v(" "),a("li",[a("p",[s._v("可以很精细的控制SVG图标的每一部分")]),s._v(" "),a("p",[s._v("**使用方法：**第一步：拷贝项目下面生成的symbol代码：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("引入  ./iconfont.js\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("第二步：加入通用css代码（引入一次就行）：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<style type="text/css">\n    .icon {\n       width: 1em; \n       height: 1em;\n       vertical-align: -0.15em;\n       fill: currentColor;\n       overflow: hidden;\n    }\n</style>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("第三步：挑选相应图标并获取类名，应用于页面：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<svg class="icon" aria-hidden="true">\n    <use xlink:href="#icon-xxx"></use>\n</svg>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("使用svg-icon的好处是我再也不用发送"),a("code",[s._v("woff|eot|ttf|")]),s._v(" 这些很多个字体库请求了，我所有的svg都可以内联在html内。")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/15.jpg",alt:"15"}})]),s._v(" "),a("p",[s._v("还有一个就是 svg 是一个真正的矢量，不管你再怎么的放缩它都不会失真模糊，而且svg可以控制的属性也更加的丰富，也能做出更加生动和复杂的图标。")])])]),s._v(" "),a("p",[s._v("现在所有的 "),a("code",[s._v("svg-sprite")]),s._v(" 都是通过 iconfont 的 "),a("code",[s._v("iconfont.js")]),s._v(" 生成的")]),s._v(" "),a("p",[s._v("你完全不知道哪个图标名对应什么图标,每次增删改图标只能整体js文件一起替换。")]),s._v(" "),a("p",[a("code",[s._v("vue-cli")]),s._v("默认情况下会使用 "),a("code",[s._v("url-loader")]),s._v(" 对svg进行处理，会将它放在"),a("code",[s._v("/img")]),s._v(" 目录下，所以这时候我们引入"),a("code",[s._v("svg-sprite-loader")]),s._v(" 会引发一些冲突。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//默认`vue-cli` 对svg做的处理，正则匹配后缀名为.svg的文件，匹配成功之后使用 url-loader 进行处理。\n {\n    test: /\\.(png|jpe?g|gif|svg)(\\?.*)?$/,\n    loader: 'url-loader',\n    options: {\n      limit: 10000,\n      name: utils.assetsPath('img/[name].[hash:7].[ext]')\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"使用-svg-sprite"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-svg-sprite"}},[s._v("#")]),s._v(" 使用 svg-sprite")]),s._v(" "),a("p",[s._v("使用到 "),a("a",{attrs:{href:"https://github.com/kisenka/svg-sprite-loader",target:"_blank",rel:"noopener noreferrer"}},[s._v("svg-sprite-loader"),a("OutboundLink")],1),s._v(" 这个神器了， 它是一个 webpack loader ，可以将多个 svg 打包成 "),a("code",[s._v("svg-sprite")]),s._v(" 。")]),s._v(" "),a("p",[s._v("安全合理的做法是使用 webpack 的 "),a("a",{attrs:{href:"https://webpack.js.org/configuration/module/#rule-exclude",target:"_blank",rel:"noopener noreferrer"}},[s._v("exclude"),a("OutboundLink")],1),s._v(" 和 "),a("a",{attrs:{href:"https://webpack.js.org/configuration/module/#rule-include",target:"_blank",rel:"noopener noreferrer"}},[s._v("include"),a("OutboundLink")],1),s._v(" ，让"),a("code",[s._v("svg-sprite-loader")]),s._v("只处理你指定文件夹下面的 svg，"),a("code",[s._v("url-loader")]),s._v("只处理除此文件夹之外的所以 svg，这样就完美解决了之前冲突的问题。 代码如下")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/16.jpg",alt:"16"}})]),s._v(" "),a("p",[s._v("要引入svg之后填写文件名就可以了")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('import \'@/src/icons/qq.svg; //引入图标\n\n<svg><use xlink:href="#qq" /></svg>  //使用图标\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("icon的设置是配置webpack,svg sprite合并一张svg，有多个symbol应用，通过symbol的id来显示图标")]),s._v(" "),a("h3",{attrs:{id:"自动导入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自动导入"}},[s._v("#")]),s._v(" 自动导入")]),s._v(" "),a("p",[s._v("创建一个专门放置图标 icon 的文件夹如："),a("code",[s._v("@/src/icons")]),s._v("，将所有 icon 放在这个文件夹下")]),s._v(" "),a("h4",{attrs:{id:"require-context"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#require-context"}},[s._v("#")]),s._v(" require.context")]),s._v(" "),a("p",[s._v("关于实现前端工程自动化：我们使用到 webpack 的 "),a("a",{attrs:{href:"https://webpack.js.org/guides/dependency-management/#require-context",target:"_blank",rel:"noopener noreferrer"}},[s._v("require.context"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/17.webp",alt:"17"}})]),s._v(" "),a("p",[s._v("如果有以上情况,可以考虑使用require.context替换")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/18.webp",alt:"18"}})]),s._v(" "),a("p",[s._v("在Vue写的项目中,我把路由通过不同的功能划分成不同的模块,在index.js中一个个导入，但是如果项目变大了之后,每次手动import会显得有些力不从心,这里可以使用require.context函数遍历modules文件夹的所有文件一次性导入到index.js中")]),s._v(" "),a("p",[s._v("require.context有三个参数：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("directory：读取文件的路径")])]),s._v(" "),a("li",[a("p",[s._v("useSubdirectories：是否遍历文件的子目录")])]),s._v(" "),a("li",[a("p",[s._v("regExp: 匹配文件的正则表达式")])])]),s._v(" "),a("blockquote",[a("p",[s._v("语法: require.context(directory, useSubdirectories = false, regExp = /^.//);")])]),s._v(" "),a("p",[s._v("比如：require.context('./test', false, /.test.js$/);")]),s._v(" "),a("p",[s._v("上面的代码遍历当前目录下的test文件夹的所有.test.js结尾的文件,不遍历子目录")]),s._v(" "),a("p",[s._v("大概用图片来表示的话就是这样子的")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/19.webp",alt:"19"}})]),s._v(" "),a("p",[s._v("require.context函数执行后返回的是"),a("strong",[s._v("一个函数,并且这个函数有3个属性")])]),s._v(" "),a("ol",[a("li",[s._v("resolve {Function} -接受一个参数request,request为test文件夹下面匹配文件的相对路径,resolve调用返回这个匹配文件相对于整个工程的相对路径")]),s._v(" "),a("li",[s._v("keys {Function} -返回匹配成功模块的名字组成的数组")]),s._v(" "),a("li",[s._v("id {String} -执行环境的id,返回的是一个字符串,主要用在module.hot.accept,用于热加载")])]),s._v(" "),a("p",[s._v("这三个都是作为函数的属性(注意是作为函数的属性,函数也是对象,有对应的属性)")]),s._v(" "),a("p",[s._v("结合下图以下工程路由汇总的例子看一下这3个属性返回了什么")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/20.webp",alt:"20"}})]),s._v(" "),a("p",[s._v("我们在里层的modules文件夹新建一个index.js,用来收集所有的模块然后一次性导出给外层的index.js")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/22.webp",alt:"22"}})]),s._v(" "),a("p",[s._v("代码是写在里层的index.js中的，把require.context函数执行后的代码赋值给了files变量,files中保存了图一的以.js结尾的文件,files是个函数,我们分别调用者3个属性看看会返回什么")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/23.webp",alt:"23"}})]),s._v(" "),a("p",[s._v("执行了keys方法返回了一个由匹配文件的文件名组成的数组\nid属性返回了匹配的文件夹的相对于工程的相对路径,是否遍历子目录,匹配正则组成的字符串")]),s._v(" "),a("p",[s._v("对于resolve方法可以看到它是一个函数接受req参数，这个req参数的值是keys方法返回的数组的元素,接着我们传入其中一个元素执行resolve函数")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/24.webp",alt:"24"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/25.webp",alt:"25"}})]),s._v(" "),a("p",[s._v("resolve方法返回了一个字符串代表着传入参数的文件相对于整个工程的相对路径")]),s._v(" "),a("p",[s._v("同时files作为一个函数,也接受一个req参数,这个和resolve方法的req参数是一样的,即匹配的文件名的相对路径,而files函数返回的是一个模块")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/26.webp",alt:"26"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/27.webp",alt:"27"}})]),s._v(" "),a("p",[s._v("这个Module模块和使用import导入的模块是一样的")]),s._v(" "),a("p",[s._v("这里假设路径是用export default导出的,所以在Module模块的default属性中获取到我导出的内容(即路由的结构),类似这种样子"),a("img",{attrs:{src:"pic/28.webp",alt:"28"}})]),s._v(" "),a("p",[s._v("上一步返回的所有路由结构添加到configRouters数组然后暴露给外层的index.js")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/29.webp",alt:"29"}})]),s._v(" "),a("p",[s._v("外层引入后导入到vue-router中就可以使用了")]),s._v(" "),a("h4",{attrs:{id:"批量导入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#批量导入"}},[s._v("#")]),s._v(" 批量导入")]),s._v(" "),a("p",[s._v("了解这些之后，我们就可以这样写来自动引入 "),a("code",[s._v("@/src/icons")]),s._v(" 下面所有的图标了")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const requireAll = requireContext => requireContext.keys().map(requireContext)\nconst req = require.context('./icons', false, /\\.svg$/)\nrequireAll(req)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("之后我们如下直接使用文件夹下对应的图标名字就好了，就会自动生成 "),a("code",[s._v("svg symbol")]),s._v("了。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' <svg aria-hidden="true">\n    <use :xlink:href="iconName" />\n  </svg>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<script>\nexport default {\n  computed（）{\n    iconName() {\n      return `#icon-${图标文件名}`\n    },\n  }\n}\n<\/script>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("这里的#icon的设置是配置webpack,svg sprite合并一张svg，有多个symbol应用，通过symbol的id来显示图标")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("chainWebpack(config) {\n    config.plugins.delete('preload') // TODO: need test\n    config.plugins.delete('prefetch') // TODO: need test\n\n    // set svg-sprite-loader\n    config.module\n      .rule('svg')\n      .exclude.add(resolve('src/icons'))\n      .end()\n    config.module\n      .rule('icons')\n      .test(/\\.svg$/)\n      .include.add(resolve('src/icons'))\n      .end()\n      .use('svg-sprite-loader')\n      .loader('svg-sprite-loader')\n      .options({\n        symbolId: 'icon-[name]'\n      })\n }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("h4",{attrs:{id:"批量使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#批量使用"}},[s._v("#")]),s._v(" 批量使用")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const req = require.context('../../icons/svg', false, /\\.svg$/)\n\nconst re = /\\.\\/(.*)\\.svg/\n\nconst svgIcons = req.keys().map(i => {\n  return i.match(re)[1]\n})\n\nexport default svgIcons\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("之后"),a("code",[s._v("import svgIcons from './svg-icons'")]),s._v("后遍历使用，可以根据目录来划分图片")]),s._v(" "),a("h4",{attrs:{id:"url-loader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-loader"}},[s._v("#")]),s._v(" url-loader")]),s._v(" "),a("p",[s._v("如果是"),a("code",[s._v("url-loader")]),s._v("处理，方案是")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<div v-for="(i, index) in pages" :key="index">\n\t<img :src="resolveIcon(i.icon)" alt="">\n</div>  \n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 定义类似\n data(){\n   pages: [\n        {\n          icon: 'nacos.svg',\n          name: 'Nacos面板',\n          url: pages.nacosUrl,\n          description: 'Nacos，微服务注册中心&配置中心',\n          c: '#1890ff',\n          bgc: 'rgba(236,251,252,0.3)'\n        },\n        {\n          icon: 'elk.svg',\n          name: 'ELK面板',\n          url: pages.kibanaUrl,\n          description: 'ELK，微服务日志中心，统一管理日志',\n          c: '#1890ff',\n          bgc: 'rgba(236,251,252,0.3)'\n        },\n        {\n          icon: 'skywalking.svg',\n          name: 'SkyWalking面板',\n          url: pages.skywalkingUrl,\n          description: 'SkyWalking，追踪微服务请求',\n          c: '#1890ff',\n          bgc: 'rgba(236,251,252,0.3)'\n        },\n        {\n          icon: 'grafana.svg',\n          name: 'Grafana面板',\n          url: pages.grafanaUrl,\n          description: 'Grafana，监控Redis,Docker,MySQL等',\n          c: '#1890ff',\n          bgc: 'rgba(236,251,252,0.3)'\n        },\n        {\n          icon: 'doc.svg',\n          name: 'Document中心',\n          url: pages.docUrl,\n          description: 'Knife4j，微服务API接口文档中心',\n          c: '#1890ff',\n          bgc: 'rgba(236,251,252,0.3)'\n        },\n        {\n          icon: 'admin.svg',\n          name: 'Admin面板',\n          url: pages.springBootAdminUrl,\n          description: 'Admin，基于SBA的微服务监控中心',\n          c: '#1890ff',\n          bgc: 'rgba(236,251,252,0.3)'\n        },\n        {\n          icon: 'tx.svg',\n          name: 'Tx面板',\n          url: pages.txUrl,\n          description: 'Tx-Manager，分布式事务管理中心',\n          c: '#1890ff',\n          bgc: 'rgba(236,251,252,0.3)'\n        }\n      ]\n   }\n   \n methods：{\n   resolveIcon(icon) {\n      return require(`@/assets/icons/${icon}`)\n    },\n }\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br")])]),a("p",[a("a",{attrs:{href:"http://xccjh.gitee.io/vuebloger/technology/svg-geojson-kml-shp%E4%BA%92%E8%BD%AC.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("svg,geojson,kml,shp互转"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"http://xccjh.gitee.io/vuebloger/technology/svg%E4%B9%8BPath%E8%BD%AC%E6%8D%A2.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("svg全转换"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"三、commit-message-的格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、commit-message-的格式"}},[s._v("#")]),s._v(" 三、Commit message 的格式")]),s._v(" "),a("h3",{attrs:{id:"_1-angular-规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-angular-规范"}},[s._v("#")]),s._v(" 1. Angular 规范")]),s._v(" "),a("p",[s._v("目前使用最广的写法"),a("a",{attrs:{href:"https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0",target:"_blank",rel:"noopener noreferrer"}},[s._v("Angular 规范"),a("OutboundLink")],1),s._v("，每次提交，Commit message 都包括三个部分：Header，Body 和 Footer。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<type>(<scope>): <subject>\n// 空一行\n<body>\n// 空一行\n<footer>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("其中，Header 是必需的，Body 和 Footer 可以省略。")]),s._v(" "),a("p",[s._v("不管是哪一个部分，任何一行都不得超过72个字符（或100个字符）。这是为了避免自动换行影响美观。")]),s._v(" "),a("h3",{attrs:{id:"_1-1-header"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-header"}},[s._v("#")]),s._v(" 1.1 Header")]),s._v(" "),a("p",[s._v("Header部分只有一行，包括三个字段："),a("code",[s._v("type")]),s._v("（必需）、"),a("code",[s._v("scope")]),s._v("（可选）和"),a("code",[s._v("subject")]),s._v("（必需）。")]),s._v(" "),a("p",[a("strong",[s._v("（1）type")])]),s._v(" "),a("p",[a("code",[s._v("type")]),s._v("用于说明 commit 的类别，只允许使用下面7个标识。")]),s._v(" "),a("blockquote",[a("p",[s._v("feat：新功能（feature）")]),s._v(" "),a("p",[s._v("fix：修补bug")]),s._v(" "),a("p",[s._v("docs：文档（documentation）")]),s._v(" "),a("p",[s._v("style： 格式（不影响代码运行的变动）")]),s._v(" "),a("p",[s._v("refactor：重构（即不是新增功能，也不是修改bug的代码变动）")]),s._v(" "),a("p",[s._v("test：增加测试")]),s._v(" "),a("p",[s._v("chore：构建过程或辅助工具的变动")])]),s._v(" "),a("p",[s._v("如果"),a("code",[s._v("type")]),s._v("为"),a("code",[s._v("feat")]),s._v("和"),a("code",[s._v("fix")]),s._v("，则该 commit 将肯定出现在 Change log 之中。其他情况（"),a("code",[s._v("docs")]),s._v("、"),a("code",[s._v("chore")]),s._v("、"),a("code",[s._v("style")]),s._v("、"),a("code",[s._v("refactor")]),s._v("、"),a("code",[s._v("test")]),s._v("）由你决定，要不要放入 Change log，建议是不要。")]),s._v(" "),a("p",[s._v("Change log生成的文档包括以下三个部分：")]),s._v(" "),a("blockquote",[a("p",[s._v("New features")]),s._v(" "),a("p",[s._v("Bug fixes")]),s._v(" "),a("p",[s._v("Breaking changes.")])]),s._v(" "),a("p",[a("strong",[s._v("（2）scope")])]),s._v(" "),a("p",[a("code",[s._v("scope")]),s._v("用于说明 commit 影响的范围，比如数据层、控制层、视图层等等，视项目不同而不同。")]),s._v(" "),a("p",[a("strong",[s._v("（3）subject")])]),s._v(" "),a("p",[a("code",[s._v("subject")]),s._v("是 commit 目的的简短描述，不超过50个字符。")]),s._v(" "),a("blockquote",[a("p",[s._v("以动词开头，使用第一人称现在时，比如"),a("code",[s._v("change")]),s._v("，而不是"),a("code",[s._v("changed")]),s._v("或"),a("code",[s._v("changes")])]),s._v(" "),a("p",[s._v("第一个字母小写")]),s._v(" "),a("p",[s._v("结尾不加句号（"),a("code",[s._v(".")]),s._v("）")])]),s._v(" "),a("h3",{attrs:{id:"_1-2-body"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-body"}},[s._v("#")]),s._v(" 1.2 Body")]),s._v(" "),a("p",[s._v("Body 部分是对本次 commit 的详细描述，可以分成多行。下面是一个范例。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("More detailed explanatory text, if necessary.  Wrap it to \nabout 72 characters or so. //如有必要，提供更详细的解释性文本。大约72个字左右换行。\n\nFurther paragraphs come after blank lines.//添加空行\n\n- Bullet points are okay, too//使用缩进符号也可以\n- Use a hanging indent\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("有两个注意点。")]),s._v(" "),a("p",[s._v("（1）使用第一人称现在时，比如使用"),a("code",[s._v("change")]),s._v("而不是"),a("code",[s._v("changed")]),s._v("或"),a("code",[s._v("changes")]),s._v("。")]),s._v(" "),a("p",[s._v("（2）应该说明代码变动的动机，以及与以前行为的对比。")]),s._v(" "),a("h3",{attrs:{id:"_1-3-footer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-footer"}},[s._v("#")]),s._v(" 1.3 Footer")]),s._v(" "),a("p",[s._v("Footer 部分只用于两种情况。")]),s._v(" "),a("p",[a("strong",[s._v("（1）不兼容变动")])]),s._v(" "),a("p",[s._v("如果当前代码与上一个版本不兼容，则 Footer 部分以"),a("code",[s._v("BREAKING CHANGE")]),s._v("开头，后面是对变动的描述、以及变动理由和迁移方法。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("BREAKING CHANGE: isolate scope bindings definition has changed.//隔离作用域绑定定义已更改\n\n    To migrate the code follow the example below://要迁移代码，请遵循以下示例\n\n    Before:\n\n    scope: {\n      myAttr: 'attribute',\n    }\n\n    After:\n\n    scope: {\n      myAttr: '@',\n    }\n\n    The removed `inject` wasn't generaly useful for directives so there should be no code using it.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[a("strong",[s._v("（2）关闭 Issue")])]),s._v(" "),a("p",[s._v("如果当前 commit 针对某个issue，那么可以在 Footer 部分关闭这个 issue 。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Closes #234\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("也可以一次关闭多个 issue 。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Closes #123, #245, #992\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_1-4-revert"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-revert"}},[s._v("#")]),s._v(" 1.4 Revert")]),s._v(" "),a("p",[s._v("还有一种特殊情况，如果当前 commit 用于撤销以前的 commit，则必须以"),a("code",[s._v("revert:")]),s._v("开头，后面跟着被撤销 Commit 的 Header。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\nrevert: feat(pencil): add 'graphiteWidth' option\n \nThis reverts commit 667ecc1654a317a13331b17617d973392f415f02.// Body部分\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("Body部分的格式是固定的，必须写成"),a("code",[s._v("This reverts commit <hash>.")]),s._v("，其中的"),a("code",[s._v("hash")]),s._v("是被撤销 commit 的 SHA 标识符。")]),s._v(" "),a("p",[s._v("如果当前 commit 与被撤销的 commit，在同一个发布（release）里面，那么它们都不会出现在 Change log 里面。如果两者在不同的发布，那么当前 commit，会出现在 Change log 的"),a("code",[s._v("Reverts")]),s._v("小标题下面。")]),s._v(" "),a("h3",{attrs:{id:"commitizen"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commitizen"}},[s._v("#")]),s._v(" Commitizen")]),s._v(" "),a("p",[s._v("Commitizen用来规范commit message提交注释(工具集"),a("a",{attrs:{href:"https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2Fcommitizen%2Fcz-cli",target:"_blank",rel:"noopener noreferrer"}},[s._v("cz"),a("OutboundLink")],1),s._v("具有适配器、校验以及日志功能)")]),s._v(" "),a("h4",{attrs:{id:"_1-全局安装commitizen"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-全局安装commitizen"}},[s._v("#")]),s._v(" 1.全局安装"),a("code",[s._v("commitizen")])]),s._v(" "),a("h5",{attrs:{id:"方式一"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方式一"}},[s._v("#")]),s._v(" 方式一")]),s._v(" "),a("p",[s._v("1.执行命令：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g commitizen\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("2.在项目目录下运行命令：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("commitizen init cz-conventional-changelog --save --save-exact\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("3.运行完以上一律使用"),a("code",[s._v("git cz")]),s._v(" 代替"),a("code",[s._v("git **commit**")]),s._v("来提交代码,同时会显示一下选项来自动生成符合格式的注释")]),s._v(" "),a("blockquote",[a("p",[s._v("Commitizen适配器cz-conventional-changelog")])]),s._v(" "),a("p",[s._v("如果当前已经有其他适配器被使用，运行"),a("code",[s._v("commitizen init cz-conventional-changelog --save --save-exact")]),s._v("则会报以下错误，此时可以加上"),a("code",[s._v("--force")]),s._v("选项进行再次初始化")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Error: A previous adapter is already configured. Use --force to override\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("初始化命令主要进行了3件事情")]),s._v(" "),a("ol",[a("li",[s._v("在项目中安装"),a("strong",[s._v("cz-conventional-changelog")]),s._v(" 适配器依赖")]),s._v(" "),a("li",[s._v("将适配器依赖保存到"),a("code",[s._v("package.json")]),s._v("的"),a("code",[s._v("devDependencies")]),s._v("字段信息")]),s._v(" "),a("li",[s._v("在"),a("code",[s._v("package.json")]),s._v("中新增"),a("code",[s._v("config.commitizen")]),s._v("字段信息，主要用于配置cz工具的适配器路径：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('"devDependencies": {\n "cz-conventional-changelog": "^2.1.0"\n},\n"config": {\n  "commitizen": {\n    "path": "./node_modules/cz-conventional-changelog"\n  }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("blockquote",[a("p",[s._v("cz-customizable")])]),s._v(" "),a("p",[s._v("如果想定制项目的"),a("strong",[s._v("提交说明")]),s._v("，可以使用"),a("a",{attrs:{href:"https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2Fleonardoanalista%2Fcz-customizable",target:"_blank",rel:"noopener noreferrer"}},[s._v("cz-customizable"),a("OutboundLink")],1),s._v("适配器")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install cz-customizable --save-dev\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("将之前符合Angular规范的"),a("strong",[s._v("cz-conventional-changelog")]),s._v("适配器路径改成"),a("strong",[s._v("cz-customizable")]),s._v("适配器路径：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('"devDependencies": {\n  "cz-customizable": "^5.3.0"\n},\n"config": {\n  "commitizen": {\n    "path": "node_modules/cz-customizable"\n  }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("官方提供了一个"),a("code",[s._v(".cz-config.js")]),s._v("示例文件"),a("a",{attrs:{href:"https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2Fleonardoanalista%2Fcz-customizable%2Fblob%2Fmaster%2Fcz-config-EXAMPLE.js",target:"_blank",rel:"noopener noreferrer"}},[s._v("cz-config-EXAMPLE.js"),a("OutboundLink")],1),s._v("，如下所示：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("'use strict';\n \nmodule.exports = {\n  types: [\n    {value: 'feat',     name: 'feat:     A new feature'},\n    {value: 'fix',      name: 'fix:      A bug fix'},\n    {value: 'docs',     name: 'docs:     Documentation only changes'},\n    {value: 'style',    name: 'style:    Changes that do not affect the meaning of the code\\n            (white-space, formatting, missing semi-colons, etc)'},\n    {value: 'refactor', name: 'refactor: A code change that neither fixes a bug nor adds a feature'},\n    {value: 'perf',     name: 'perf:     A code change that improves performance'},\n    {value: 'test',     name: 'test:     Adding missing tests'},\n    {value: 'chore',    name: 'chore:    Changes to the build process or auxiliary tools\\n            and libraries such as documentation generation'},\n    {value: 'revert',   name: 'revert:   Revert to a commit'},\n    {value: 'WIP',      name: 'WIP:      Work in progress'}\n  ],\n \n  scopes: [\n    {name: 'accounts'},\n    {name: 'admin'},\n    {name: 'exampleScope'},\n    {name: 'changeMe'}\n  ],\n \n  // it needs to match the value for field type. Eg.: 'fix'\n  /*\n  scopeOverrides: {\n    fix: [\n      {name: 'merge'},\n      {name: 'style'},\n      {name: 'e2eTest'},\n      {name: 'unitTest'}\n    ]\n  },\n  */\n  // override the messages, defaults are as follows\n  messages: {\n    type: 'Select the type of change that you\\'re committing:',\n    scope: '\\nDenote the SCOPE of this change (optional):',\n    // used if allowCustomScopes is true\n    customScope: 'Denote the SCOPE of this change:',\n    subject: 'Write a SHORT, IMPERATIVE tense description of the change:\\n',\n    body: 'Provide a LONGER description of the change (optional). Use \"|\" to break new line:\\n',\n    breaking: 'List any BREAKING CHANGES (optional):\\n',\n    footer: 'List any ISSUES CLOSED by this change (optional). E.g.: #31, #34:\\n',\n    confirmCommit: 'Are you sure you want to proceed with the commit above?'\n  },\n \n  allowCustomScopes: true,\n  allowBreakingChanges: ['feat', 'fix'],\n  // limit subject length\n  subjectLimit: 100\n};\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br")])]),a("p",[s._v("这里对其进行汉化处理（只是为了说明定制说明的一个示例）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("'use strict';\n \nmodule.exports = {\n \n  types: [\n    {value: '特性',     name: '特性:    一个新的特性'},\n    {value: '修复',      name: '修复:    修复一个Bug'},\n    {value: '文档',     name: '文档:    变更的只有文档'},\n    {value: '格式',    name: '格式:    空格, 分号等格式修复'},\n    {value: '重构', name: '重构:    代码重构，注意和特性、修复区分开'},\n    {value: '性能',     name: '性能:    提升性能'},\n    {value: '测试',     name: '测试:    添加一个测试'},\n    {value: '工具',    name: '工具:    开发工具变动(构建、脚手架工具等)'},\n    {value: '回滚',   name: '回滚:    代码回退'}\n  ],\n \n  scopes: [\n    {name: '模块1'},\n    {name: '模块2'},\n    {name: '模块3'},\n    {name: '模块4'}\n  ],\n \n  // it needs to match the value for field type. Eg.: 'fix'\n  /*\n  scopeOverrides: {\n    fix: [\n      {name: 'merge'},\n      {name: 'style'},\n      {name: 'e2eTest'},\n      {name: 'unitTest'}\n    ]\n  },\n  */\n  // override the messages, defaults are as follows\n  messages: {\n    type: '选择一种你的提交类型:',\n    scope: '选择一个scope (可选):',\n    // used if allowCustomScopes is true\n    customScope: 'Denote the SCOPE of this change:',\n    subject: '短说明:\\n',\n    body: '长说明，使用\"|\"换行(可选)：\\n',\n    breaking: '非兼容性说明 (可选):\\n',\n    footer: '关联关闭的issue，例如：#31, #34(可选):\\n',\n    confirmCommit: '确定提交说明?'\n  },\n \n  allowCustomScopes: true,\n  allowBreakingChanges: ['特性', '修复'],\n \n  // limit subject length\n  subjectLimit: 100\n \n};\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br")])]),a("p",[s._v("再次使用"),a("code",[s._v("git cz")]),s._v("命令进行"),a("strong",[s._v("提交说明")]),s._v("选项已经汉化")]),s._v(" "),a("blockquote",[a("p",[s._v("commitlint-config-cz")])]),s._v(" "),a("p",[s._v("如果是使用"),a("strong",[s._v("cz-customizable")]),s._v("适配器做了破坏Angular风格的提交说明配置，那么不能使用**@commitlint/config-conventional**规则进行提交说明校验，可以使用"),a("a",{attrs:{href:"https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2Fwhizark%2Fcommitlint-config-cz",target:"_blank",rel:"noopener noreferrer"}},[s._v("commitlint-config-cz"),a("OutboundLink")],1),s._v("对定制化提交说明进行校验。")]),s._v(" "),a("p",[s._v("安装校验规则：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install commitlint-config-cz --save-dev\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("然后加入commitlint校验规则配置：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.exports = {\n  extends: [\n    'cz'\n  ]\n};\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h5",{attrs:{id:"方式二"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方式二"}},[s._v("#")]),s._v(" 方式二")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('npm install -g commitizen\n\nnpm install -g cz-conventional-changelog\n\necho \'{ "path": "cz-conventional-changelog" }\' > ~/.czrc\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("以后提交代码使用git cz,这时，就会出现选项，用来生成符合格式的 Commit message。")]),s._v(" "),a("h4",{attrs:{id:"_2-局部安装commitizen"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-局部安装commitizen"}},[s._v("#")]),s._v(" 2.局部安装"),a("code",[s._v("commitizen")])]),s._v(" "),a("p",[s._v("1.执行命令：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm i commitizen cz-conventional-changelog --save-dev\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("然后在package.json内手动配置如下内容（package中config详解见"),a("a",{attrs:{href:"http://xccjh.gitee.io/vuebloger/technology/npm%E8%BF%9B%E9%98%B6%E9%85%8D%E7%BD%AE%E6%80%BB%E7%BB%93.html#npm-cli-%E7%9A%84npm-config",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm进阶配置"),a("OutboundLink")],1),s._v("）：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('"config": {\n  "commitizen": {\n    "path": "./node_modules/cz-conventional-changelog"\n  }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"不规范拦截"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#不规范拦截"}},[s._v("#")]),s._v(" 不规范拦截")]),s._v(" "),a("h4",{attrs:{id:"关于githock"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关于githock"}},[s._v("#")]),s._v(" 关于githock")]),s._v(" "),a("p",[s._v("git hooks是一些自定义的脚本，用于控制git工作的流程，分为"),a("strong",[s._v("客户端")]),s._v("钩子和"),a("strong",[s._v("服务端")]),s._v("钩子。")]),s._v(" "),a("p",[s._v("客户端钩子包括："),a("code",[s._v("pre-commit")]),s._v("、"),a("code",[s._v("prepare-commit-msg")]),s._v("、"),a("code",[s._v("commit-msg")]),s._v("、"),a("code",[s._v("post-commit")]),s._v("等，主要用于控制客户端git的提交工作流。")]),s._v(" "),a("p",[s._v("服务端钩子："),a("code",[s._v("pre-receive")]),s._v("、"),a("code",[s._v("post-receive")]),s._v("、"),a("code",[s._v("update")]),s._v("，主要在服务端接收提交对象时、推送到服务器之前调用。")]),s._v(" "),a("p",[s._v("git hooks位置位于每个git项目下的隐藏文件夹.git中的hooks文件夹里，进去后会看到一些hooks的官方示例，他们都是以.sample结尾的文件名。"),a("strong",[s._v("注意这些以.sample结尾的示例脚本是不会执行的，只有重命名后才会生效")])]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/2.webp",alt:"2"}})]),s._v(" "),a("p",[a("code",[s._v("pre-commit")]),s._v("是客户端hooks之一。"),a("code",[s._v("pre-commit")]),s._v("在"),a("code",[s._v("git add")]),s._v("提交之后，然后执行"),a("code",[s._v("git commit")]),s._v("时执行，脚本执行没报错就继续提交，反之就驳回提交的操作。这个钩子中可以实现：对将要提交的代码进行检查、优化代码格式、或者对提交的图片进行压缩等等任务。下面是用shell编写的具体代码：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("STAGE_FILES=$(git diff --cached --name-only --diff-filter=ACM -- '*.vue' '*.js')\nif test ${#STAGE_FILES} -gt 0\nthen\n    echo '开始eslint检查'\n\n    which eslint &> /dev/null\n    if [[ \"$?\" == 1 ]]; then\n        echo '没安装eslint'\n        exit 1\n    fi\n\n    PASS=true\n\n    for FILE in $STAGE_FILES\n    do\n        eslint $FILE\n        if [[ \"$?\" == 1 ]]; then\n      PASS=false\n    fi\n  done\n\n  if ! $PASS; then\n      echo \"eslint检查没通过！\"\n      exit 1\n  else\n      echo \"eslint检查完毕\"\n  fi\n\nelse\n    echo '没有js文件需要检查'\nfi\n\nexit 0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br")])]),a("p",[s._v("稍微解释下：")]),s._v(" "),a("p",[s._v("首先用"),a("code",[s._v("git diff")]),s._v("获取到提交到暂存区的文件，这里添加了过滤即只获取.vue和.js文件。")]),s._v(" "),a("p",[s._v("然后判断eslint是否已安装，接着再对获取到的文件依次检查，当某个文件检查不通过时不会中断进程，会继续遍历所有文件，这样最后在控制台可以显示出所有检查不通过的文件信息")]),s._v(" "),a("p",[s._v("exit即表示退出当前脚本进程、后面接上状态码，0表示正常，会继续执行"),a("code",[s._v("git commit")]),s._v("的操作，其他情况表示出错，不会继续commit。")]),s._v(" "),a("p",[s._v("将上面的代码保存为"),a("code",[s._v("pre-commit")]),s._v("，然后存放在.git/hooks中，然后每次执行"),a("code",[s._v("git commit")]),s._v("时就会使用eslint进行代码检查了。")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/3.webp",alt:"3"}})]),s._v(" "),a("blockquote",[a("p",[s._v("vue1.x手动修改钩子文件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# get files to be linted\nFILES=$(git diff --cached --name-only | grep -E '^src|^test/unit/specs|^test/e2e')\n\n # lint them if any\nif [[ $FILES ]]; then\n  ./node_modules/.bin/eslint $FILES\nfi\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("文件名是"),a("code",[s._v("pre-commit")]),s._v(",在commit 之前启用的钩子函数， 利用 "),a("code",[s._v("git diff")]),s._v("查看当前有哪些文件修改过，只对指定文件夹中修改的文件使用eslint进行代码检查，渐进式对整个项目实现代码规范。")]),s._v(" "),a("p",[s._v("脚本写好后，不用每次都手动复制到"),a("code",[s._v(".git/hooks")]),s._v("目录下，只需对当前文件创建软连接，到指定目录，在package.json中配置脚本命令，")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"install-hook"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ln -s ../../build/git-hooks/pre-commit .git/hooks/pre-commit"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在项目初始化后， 执行"),a("code",[s._v("npm run install-hook")]),s._v(",很方便地配置好了pre-commit 钩子")]),s._v(" "),a("blockquote",[a("p",[s._v("vue新版使用youkie")])]),s._v(" "),a("p",[s._v("youkie 是pre**-"),a("strong",[s._v("commit 钩子，用于代码质量检查，在 vue")]),s._v('-**cli 3.x 版本中集成yorkie，yorkie实际是fork husky，然后做了一些定制化的改动，使得钩子能从package.json的 "gitHooks"属性中读取：pre-commit和commit-msg')]),s._v(" "),a("h4",{attrs:{id:"两种种拦截方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#两种种拦截方式"}},[s._v("#")]),s._v(" 两种种拦截方式")]),s._v(" "),a("h5",{attrs:{id:"_1-配置youkie-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-配置youkie-js"}},[s._v("#")]),s._v(" 1. 配置youkie+js")]),s._v(" "),a("p",[s._v("安装:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm i yorkie --save-dev\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("写脚本验证msg格式:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const chalk = require('chalk')\nconst msgPath = process.env.GIT_PARAMS\nconst msg = require('fs').readFileSync(msgPath, 'utf-8').trim()\n\nconst commitRE = /^(revert: )?(feat|fix|docs|style|refactor|perf|test|workflow|ci|chore|types)(\\(.+\\))?: .{1,50}/\n\nif (!commitRE.test(msg)) {\n  console.log()\n  console.error(\n    `  ${chalk.bgRed.white(' ERROR ')} ${chalk.red(`invalid commit message format.`)}\\n\\n` +\n    chalk.red(`  Proper commit message format is required for automated changelog generation. Examples:\\n\\n`) +\n    `    ${chalk.green(`feat(compiler): add 'comments' option`)}\\n` +\n    `    ${chalk.green(`fix(v-model): handle events on blur (close #28)`)}\\n\\n` +\n    chalk.red(`  See .github/COMMIT_CONVENTION.md for more details.\\n`) +\n    chalk.red(`  You can also use ${chalk.cyan(`npm run commit`)} to interactively generate a commit message.\\n`)\n  )\n  process.exit(1)\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("p",[s._v("配置到package.json的gitHooks：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('  "gitHooks": {\n    "pre-commit": "npm run lint",\n    "commit-msg": "node scripts/verify-commit-msg.js"\n  }\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("提交时是用"),a("strong",[s._v("git")]),s._v(" "),a("strong",[s._v("cz")]),s._v(" 替代 "),a("strong",[s._v("git")]),s._v(" commit，否则提交不了代码。")]),s._v(" "),a("h5",{attrs:{id:"_2-husky-commitlint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-husky-commitlint"}},[s._v("#")]),s._v(" 2.husky+commitlint")]),s._v(" "),a("p",[s._v("Commitizen校验工具：commitlint。")]),s._v(" "),a("p",[s._v("commitlint需要配置一份校验规则，"),a("a",{attrs:{href:"https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2Fmarionebl%2Fcommitlint%2Ftree%2Fmaster%2F%40commitlint%2Fconfig-conventional",target:"_blank",rel:"noopener noreferrer"}},[s._v("@commitlint/config-conventional"),a("OutboundLink")],1),s._v("或者@commitlint/config-angular 就是符合Angular规范的一份校验规则。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm i -D husky@1.1.4 lint-staged @commitlint/cli @commitlint/config-conventional @commitlint/config-angular \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("有说法一定要使用 npm 安装 eslint 和 husky，因为在 windows 操作系统下, 用 yarn 安装依赖，不会触发 husky pre-commit 钩子命令。")]),s._v(" "),a("p",[s._v("husky会自动在项目.git目录生成一个hock，这个hock会执行package.json中的pre-commit和commit-msg")]),s._v(" "),a("p",[s._v("package.json例：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' "husky": {\n    "hooks": {\n      "pre-commit": "npm run lint-staged"，\n      "commit-msg": "commitlint -E HUSKY_GIT_PARAMS"\n    }\n  },\n  "lint-staged": {\n    "**/*.js": "eslint --ext .js",\n    "**/*.vue": "eslint --ext .vue"\n  }\n \n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v(".huskyrc 例：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{\n  "hooks": {\n    "pre-commit": "lint-staged",\n    "commit-msg": "commitlint -E HUSKY_GIT_PARAMS"\n  }\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v(".lintstagedrc 例：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{\n  "src/**/*.js": "eslint"\n}\n//设置 fix 可以自动修复错误： \n{\n   "src/**/*.js": ["eslint --fix", "git add"]\n}\n// prettier自动格式化代码\n{\n   "src/**/*.js": ["prettier --write", "git add"]\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("commitlint.config.js配置允许通过的注释类型")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("module.exports = {\nextends: ['@commitlint/config-angular']，\nrules: {\n'subject-case': [0, 'never'],\n'type-enum': [\n  2, //代表必须输入\n  'always', \n  [\n    \"docs\",     // 仅仅修改了文档，比如README, CHANGELOG, CONTRIBUTE等等\n    \"chore\",    //  改变构建流程、或者增加依赖库、工具等\n    \"feat\",     // 新增feature\n    \"fix\",      // 修复bug\n    \"merge\",    // Merge branch ? of ?.\n    \"perf\",     // 优化相关，比如提升性能、体验\n    \"refactor\", //  代码重构，没有加新功能或者修复bug\n    \"revert\",    // 回滚到上一个版本                \n    \"style\",    // 仅仅修改了空格、格式缩进、都好等等，不改变代码逻辑                \n    \"test\"     //  测试用例，包括单元测试、集成测试等                \n  ]\n]\n}};\n// 或者\nmodule.exports = {\n  extends: ['@commitlint/config-conventional'],\n  rules: {\n    'type-enum': [\n        2,\n        'always',\n        [\n        'feat', // 新功能（feature）\n        'fix', // 修补bug\n        'docs', // 文档（documentation）\n        'style', // 格式（不影响代码运行的变动）\n        'refactor', // 重构（即不是新增功能，也不是修改bug的代码变动）\n        'test', // 增加测试\n        'revert', // 回滚\n        'config', // 构建过程或辅助工具的变动\n        'chore', // 其他改动\n        ],\n    ],\n    'type-empty': [2, 'never'], // 提交不符合规范时,也可以提交,但是会有警告\n    'subject-empty': [2, 'never'], // 提交不符合规范时,也可以提交,但是会有警告\n    'subject-full-stop': [0, 'never'],\n    'subject-case': [0, 'never'],\n  }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br")])]),a("h4",{attrs:{id:"跳过校验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#跳过校验"}},[s._v("#")]),s._v(" 跳过校验")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('--no-verify\ngit add . && git commit --no-verify -m "代码规范强制提交测试"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"changelog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#changelog"}},[s._v("#")]),s._v(" changelog")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/ajoslin/conventional-changelog",target:"_blank",rel:"noopener noreferrer"}},[s._v("conventional-changelog"),a("OutboundLink")],1),s._v(" 就是生成 Change log 的工具，运行下面的命令即可。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install -g conventional-changelog-cli\nconventional-changelog -p angular -i CHANGELOG.md -s\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("上面命令不会覆盖以前的 Change log，只会在"),a("code",[s._v("CHANGELOG.md")]),s._v("的头部加上自从上次发布以来的变动。")]),s._v(" "),a("p",[s._v("如果你想生成所有发布的 Change log，要改为运行下面的命令。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("conventional-changelog -p angular -i CHANGELOG.md -s -r 0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("为了方便使用，可以将其写入"),a("code",[s._v("package.json")]),s._v("的"),a("code",[s._v("scripts")]),s._v("字段。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{\n  "scripts": {\n    "changelog": "conventional-changelog -p angular -i CHANGELOG.md -s -r 0 && git add CHANGELOG.md"\n  }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("以后，直接运行下面的命令即可。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" npm run changelog\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"四、npm相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、npm相关"}},[s._v("#")]),s._v(" 四、npm相关")]),s._v(" "),a("h3",{attrs:{id:"更新版本号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新版本号"}},[s._v("#")]),s._v(" 更新版本号")]),s._v(" "),a("p",[s._v("使用 "),a("code",[s._v("npm version")]),s._v(" 命令自动计算下一个版本号，并将该版本号更新到 package.json 文件中。可以手动指定符合语义化版本规则版本号，也可以使用 "),a("code",[s._v("npm version")]),s._v(" 提供的一些快捷命令自动更新版本号。"),a("code",[s._v("npm version")]),s._v(" 的语法如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm version [<newversion> | major | minor | patch | premajor | preminor | prepatch | prerelease [--preid=<prerelease-id>] | from-git]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果在一个 Git 仓库下执行 "),a("code",[s._v("npm version")]),s._v("，会默认新增一个同名 Tag，这一默认行为可以用 "),a("code",[s._v("npm --no-git-tag-version version")]),s._v(" 禁止。")]),s._v(" "),a("p",[s._v("实例：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm version patch \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("npm version后面参数说明：\npatch：小变动，比如修复bug等，版本号变动 "),a("strong",[s._v("v1.0.0->v1.0.1")]),s._v("\nminor：增加新功能，不影响现有功能,版本号变动 "),a("strong",[s._v("v1.0.0->v1.1.0")]),s._v("\nmajor：破坏模块对向后的兼容性，版本号变动 "),a("strong",[s._v("v1.0.0->v2.0.0")])]),s._v(" "),a("blockquote",[a("p",[s._v("version")])]),s._v(" "),a("p",[s._v("版本号，符合"),a("strong",[s._v("语义化版本")]),s._v("规则，即 "),a("code",[s._v("major.minor.patch")]),s._v("：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("major")]),s._v("：主版本号，不兼容的修改")]),s._v(" "),a("li",[a("code",[s._v("minor")]),s._v("：次版本号，向下兼容的新功能")]),s._v(" "),a("li",[a("code",[s._v("patch")]),s._v("：修订号，向下兼容的问题修复")])]),s._v(" "),a("h3",{attrs:{id:"author，description、keywords"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#author，description、keywords"}},[s._v("#")]),s._v(" author，description、keywords")]),s._v(" "),a("p",[s._v("作者，一般格式是 "),a("code",[s._v("${name} ${email}")]),s._v("。"),a("code",[s._v("description")]),s._v(" 和 "),a("code",[s._v("keywords")]),s._v(" 分别定义包的描述和关键字，有助于包的检索，并在检索结果中显示。")]),s._v(" "),a("p",[s._v("npmrc详解，npm config变量具体见"),a("a",{attrs:{href:"http://oss.xccjh.top/vuebloger/index.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm进阶配置"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("gitbash环境变量讲解")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/40.png",alt:"40"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/41.png",alt:"40"}})]),s._v(" "),a("h3",{attrs:{id:"npm私服"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm私服"}},[s._v("#")]),s._v(" npm私服")]),s._v(" "),a("ol",[a("li",[s._v("付费选择：")])]),s._v(" "),a("ul",[a("li",[s._v("MyGet ("),a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fwww.myget.org%2F",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.myget.org"),a("OutboundLink")],1),s._v(") 9美元/月，且只能有两个账号和1GB的存储空间。")]),s._v(" "),a("li",[s._v("NPM Org ("),a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fwww.npmjs.com%2F",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.npmjs.com"),a("OutboundLink")],1),s._v(") 每个账号每月7美元")])]),s._v(" "),a("ol",[a("li",[s._v("免费选择：")])]),s._v(" "),a("ul",[a("li",[s._v("DIY NPM ("),a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fdocs.npmjs.com%2Fmisc%2Fregistry",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.npmjs.com/misc/registry"),a("OutboundLink")],1),s._v(")")]),s._v(" "),a("li",[s._v("Git，这也是一种选择，在package.json中指定git仓库的URL即可，但是这种做法有些别扭，第一，使得package.json不够优雅，第二，当git仓库为private时，你需要HTTPS或SSH凭据，而且通常我们并没有每个团队的权限。")]),s._v(" "),a("li",[s._v("Sinopia ("),a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fsinopia",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.npmjs.com/package/sinopia"),a("OutboundLink")],1),s._v(")")]),s._v(" "),a("li",[s._v("Cnpmjs.org ("),a("a",{attrs:{href:"https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fcnpm%2Fcnpmjs.org",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/cnpm/cnpmjs.org"),a("OutboundLink")],1),s._v(")")])]),s._v(" "),a("p",[s._v("sinopia的一个分支，起了个名字叫"),a("strong",[s._v("verdaccio")]),s._v("，这个就是这次主要推荐的方案，这个库一直在积极维护中")]),s._v(" "),a("p",[s._v("一键安装启动"),a("code",[s._v("npm i verdaccio -g")]),s._v("，默认端口http://127.0.0.1:4873/,改变端口verdaccio -l 0.0.0.0:4873")]),s._v(" "),a("p",[s._v("如果想搭建公共服务")]),s._v(" "),a("h5",{attrs:{id:"搭建步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搭建步骤"}},[s._v("#")]),s._v(" 搭建步骤")]),s._v(" "),a("ol",[a("li",[s._v("首先我们需要向运维同学申请一台linux服务器，给台2GB左右的虚拟机就够用了；")]),s._v(" "),a("li",[s._v("找个合适的地方下载安装nodejs，比如在"),a("code",[s._v("/usr/local/lib")]),s._v("下\n安装wget："),a("code",[s._v("yum install -y wget")]),s._v("；（已经安装的跳过这步）\n下载："),a("code",[s._v("wget https://nodejs.org/dist/v10.6.0/node-v10.6.0-linux-x64.tar.xz")]),s._v(";\n解压："),a("code",[s._v("tar -xvf node-v10.6.0-linux-x64.tar.xz")]),s._v(";\n重命名安装目录："),a("code",[s._v("mv node-v10.6.0-linux-x64 nodejs")]),s._v(";\n建立软连接：\n"),a("code",[s._v("ln -s /usr/local/lib/nodejs/bin/npm /usr/local/bin/")]),s._v(" "),a("code",[s._v("ln -s /usr/local/lib/nodejs/bin/node /usr/local/bin/")])]),s._v(" "),a("li",[s._v("执行"),a("code",[s._v("node -v")]),s._v("和 "),a("code",[s._v("npm -v")]),s._v("命令检查是否安装成功")]),s._v(" "),a("li",[s._v("全局安装verdaccio："),a("code",[s._v("npm i verdaccio -g")]),s._v(";")]),s._v(" "),a("li",[s._v("全局安装pm2，用来守护node进程："),a("code",[s._v("npm i pm2 -g")]),s._v(";")]),s._v(" "),a("li",[s._v("安装nginx，仍然在 "),a("code",[s._v("/usr/local/lib")]),s._v("下\n下载："),a("code",[s._v("wget http://nginx.org/download/nginx-1.13")]),s._v(".7.tar.gz``解压："),a("code",[s._v("tar -zxvf nginx-1.13.7.tar.gz")]),s._v("；")]),s._v(" "),a("li",[s._v("换个名字："),a("code",[s._v("mv nginx-1.13.7 nginx")]),s._v("；\n进入安装目录："),a("code",[s._v("cd nginx")]),s._v("\n执行："),a("code",[s._v("./configure")]),s._v("；\n执行："),a("code",[s._v("make && make install")]),s._v("；\n"),a("code",[s._v("cd conf/")]),s._v("修改nginx.conf，加上这一段：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("server {\n  listen       80;\n  server_name  registry.npm.your.server;\n  location / {\n    proxy_pass    http://127.0.0.1:4873/;\n    proxy_set_header        Host $host;\n  }\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("​    建立软连接："),a("code",[s._v("ln -s /usr/local/nginx/sbin/nginx /usr/local/bin/")]),s._v("\n​    启动nginx: "),a("code",[s._v("sudo nginx")]),s._v("（重启命令："),a("code",[s._v("sudo nginx -s reload")]),s._v("）")]),s._v(" "),a("p",[s._v("8.pm2启动服务，执行"),a("code",[s._v("pm2 start verdaccio")]),s._v("，然后浏览器访问"),a("code",[s._v("http://服务器IP")]),s._v("，出现以下页面则代表安装成功。")]),s._v(" "),a("p",[s._v("可以配置如果本库没有会去npm查找，具有缓存包等共功能。")]),s._v(" "),a("h3",{attrs:{id:"main、unpkg、module-jsnext-main"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#main、unpkg、module-jsnext-main"}},[s._v("#")]),s._v(" main、unpkg、module/jsnext:main")]),s._v(" "),a("p",[a("code",[s._v("main")]),s._v(" 是"),a("strong",[s._v("包的入口")]),s._v("。例如，Node 环境下使用 "),a("code",[s._v("import pkg from 'package-name'")]),s._v(" 导入的就是 "),a("code",[s._v("main")]),s._v(" 定义的入口文件，可以是 "),a("code",[s._v("CommonJS")]),s._v(" 格式或者 "),a("code",[s._v("umd")]),s._v(" 格式。")]),s._v(" "),a("p",[s._v("unpkg是一个内容源自npm的全球快速CDN。它部署在cloudflare上，在大陆地区访问到的是香港节点。在国内一些互联网公司也有镜像，例如知乎和饿了么。它能以快速而简单的方式提供任意包、任意文件，通过类似这样的"),a("code",[s._v("URL：unpkg.com/:package@:version/:file")])]),s._v(" "),a("p",[a("code",[s._v("unpkg")]),s._v(" 定义浏览器环境使用的入口，一般格式为 "),a("code",[s._v("ner")]),s._v(" 注册）")]),s._v(" "),a("blockquote",[a("p",[s._v("使用 unpkg")])]),s._v(" "),a("h5",{attrs:{id:"使用固定的版本号："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用固定的版本号："}},[s._v("#")]),s._v(" 使用固定的版本号：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("unpkg.com/react@16.0.0/umd/react.production.min.js\nunpkg.com/react-dom@16.0.0/umd/react-dom.production.min.js\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("也可使用语义化版本范围，或标签来代替固定版本号，亦可忽略版本和标签，直接使用最新的版本。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("unpkg.com/react@^16/umd/react.production.min.js\nunpkg.com/react/umd/react.production.min.js\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("如果忽略了文件的路径（例如，使用裸网址 “bare” URL），unpkg会提供 package.json里指定的文件，或降级到main。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("unpkg.com/d3\nunpkg.com/jquery\nunpkg.com/three\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("这种方式会产生一次 302 到最新的文件URL。好处是自动使用最新版，坏处是多一次性跳转，降低了性能。")]),s._v(" "),a("p",[s._v("在网址最后添加斜线，可以查看一个包内的所有文件列表。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("unpkg.com/react/\nunpkg.com/lodash/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("blockquote",[a("p",[s._v("发布 unpkg")]),s._v(" "),a("p",[s._v("添加 umd（或 dist） 目录到 .gitignore 文件中")]),s._v(" "),a("p",[s._v("添加 umd 目录到 package.json 文件数组("),a("a",{attrs:{href:"https://docs.npmjs.com/files/package.json#files",target:"_blank",rel:"noopener noreferrer"}},[s._v("files"),a("OutboundLink")],1),s._v(")中")]),s._v(" "),a("p",[s._v("发布的时候，使用脚本构建 UMD 打包文件到 umd 目录")])]),s._v(" "),a("ul",[a("li",[s._v("查看本地 "),a("code",[s._v(".npmrc")]),s._v(" 配置，确保 "),a("code",[s._v("registry=https://registry.npmjs.org/")]),s._v("（可通过 "),a("code",[s._v("npm config edit")]),s._v(" 查看或编辑）")]),s._v(" "),a("li",[s._v("运行 "),a("code",[s._v("npm login")]),s._v(" 在本地登录 npm 账号")]),s._v(" "),a("li",[s._v("执行 "),a("code",[s._v("npm publish")])])]),s._v(" "),a("p",[s._v("就是这样了，当 npm 发布时，在 unpkg 上也会拥有一个有效的文件版本。")]),s._v(" "),a("p",[s._v("以上过程发布的是一个 "),a("code",[s._v("unscoped")]),s._v(" 包，当发布的包跟 npm 上现有的包存在命名冲突时，就需要发布一个特定作用域下的 "),a("code",[s._v("scoped")]),s._v(" 包：")]),s._v(" "),a("ul",[a("li",[s._v("包名格式需要加上作用域："),a("code",[s._v("@scope/package-name")])]),s._v(" "),a("li",[s._v("在发布时指定为公共发布："),a("code",[s._v("npm publish --access public")]),s._v("，以避免被默认识别为私包（私包是收费的）")])]),s._v(" "),a("h2",{attrs:{id:"四、yarn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、yarn"}},[s._v("#")]),s._v(" 四、yarn")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("查看当前源")]),s._v(" "),a("p",[a("code",[s._v("yarn config get registry")])])]),s._v(" "),a("li",[a("p",[s._v("临时修yran源\n"),a("code",[s._v("yarn save package_name --registry https://registry.npm.taobao.org/")])])]),s._v(" "),a("li",[a("p",[s._v("修改yarn源为taobao源\n"),a("code",[s._v("yarn config set registry https://registry.npm.taobao.org/")])])]),s._v(" "),a("li",[a("p",[s._v("修改yarn源为官方源\n"),a("code",[s._v("yarn config set registry https://registry.yarnpkg.com")])])]),s._v(" "),a("li",[a("p",[s._v("发布包")]),s._v(" "),a("p",[a("code",[s._v("yarn login&&yarn publish")])])])]),s._v(" "),a("p",[s._v("更多参考")]),s._v(" "),a("p",[a("a",{attrs:{href:"http://xccjh.gitee.io/vuebloger/technology/npm%E8%BF%9B%E9%98%B6%E9%85%8D%E7%BD%AE%E6%80%BB%E7%BB%93.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm进阶配置总结gitee"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"http://oss.xccjh.top/vuebloger/index.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm进阶配置总结oss"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"五、文档生成器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、文档生成器"}},[s._v("#")]),s._v(" 五、文档生成器")]),s._v(" "),a("p",[s._v("文档书写，自动解析jsdoc注释是生成属性表格文档")]),s._v(" "),a("p",[a("strong",[s._v("Storybook")]),s._v("：支持 Vue/React/Angular 等，提供功能丰富的 addons 插件增强文档交互体验。")]),s._v(" "),a("p",[a("strong",[s._v("VuePress")]),s._v("：Vue 技术栈，支持在 md 文件中插入 Vue 组件。")]),s._v(" "),a("p",[a("strong",[s._v("docsify")]),s._v("：兼容vue")]),s._v(" "),a("p",[a("strong",[s._v("Docz")]),s._v("：React ，MDX（Markdown + jsx）语法，基于 "),a("a",{attrs:{href:"https://github.com/gatsbyjs/gatsby%3Ey",target:"_blank",rel:"noopener noreferrer"}},[s._v("Gatsby.js"),a("OutboundLink")],1),s._v("。")]),s._v(" "),a("p",[a("strong",[s._v("bisheng")]),s._v("：antd-react使用的文档书写工具")]),s._v(" "),a("p",[a("strong",[s._v("react-styleguidist")]),s._v("：文档生成器")]),s._v(" "),a("p",[a("strong",[s._v("dumi")]),s._v(" ：文档生成器")]),s._v(" "),a("p",[a("strong",[s._v("redemo")]),s._v(" ：文档生成器")]),s._v(" "),a("h2",{attrs:{id:"六、单元测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、单元测试"}},[s._v("#")]),s._v(" 六、单元测试")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/36.jpg",alt:"6"}})]),s._v(" "),a("h4",{attrs:{id:"按开发阶段划分"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#按开发阶段划分"}},[s._v("#")]),s._v(" 按开发阶段划分")]),s._v(" "),a("ul",[a("li",[a("h5",{attrs:{id:"单元测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单元测试"}},[s._v("#")]),s._v(" "),a("strong",[s._v("单元测试")])]),s._v(" "),a("p",[s._v("单元测试又称模块测试，针对软件设计中的"),a("strong",[s._v("最小单位")]),s._v("——程序模块，进行正确性检查的测试工作。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("集成测试")]),s._v("\n集成测试又叫组装测试，通常在单元测试的基础上，将所有程序模块进行有序的、递增测试。重点测试不同模块的接口部分")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("系统测试")]),s._v("\n指的是将整个软件系统看成一个整体进行测试，包括对功能、性能以及软件所运行的软硬件环境进行测试。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("验收测试")]),s._v("\n指按照项目任务书或合同、供需双方约定的验收依据文档进行的对整个系统的测试与评审，决定是否接收或拒收系统")])])]),s._v(" "),a("h4",{attrs:{id:"按是否运行划分"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#按是否运行划分"}},[s._v("#")]),s._v(" 按是否运行划分")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("静态测试")]),s._v("\n是指不实际运行被测软件，而只是静态地检查程序代码、界面或文档中可能存在的错误过程")]),s._v(" "),a("li",[a("strong",[s._v("动态测试")]),s._v("\n是指实际运行被测程序，输入相应的测试数据，检查实际输出结果和预期结果是否相符的过程。")])]),s._v(" "),a("h4",{attrs:{id:"按是否查看源代码划分"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#按是否查看源代码划分"}},[s._v("#")]),s._v(" 按是否查看源代码划分")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("黑盒测试")]),s._v("\n指的是把被测的软件看做一个黑盒子，不关心盒子里面的结构是什么样子，只关心软件的输入数据和输出数据。")]),s._v(" "),a("li",[a("strong",[s._v("白盒测试")]),s._v("\n指的是把盒子打开，去研究里面的源代码和程序结构。")])]),s._v(" "),a("h4",{attrs:{id:"其他"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[s._v("#")]),s._v(" 其他")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("回归测试")]),s._v("\n是指软件被修改后重新进行的测试，重复执行上一个版本测试时的用例，是为了保证对软件所做的修改没有引入新的错误而重复进行的测试。")]),s._v(" "),a("li",[a("strong",[s._v("冒烟测试")]),s._v("\n是指在对一个新版本进行系统大规模的测试之前，先验证一下软件的基本功能是否实现，是否具备可测性。")]),s._v(" "),a("li",[a("strong",[s._v("随机测试")]),s._v("\n是指测试中所有的输入数据都是随机生成的，其目的是模拟用户的真实操作，并发现一些边缘性的错误。")])]),s._v(" "),a("h4",{attrs:{id:"关于atdd-tdd-bdd-ddd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关于atdd-tdd-bdd-ddd"}},[s._v("#")]),s._v(" 关于ATDD,TDD,BDD,DDD")]),s._v(" "),a("p",[a("strong",[s._v("ATDD： Acceptance Test Driven Development（验收测试驱动开发）")])]),s._v(" "),a("p",[s._v("TDD 只是开发人员的职责，通过单元测试用例来驱动功能代码的实现。在准备实施一个功能或特性之前，首先团队需要定义出期望的质量标准和验收细则，以明确而且达成共识的验收测试计划（包含一系列测试场景）来驱动开发人员的TDD实践和测试人员的测试脚本开发。面向开发人员，强调如何实现系统以及如何检验。")]),s._v(" "),a("p",[a("strong",[s._v("TDD： Test-driven development （测试驱动开发）")])]),s._v(" "),a("p",[s._v("是一种使用自动化单元测试来推动软件设计并强制依赖关系解耦的技术。使用这种做法的结果是一套全面的单元测试，可随时运行，以提供软件可以正常工作的反馈。")]),s._v(" "),a("p",[s._v("测试驱动开发是敏捷开发中的一项核心实践和技术，也是一种设计方法论。TDD的原理是在开发功能代码之前，先编写单元测试用例代码，测试代码确定需要编写什么产品代码。TDD的基本思路就是通过测试来推动整个开发的进行，但测试驱动开发并不只是单纯的测试工作，而是把需求分析，设计，质量控制量化的过程。TDD首先考虑使用需求（对象、功能、过程、接口等），主要是编写测试用例框架对功能的过程和接口进行设计，而测试框架可以持续进行验证。。")]),s._v(" "),a("p",[a("strong",[s._v("BDD:Behavior-Driven Development (行为驱动开发)")])]),s._v(" "),a("p",[s._v("行为驱动开发是一种敏捷软件开发的技术，它鼓励软件项目中的开发者、QA和非技术人员或商业参与者之间的协作。主要是从用户的需求出发，强调系统行为。BDD最初是由Dan North在2003年命名，它包括验收测试和客户测试驱动等的极限编程的实践，作为对测试驱动开发的回应。")]),s._v(" "),a("p",[a("strong",[s._v("DDD：领域驱动开发（Domain Drive Design）")])]),s._v(" "),a("p",[s._v("DDD指的是Domain Drive Design，也就是领域驱动开发,DDD实际上也是建立在这个基础之上，因为它关注的是Service层的设计，着重于业务的实现,将分析和设计结合起来，不再使他们处于分裂的状态，这对于我们正确完整的实现客户的需求，以及建立一个具有业务伸缩性的模型。")]),s._v(" "),a("h4",{attrs:{id:"angular（jasmine-karma）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#angular（jasmine-karma）"}},[s._v("#")]),s._v(" Angular（jasmine+karma）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('\t"@types/jasmine": "~2.8.6",\n    "@types/jasminewd2": "~2.0.3",\n    "@types/node": "~8.9.4",\n    "codelyzer": "~4.2.1",\n    "jasmine-core": "~2.99.1",\n    "jasmine-spec-reporter": "~4.2.1",\n    "karma": "~1.7.1",\n    "karma-chrome-launcher": "~2.2.0",\n    "karma-coverage-istanbul-reporter": "~1.4.2",\n    "karma-jasmine": "~1.1.1",\n    "karma-jasmine-html-reporter": "^0.2.2",\t\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h5",{attrs:{id:"karma的介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#karma的介绍"}},[s._v("#")]),s._v(" Karma的介绍")]),s._v(" "),a("p",[s._v("Karma是Testacular的新名字，在2012年google开源了Testacular，2013年Testacular改名为Karma。Karma是一个让人感到非常神秘的名字，表示佛教中的缘分，因果报应，比Cassandra这种名字更让人猜不透！")]),s._v(" "),a("p",[s._v("Karma是一个基于Node.js的JavaScript测试执行过程管理工具（Test Runner）。该工具可用于测试所有主流Web浏览器，也可集成到CI（Continuous integration）工具，也可和其他代码编辑器一起使用。这个测试工具的一个强大特性就是，它可以监控(Watch)文件的变化，然后自行执行，通过console.log显示测试结果。")]),s._v(" "),a("h5",{attrs:{id:"jasmine介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jasmine介绍"}},[s._v("#")]),s._v(" jasmine介绍")]),s._v(" "),a("p",[s._v("TDD(Test Driven Development)测试驱动开发，是敏捷开发中提出的最佳实践之一。jasmine很有意思的提出了BDD(Behavior Driven Development)行为驱动开发.")]),s._v(" "),a("p",[s._v("测试驱动开发，对软件质量起到了规范性的控制。未写实现，先写测试，一度成为Java领域研发的圣经。随着Javascript兴起，功能越来越多，代码量越来越大，开发人员素质相差悬殊，真的有必要建立对代码的规范性控制。jasmine就是为团队合作而生。")]),s._v(" "),a("p",[s._v("Jasmine是一个用来编写Javascript测试的框架，它不依赖于任何其它的javascript框架，也不需要对DOM。它有拥有灵巧而明确的语法可以让你轻松的编写测试代码。")]),s._v(" "),a("h4",{attrs:{id:"react测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#react测试"}},[s._v("#")]),s._v(" react测试")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://testing-library.com/docs/react-testing-library/intro",target:"_blank",rel:"noopener noreferrer"}},[s._v("React Testing Library"),a("OutboundLink")],1),s._v(" + "),a("a",{attrs:{href:"https://jestjs.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Jest"),a("OutboundLink")],1),s._v(" /"),a("a",{attrs:{href:"https://github.com/enzymejs/enzyme",target:"_blank",rel:"noopener noreferrer"}},[s._v("Enzyme"),a("OutboundLink")],1),s._v("  + "),a("a",{attrs:{href:"https://jestjs.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Jest"),a("OutboundLink")],1)]),s._v(" "),a("h4",{attrs:{id:"vue测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue测试"}},[s._v("#")]),s._v(" vue测试")]),s._v(" "),a("p",[s._v("@vue/test-utils")]),s._v(" "),a("h2",{attrs:{id:"七、关于技术栈"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七、关于技术栈"}},[s._v("#")]),s._v(" 七、关于技术栈")]),s._v(" "),a("p",[s._v("不同技术栈生成的文件皆为es5bundle，不同的是接入方式不同。如果是ts构建的可以指定输出types")]),s._v(" "),a("h2",{attrs:{id:"八、打标签"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#八、打标签"}},[s._v("#")]),s._v(" 八、打标签")]),s._v(" "),a("p",[s._v("我们需要为特定的版本运行 "),a("code",[s._v("git tag -a [tagname]")]),s._v(" 打上 Tag，并运行 "),a("code",[s._v("git push origin [tagname]")]),s._v(" 显式将该 Tag 推送至远程。")]),s._v(" "),a("p",[s._v("这一过程可以在 npm 包发布之前，也可以在 npm 发布之后，在后面的自动化发布中会涉及到这一点。")]),s._v(" "),a("h2",{attrs:{id:"九、自动化发布cicd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#九、自动化发布cicd"}},[s._v("#")]),s._v(" 九、自动化发布CICD")]),s._v(" "),a("p",[s._v("如果每次发布都需要运行测试、打包构建、更新版本号、npm 包发布等流程，一般借助一些自动化的手段将上述流程串连起来，实现自动化发布。")]),s._v(" "),a("p",[s._v("自动化发布 npm 需要有一个触发点，可以是"),a("strong",[s._v("运行 npm script 时触发 pre、post 钩子")]),s._v("实现全流程的自动化，例如：定义 "),a("code",[s._v("preversion")]),s._v("、"),a("code",[s._v("postversion")]),s._v(" 钩子脚本，在执行 "),a("code",[s._v("npm version")]),s._v(" 前后会分别执行这两个脚本。也可以"),a("strong",[s._v("配合 CI/CD 工具")]),s._v("，例如在 CI/CD 脚本中监听 master 分支的 tags 推送，一旦有新 tag 推送至远程，就执行上述的发布流程，包括文档站点的部署也可以在这里实现。")]),s._v(" "),a("h3",{attrs:{id:"gitlab-ci-multi-runner"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitlab-ci-multi-runner"}},[s._v("#")]),s._v(" gitlab-ci-multi-runner")]),s._v(" "),a("p",[s._v("GitLab-Runner就是一个用来执行.gitlab-ci.yml 脚本的工具。可以理解成，Runner就像认真工作的工人，GitLab-CI就是管理工人的中心，所有工人都要在GitLab-CI里面注册，并且表明自己是为哪个项目服务。当相应的项目发生变化时，GitLab-CI就会通知相应的工人执行对应的脚本。")]),s._v(" "),a("h5",{attrs:{id:"runner类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#runner类型"}},[s._v("#")]),s._v(" Runner类型")]),s._v(" "),a("p",[s._v("GitLab-Runner可以分类两种类型：Shared Runner（共享型）和Specific Runner（指定型）。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("Shared Runner：所有工程都能够用的，且只有系统管理员能够创建。")])]),s._v(" "),a("li",[a("p",[s._v("Specific Runner：只有特定的项目可以使用。")])])]),s._v(" "),a("h5",{attrs:{id:"runner搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#runner搭建"}},[s._v("#")]),s._v(" Runner搭建")]),s._v(" "),a("p",[s._v("1.Runner 安装")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# For RHEL/CentOS \ncurl -L https://packages.gitlab.com/install/repositories/runner/gitlab-ci-multi-runner/script.rpm.sh | sudo bash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("2.获取Runner注册Token")]),s._v(" "),a("p",[s._v("安装好Runner之后，需要向Gitlab进行注册，注册Runner需要GitLab-CI的url和token。可根据需求注册选择所需类型Runner。")]),s._v(" "),a("blockquote",[a("p",[s._v("获取Shared Runner注册Token")])]),s._v(" "),a("p",[s._v("使用管理员用户登录，进入Admin Area->OverView->Runners界面。安装好Runner之后，需要向Gitlab进行注册，注册Runner需要GitLab-CI的url和token。可根据需求注册选择所需类型Runner。")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/30.jpg",alt:"30"}})]),s._v(" "),a("blockquote",[a("p",[s._v("获取Specific Runner注册Token")])]),s._v(" "),a("p",[s._v("进行项目仓库->settings->CI/CD界面")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/31.jpg",alt:"31"}})]),s._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[s._v("注册Runner")])]),s._v(" "),a("blockquote",[a("p",[s._v("gitlab-ci-multi-runner  register注册项目")])]),s._v(" "),a("p",[s._v("执行gitlab-ci-multi-runner register命令进行Runner注册，期间会用到前期获取的url及token；注册完成之后，GitLab-CI就会多出一条Runner记录：")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/32.jpg",alt:"32"}})]),s._v(" "),a("h5",{attrs:{id:"▍管道（pipeline）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#▍管道（pipeline）"}},[s._v("#")]),s._v(" ▍管道（pipeline）")]),s._v(" "),a("p",[s._v("每个推送到 Gitlab 的提交都会产生一个与该提交关联的管道(pipeline)，若一次推送包含了多个提交，则管道与最后那个提交相关联，管道(pipeline)就是一个分成不同阶段(stage)的作业(job)的集合。")]),s._v(" "),a("h5",{attrs:{id:"▍阶段（stage）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#▍阶段（stage）"}},[s._v("#")]),s._v(" ▍阶段（Stage）")]),s._v(" "),a("p",[s._v("阶段是对批量的作业的一个逻辑上的划分，每个 GitLab CI/CD 都必须包含至少一个 Stage。多个 Stage 是按照顺序执行的，如果其中任何一个 Stage 失败，则后续的 Stage 不会被执行，整个 CI 过程被认为失败。")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/33.jpg",alt:"33"}})]),s._v(" "),a("h5",{attrs:{id:"▍作业（job）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#▍作业（job）"}},[s._v("#")]),s._v(" ▍作业（Job）")]),s._v(" "),a("p",[s._v("作业就是运行器(Runner)要执行的指令集合，Job 可以被关联到一个 Stage。当一个 Stage 执行的时候，与其关联的所有 Job 都会被执行。在有足够运行器的前提下,同一阶段的所有作业会并发执行。作业状态与阶段状态是一样的，实际上，阶段的状态就是继承自作业的。")]),s._v(" "),a("p",[s._v("作业必须包含script（由Runner执行的shell脚本），随着项目越来越大，Job 越来越多，Job 中包含的重复逻辑可能会让配置文件臃肿不堪。.gitlab-ci.yml 中提供了 before_script 和 after_script 两个全局配置项。这两个配置项在所有 Job 的 script 执行前和执行后调用。")]),s._v(" "),a("p",[s._v("Job 的执行过程中往往会产生一些数据，默认情况下 GitLab Runner 会保存 Job 生成的这些数据，然后在下一个 Job 执行之前（甚至不局限于当次 CI/CD）将这些数据恢复。这样即便是不同的 Job 运行在不同的 Runner 上，它也能看到彼此生成的数据。")]),s._v(" "),a("p",[s._v("在了解了 Job 配置的 script、before_script、after_script 和 cache 以后，可以将整个 Job 的执行流程用一张图概括")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/35.jpg",alt:"35"}})]),s._v(" "),a("h5",{attrs:{id:"gitlab-ci-yml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitlab-ci-yml"}},[s._v("#")]),s._v(" .gitlab-ci.yml")]),s._v(" "),a("p",[s._v("采用 ruby 语法,从7.12版本开始，GitLab CI使用YAML文件(.gitlab-ci.yml)来管理项目配置。该文件存放于项目仓库的根目录，并且包含了你的项目如何被编译的描述语句。YAML文件使用一系列约束叙述定义了Job启动时所要做的事情。")]),s._v(" "),a("p",[s._v("Job是.gitlab-ci.yml文件中最基本的元素，由一系列参数定义了任务启动时所要做的事情，用户可以创建任意个任务；每个任务必须有一个独一无二的名字，但有一些保留keywords不能用于Job名称，image，services，stages，types，before_script，after_script，variables，cache。")]),s._v(" "),a("p",[s._v("Job被定义为顶级元素，并且至少包括一条script语句，如果一个 Job 没有显式地关联某个 Stage，则会被默认关联到 test Stage。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("job1:\n# 关联到bulid阶段\nstage: build\n# 所需执行的脚本\nscript:\n- execute-script-for-job1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jenkins"}},[s._v("#")]),s._v(" jenkins")]),s._v(" "),a("p",[s._v("可以使集成码云CICID。")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/38.png",alt:"38"}})]),s._v(" "),a("p",[s._v("jenkins关联远程节点主机，设置free style job/pipeline一键部署,实现提交自动发布（使用webhook），自动tag等一系列持续集成行为")]),s._v(" "),a("p",[a("img",{attrs:{src:"pic/37.png",alt:"37"}})]),s._v(" "),a("h3",{attrs:{id:"travelci"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#travelci"}},[s._v("#")]),s._v(" travelci")]),s._v(" "),a("p",[s._v("一般用于github。")]),s._v(" "),a("h2",{attrs:{id:"十、二次封装，各项目需求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#十、二次封装，各项目需求"}},[s._v("#")]),s._v(" 十、二次封装，各项目需求")]),s._v(" "),a("p",[s._v("比如集成工具类,工具方法，第三方库，例如：clickoutside，rxjs,momentjs,lidash,datafns,图标，地图，代码编辑器，富文本，markdown,预览图片组件，实现拖拽组件，水印功能，zoomable功能，图片裁切编辑，消息订阅，websocket, v-ripple 点击波纹,集成常用正则，自定义事件系统等等")]),s._v(" "),a("h2",{attrs:{id:"十一、关于使用ts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#十一、关于使用ts"}},[s._v("#")]),s._v(" 十一、关于使用ts")]),s._v(" "),a("p",[s._v("增加ts编译一步骤，配置开发ts.config和发布ts.config")]),s._v(" "),a("p",[s._v("比如：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('tsconfig。build.json\n{\n  "compilerOptions": {\n    "outDir": "dist",\n    "module": "esnext",\n    "target": "es5",\n    "declaration": true,\n    "jsx": "react",\n    "moduleResolution":"Node",\n    "allowSyntheticDefaultImports": true,\n  },\n  "include": [\n    "src"\n  ],\n  "exclude": [\n    "src/**/*.test.tsx",\n    "src/**/*.stories.tsx",\n    "src/setupTests.ts",\n  ]\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('tsconfig.json\n{\n  "compilerOptions": {\n    "target": "es5",\n    "lib": [\n      "dom",\n      "dom.iterable",\n      "esnext"\n    ],\n    "allowJs": true,\n    "skipLibCheck": true,\n    "esModuleInterop": true,\n    "allowSyntheticDefaultImports": true,\n    "strict": true,\n    "forceConsistentCasingInFileNames": true,\n    "module": "esnext",\n    "moduleResolution": "node",\n    "resolveJsonModule": true,\n    "isolatedModules": true,\n    "noEmit": true,\n    "jsx": "react"\n  },\n  "include": [\n    "src"\n  ]\n}\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("p",[s._v("后续可以谈下ts相关")]),s._v(" "),a("h2",{attrs:{id:"十二、多语言国际化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#十二、多语言国际化"}},[s._v("#")]),s._v(" 十二、多语言国际化")]),s._v(" "),a("p",[s._v("i18n+二次封装")]),s._v(" "),a("h2",{attrs:{id:"十三、组件库issue，pr-f-q管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#十三、组件库issue，pr-f-q管理"}},[s._v("#")]),s._v(" 十三、组件库issue，pr,F&Q管理")]),s._v(" "),a("p",[s._v("好的ui库需要有人维护")]),s._v(" "),a("h2",{attrs:{id:"十四、关于hqcomponentsui"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#十四、关于hqcomponentsui"}},[s._v("#")]),s._v(" 十四、关于"),a("a",{attrs:{href:"http://oss.xccjh.top/hq-components-ui/index.html#/",target:"_blank",rel:"noopener noreferrer"}},[s._v("HqComponentsUI"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("插槽转移")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://gitee.com/xccjh/hq-components-ui",target:"_blank",rel:"noopener noreferrer"}},[s._v("多实例"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("vue插件系统")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://gitee.com/xccjh/ckeditor5-xccjh",target:"_blank",rel:"noopener noreferrer"}},[s._v("插件一"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://gitee.com/xccjh/HqbisVersionWebpackPlugin",target:"_blank",rel:"noopener noreferrer"}},[s._v("插件二"),a("OutboundLink")],1)])])}),[],!1,null,null,null);n.default=t.exports}}]);