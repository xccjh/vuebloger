(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{455:function(s,t,a){},491:function(s,t,a){"use strict";var n=a(455);a.n(n).a},561:function(s,t,a){"use strict";a.r(t);a(491);var n=a(47),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"数字证书-自签名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数字证书-自签名"}},[s._v("#")]),s._v(" 数字证书/自签名")]),s._v(" "),a("p",[s._v("数字证书由数字证书颁发机构（CA，Certificate Authority)）对使用私钥创建的签名请求文件做的签名（盖章），表示 CA 结构对证书持有者的认可。以数字证书为核心的加密技术可以对网络上传输的信息进行加密和解密、数字签名和签名验证，确保网上传递信息的机密性、完整性，以及交易实体身份的真实性，签名信息的不可否认性。当然在数字证书认证的过程中，数字证书认证中心（CA）作为权威的、公正的、 可信赖的第三方，其作用是至关重要的。")]),s._v(" "),a("p",[s._v("数字证书的格式一般采用X.509国际标准。X.509 证书包含三个文件：key，csr，crt。")]),s._v(" "),a("ul",[a("li",[s._v("① key 是服务器上的私钥文件，用于对发送给客户端数据的加密，以及对从客户端接收到数据的解密")]),s._v(" "),a("li",[s._v("② csr 是证书签名请求文件，用于提交给证书颁发机构（CA）对证书签名")]),s._v(" "),a("li",[s._v("③ crt 是由证书颁发机构（CA）签名后的证书，或者是开发者自签名的证书，包含证书持有人的信息，持有人的公钥，以及签署者的签名等信息，有时候我们就看到他是以ca后缀名")])]),s._v(" "),a("p",[s._v("在密码学中，X.509 是一个标准，规范了公开秘钥认证、证书吊销列表、授权凭证、凭证路径验证算法等。")]),s._v(" "),a("p",[s._v("浏览器检查一个证书是否仍然有效有两种方法： OCSP (Online Certificate Status Protocol，在线证书状态协议) 和 CRL（Certificate Revoke List，证书吊销列表）。")]),s._v(" "),a("h3",{attrs:{id:"自签名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自签名"}},[s._v("#")]),s._v(" 自签名")]),s._v(" "),a("ol",[a("li",[s._v("生成本地证书")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 生成服务端本地私钥")]),s._v("\nopenssl genrsa "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("out "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("key "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("通过上面生成的私钥文件生成CSR 证书签名，根据要求填写一些相关信息，可一路按回车即可")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 带上服务器本地私钥+服务器信息请求ca获取ca签名")]),s._v("\nopenssl req "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("key "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("out cs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("key\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("根据上述私钥文件和csr证书签名文件生成证书文件")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用服务器本地私钥+ca签名生成签名证书并指定过期时间")]),s._v("\nopenssl x509 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("req "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("days "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3650")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" csr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("signkey "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("out file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("crt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("完成上述步骤后，cert目录下分别生成 private.key、csr.key、file.crt 三个文件。")]),s._v(" "),a("blockquote",[a("p",[s._v("直接一起生成密钥生成证书，符合苹果要求")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//jesonc.key 为私钥  /  jesonc_apple.crt为证书")]),s._v("\nopenssl req "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("days "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("36500")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("x509 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("sha256 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("nodes "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("newkey  rsa"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("keyout jesonc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("out jesonc_apple"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("crt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("blockquote",[a("p",[s._v("把有密码的私钥转成无密码")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("openssl rsa "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("jesoncold"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("out "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("jesoncou_nopass"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("key \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("我们有时候会看见https访问的浏览器带有如下警告提示，为什么会这个提示呢？这常常是因为证书匹配的域名不对导致。如果使用我们本机的自签名证书域名是127.0.0.1，部署到服务器域名不对就会出现如下提示：")]),s._v(" "),a("p",[a("img",{attrs:{src:"/vuebloger/img/post/Snipaste_2021-04-11_19-57-43.png",alt:""}})]),s._v(" "),a("p",[s._v("其实我们可以通过腾讯云，阿里云等生成免费的ca证书并指定域名就可以避免这种情况。具体查看相关官方文档即可。")]),s._v(" "),a("h2",{attrs:{id:"数字证书的原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数字证书的原理"}},[s._v("#")]),s._v(" 数字证书的原理")]),s._v(" "),a("h3",{attrs:{id:"对称加密"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#对称加密"}},[s._v("#")]),s._v(" 对称加密")]),s._v(" "),a("p",[s._v("明文P，加上密码W一混淆之后，变成密文M。如果不知道W，则无法从M反推回P。也就是无法进行解密。类似这种加密方式，称为对称加密。也就是加密、解密使用的密码是一样的。\n实际上加解密并不是直接使用密码，而是经由密码生成的密钥。这种算法有很多，比如AES。")]),s._v(" "),a("h3",{attrs:{id:"非对称加密"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#非对称加密"}},[s._v("#")]),s._v(" 非对称加密")]),s._v(" "),a("p",[s._v("指加密（公钥）和解密（私钥）使用不同密钥的加密算法，也称为公私钥加密。具体过程是假设两个用户要加密交换数据，双方交换公钥，使用时一方用对方的公钥（通过请求获取）加密，另一方即可用自己的私钥（传输数据是用自己的公钥加密的）解密。通常使用RSA加密算法。")]),s._v(" "),a("p",[s._v("进一步，如果企业中有n个用户，企业需要生成n对密钥，并分发n个公钥。假设A用B的公钥加密消息，用A的私钥签名，B接到消息后，首先用A的公钥验证签名，确认后用自己的私钥解密消息。由于公钥是可以公开的，用户只要保管好自己的私钥即可。")]),s._v(" "),a("h3",{attrs:{id:"非对称加密的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#非对称加密的问题"}},[s._v("#")]),s._v(" 非对称加密的问题")]),s._v(" "),a("p",[s._v("如果没有数字证书第三方，在非内部组织用户访问互联网服务器的情况，在非对称加密中，客户端需要获取服务端的公钥信息，但是如果请求被第三方拦截的话，公钥信息就可能被替换，会导致客户端用第三方的公钥进行加密，如果客户端把这份加密信息也拦截到自己的网站，交互信息就存在泄露的风险。因此，引入数字证书第三方，用于鉴别服务端的公钥是否被伪造。如果服务端的身份鉴定失败，那么就终止请求。")]),s._v(" "),a("p",[s._v("也就是说把服务端和第三方ca做一个信任绑定，这个绑定过程就是拿到ca颁发的证书，客户端拿到服务端的ca认证证书后，会做一个ca绑定的验证。即验证这个证书的真伪。证书为真即该请求没有被第三方拦截。如果为假，可能是1.证书内容被篡改过，或者2.证书证书不是由权威CA签发的。")]),s._v(" "),a("h3",{attrs:{id:"数字证书构成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数字证书构成"}},[s._v("#")]),s._v(" 数字证书构成")]),s._v(" "),a("p",[s._v("大多数https网站提供的数字证书的目的，一个是确认身份，一个是加密浏览器与Web Server之间的通信数据。")]),s._v(" "),a("p",[s._v("数字证书主要包括了以下内容：")]),s._v(" "),a("ul",[a("li",[s._v("Issuer (证书的发布机构)\n指出是什么机构发布的这个证书，也就是指明这个证书是哪个公司创建的(只是创建证书，不是指证书的使用者)。")]),s._v(" "),a("li",[s._v("Valid from , Valid to (证书的有效期)\n也就是证书的有效时间，或者说证书的使用期限。 过了有效期限，证书就会作废，不能使用了。")]),s._v(" "),a("li",[s._v("Public key (公钥)\n这个我们在前面介绍公钥密码体制时介绍过，公钥是用来对消息进行加密的，这个数字证书的公钥是2048位的。")]),s._v(" "),a("li",[s._v("Subject (主题)\n这个证书是发布给谁的，或者说证书的所有者，一般是某个人或者某个公司名称、机构的名称、公司网站的网址等。")]),s._v(" "),a("li",[s._v("Signature algorithm (签名所使用的算法)\n就是指的这个数字证书的数字签名所使用的加密算法，这样就可以使用证书发布机构的证书里面的公钥，根据这个算法对指纹进行解密。指纹的加密结果就是数字签名。")]),s._v(" "),a("li",[s._v("Thumbprint, Thumbprint algorithm (指纹以及指纹算法)\n这个是用来保证证书的完整性的，也就是说确保证书没有被修改过。 其原理就是在发布证书时，发布者根据指纹算法(一个hash算法)计算整个证书的hash值(指纹)并和证书放在一起，使用者在打开证书时，自己也根据指纹算法计算一下证书的hash值(指纹)，如果和刚开始的值对得上，就说明证书没有被修改过，因为证书的内容被修改后，根据证书的内容计算的出的hash值(指纹)是会变化的。 注意，这个指纹会使用权威ca证书机构的私钥用签名算法(Signature algorithm)加密后和证书放在一起。")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[s._v("为了保证安全，在证书的发布机构发布证书时，证书的指纹和指纹算法（用来验证证书是否被篡改），都会加密后（也就是说再私钥加密一层指纹和指纹算法）再和证书放到一起发布，以防有人修改指纹后伪造相应的数字证书。这里问题又来了，证书的指纹和指纹算法用什么加密呢？他们是用证书发布机构的私钥进行加密的。可以用证书发布机构的公钥对指纹和指纹算法解密，也就是说证书发布机构除了给别人发布证书外，他自己本身也有自己的证书。证书发布机构的证书是哪里来的呢？？？这个证书发布机构的数字证书(一般由他自己生成)在我们的操作系统刚安装好时(例如windows xp等操作系统)，这些证书发布机构的数字证书就已经被微软(或者其它操作系统的开发机构)安装在操作系统中了，微软等公司会根据一些权威安全机构的评估选取一些信誉很好并且通过一定的安全认证的证书发布机构，把这些证书发布机构的证书默认就安装在操作系统里面了，并且设置为操作系统信任的数字证书。这些证书发布机构自己持有与他自己的数字证书对应的私钥，他会用这个私钥加密所有他发布的证书的指纹作为数字签名。")])]),s._v(" "),a("h3",{attrs:{id:"申请证书过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#申请证书过程"}},[s._v("#")]),s._v(" 申请证书过程")]),s._v(" "),a("p",[s._v('举个例子方便大家理解，假设我们公司"ABC Company"花了1000块钱，向一个证书发布机构"SecureTrust CA"为我们自己的公司"ABC Company"申请了一张证书，注意，这个证书发布机构"SecureTrust CA"是一个大家公认并被一些权威机构接受的证书发布机构，我们的操作系统里面已经安装了"SecureTrust CA"的证书。"SecureTrust CA"在给我们发布证书时，把Issuer,Public key,Subject,Valid from,Valid to等信息以明文的形式写到证书里面，然后用一个指纹算法计算出这些数字证书内容的一个指纹，并把指纹和指纹算法用自己的私钥进行加密，然后和证书的内容一起发布，同时"SecureTrust CA"还会给一个我们公司"ABC Company"的私钥给到我们。我们花了1000块钱买的这个证书的内容如下:')]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("×××××××××××××××证书内容开始×××××××××××××××××\n\nIssuer "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" SecureTrust "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CA")]),s._v("\n\nSubject "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ABC")]),s._v(" Company\n\nValid "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ： 某个日期\n\nValid to： 某个日期\n\nPublic Key "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" 一串很长的数字\n\n…… 其它的一些证书内容……\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("证书的指纹和计算指纹所使用的指纹算法"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("SecureTrust "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CA")]),s._v("的私钥"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RSA")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//这个就是"SecureTrust CA"对这个证书的一个数字签名，表示这个证书确实是他发布的，有什么问题他会负责(收了我们1000块，出了问题肯定要负责任的)')]),s._v("\n\n×××××××××××××××证书内容结束×××××××××××××××××\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// {} 表示RSA加密后的内容，[ | ]表示用什么密钥和算法进行加密")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("p",[s._v('我们"ABC Company"申请到这个证书后，我们把证书投入使用，我们在通信过程开始时会把证书发给对方，对方如何检查这个证书的确是合法的并且是我们"ABC Company"公司的证书呢？首先应用程序(对方通信用的程序，例如IE、OUTLook等)读取证书中的Issuer(发布机构)为"SecureTrust CA" ，然后会在操作系统中受信任的发布机构的证书中去找"SecureTrust CA"的证书，如果找不到，那说明证书的发布机构是个水货发布机构，证书可能有问题，程序会给出一个错误信息。 如果在系统中找到了"SecureTrust CA"的证书，那么应用程序就会从证书中取出"SecureTrust CA"的公钥，然后对我们"ABC Company"公司的证书里面的指纹和指纹算法用这个公钥进行解密，然后使用这个指纹算法计算"ABC Company"证书的指纹，将这个计算的指纹与放在证书中的指纹对比，如果一致，说明"ABC Company"的证书肯定没有被修改过并且证书是"SecureTrust CA" 发布的，证书中的公钥肯定是"ABC Company"的。对方然后就可以放心的使用这个公钥和我们"ABC Company"进行通信了。')]),s._v(" "),a("h3",{attrs:{id:"证书验证过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#证书验证过程"}},[s._v("#")]),s._v(" 证书验证过程")]),s._v(" "),a("p",[s._v("简单理解，数字证书的生成大概是这样的：首先，有一个权威的证书签发机构，称为CA——全球就那么几个公司比较权威。这个机构，先用RSA产生一对公私钥。私钥机构自己留着藏起来，然后用自己的私钥对自己的公钥进行签名，生成所谓的数字证书。这个过程大概是这样的：")]),s._v(" "),a("p",[s._v("先生成一个文件，文件内容大概是这样的：")]),s._v(" "),a("ul",[a("li",[s._v("公钥内容")]),s._v(" "),a("li",[s._v("签发者ID----谁签发的证书")]),s._v(" "),a("li",[s._v("Subject----也就是这个证书签发给谁。这里subject和签发者ID相同。")]),s._v(" "),a("li",[s._v("有效期")]),s._v(" "),a("li",[s._v("其他信息")])]),s._v(" "),a("p",[s._v("以上内容都是明文。我们称为内容P。然后使用hash算法，对内容P进行hash计算，得到一个hash值H。然后使用签发机构的私钥对H进行RSA加密，得到签名信息S。这个步骤称为签名，就是用私钥对某公开内容的hash值进行加密。然后将P，S连成一个文件，这个文件就是所谓的数字证书了。")]),s._v(" "),a("p",[s._v("再举个例子，12306网站签发者是SRCA，是”中铁数字认证中心”签发中心签发的。就是说，”中铁数字认证中心”签发给12306网站的数字证书，其签发者”中铁数字认证中心“是不受浏览器信任的。12306要求安装受信任的根证书添加SRCA到浏览器。SRCA将自己的数字证书嵌入到浏览器，浏览器才能找到SRCA的公钥进行验证。我们构造一个场景：")]),s._v(" "),a("p",[s._v("首先是12306网站向SRCA申请数字证书。12306网站申请数字证书的时候，需要提供一些信息，主要包括：12306的URL，12306自己产生的一对RSA公私钥对中的公钥，其他一些相关信息。")]),s._v(" "),a("p",[s._v("SRCA就用自己的私钥对12306的申请内容进行签名，加上明文信息形成一个数字证书，还给12306网站。")]),s._v(" "),a("p",[s._v("所以这个证书里，包括了：")]),s._v(" "),a("ol",[a("li",[s._v("12306网站的URL")]),s._v(" "),a("li",[s._v("12306网站使用的RSA公私钥对中的公钥。")]),s._v(" "),a("li",[s._v("证书签发者的信息。")]),s._v(" "),a("li",[s._v("证书签名。")])]),s._v(" "),a("p",[s._v("在12306网站里，于是就有一个数字证书，还有一份该数字证书中的公钥对应的私钥。数字证书的公钥和这个私钥组成公私钥对是12306自己用来加密通讯的。")]),s._v(" "),a("p",[s._v("其中数字证书证书签名由SRCA的私钥加密。而SRCA的公钥已经存在于用户浏览器中，可以用来解开数字证书证书签名得到证书指纹和指纹算法用来验证证书有无被篡改。")]),s._v(" "),a("p",[s._v("12306网站的数字证书中包括了12306中的公私钥对的公钥和URL。")]),s._v(" "),a("p",[s._v("当浏览器连接到12306，要求网站提供证书证明自己身份的时候，网站传输数字证书给浏览器,浏览器查找根数字证书用来验证该数字证书签名机构是否权威。")]),s._v(" "),a("p",[s._v("具体流程如下：")]),s._v(" "),a("ul",[a("li",[s._v("当用户在浏览器地址栏里输入了12306的网址后，经DNS解析，连接到了12306的网站的某台服务器。12306网站传输给浏览器一份数字证书CERT_12306。")]),s._v(" "),a("li",[s._v("浏览器根据数字证书内容，发现该证书签名者是SRCA。浏览器查找系统中受信任的根证书中是否有SRCA的公钥证书，找到了,说明颁发证书的机构不是水货。")]),s._v(" "),a("li",[s._v("浏览器得到SRCA公钥证书中的公钥Pub_SRCA。用Pub_SRCA解密CERT_12306中的签名部分得到证书颁发者初始计算的的内容hash值H1。")]),s._v(" "),a("li",[s._v("浏览器使用签名部分得到证书颁发者初始加密算法计算CERT_12306中的明文内容，得到HASH值H2。")]),s._v(" "),a("li",[s._v("对比H1，H2，验证数字证书有效性。如果有效，则得到明文内容中的URL，发现正在访问的URL与证书中得到的URL一致，则此次访问正常。身份认证通过。")])]),s._v(" "),a("p",[s._v("12306数字证书的验证，包含颁发机构的权威性验证和证书完整性验证，完整性验证是使用SRCA公钥证书中的公钥解密后再验证的。")]),s._v(" "),a("p",[s._v("自签发证书，是用自己证书中的公钥来验证自己的。因为自签发证书是自己的私钥签发的，所以需要使用自己的公钥验证。")]),s._v(" "),a("p",[s._v("网站的数字证书提供了网站公钥，网站自己有私钥。浏览器于是产生一个随机数R1，用公钥加密发给服务器，服务器用私钥解密后，得到这个随机数R1，后续两者就用这个R1作为对称加密的密钥来加密传输的数据。这个大约是SSL协议的简单过程。")]),s._v(" "),a("h2",{attrs:{id:"node开启https"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node开启https"}},[s._v("#")]),s._v(" node开启https")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" opn "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'opn'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" express "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" https "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" fs "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" privateKey "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" fs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("readFileSync")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'../bulid/cert/private.key'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'utf8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" certificate "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" fs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("readFileSync")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'../bulid/cert/file.crt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'utf8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" credentials "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" privateKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" cert"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" certificate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 开启 https服务")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" server "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createServer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("credentials"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// app.listen(port) // 开启http")]),s._v("\nserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("port"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 开启https")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// private.key")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BEGIN")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CERTIFICATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("REQUEST")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\nMIIBhDCB7gIBADBFMQswCQYDVQQGEwJBVTETMBEGA1UECAwKU29tZS1TdGF0ZTEh\nMB8GA1UECgwYSW50ZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMIGfMA0GCSqGSIb3DQEB\nAQUAA4GNADCBiQKBgQDXDc7hccraMODYXMKvU4Gkz3eYm9aIpUy6Rw0lKNCnUNwn\neBsbYpoK"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("R")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("c6lQup7QQba61U"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("oiTxRDa0"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Ey9Pevds1lMCjMRIHNHu"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Xi9DeJtP\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("zxcOGY9M4bjDBvmhLn9gK5TMo4OnfnF5aJ7FRsQ8uAtKB"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("MjiMxzrfMTtvnbQID\nAQABoAAwDQYJKoZIhvcNAQELBQADgYEARcFf"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("WtrzJjd7PKDtOtMfC9dz5NmmjG\nNV1YKE5r3huw8MM4"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("oNc3VEPdSGGgy5UBJmW45"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("fFDsSHcjWhfKJey0o"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("amJnjh\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RLR6R1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OPH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("u"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("h7IjYdIU5SAztT7nVFSYAbKl92CjKRKQFEWF1jcxWiS1Guny4\nru22InqywU0"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("END")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CERTIFICATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("REQUEST")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// file.crt")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BEGIN")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CERTIFICATE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\nMIICATCCAWoCCQDOoKYEMyYu6TANBgkqhkiG9w0BAQsFADBFMQswCQYDVQQGEwJB\nVTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8GA1UECgwYSW50ZXJuZXQgV2lkZ2l0\ncyBQdHkgTHRkMB4XDTIwMTExNzEwNDU1NloXDTMwMTExNTEwNDU1NlowRTELMAkG\nA1UEBhMCQVUxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoMGEludGVybmV0\nIFdpZGdpdHMgUHR5IEx0ZDCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEA1w3O\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("XHK2jDg2FzCr1OBpM93mJvWiKVMukcNJSjQp1DcJ3gbG2KaCv0fnOpULqe0EG2u\ntVP6Ik8UQ2tPxMvT3r3bNZTAozESBzR7v14vQ3ibT9s8XDhmPTOG4wwb5oS5"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("YCu\nUzKODp35xeWiexUbEPLgLSgfjI4jMc63zE7b520CAwEAATANBgkqhkiG9w0BAQsF\nAAOBgQAwPw"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("rDyKUuN"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("BBc5704UsWiqgCESsiv"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dVy49"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("by53SmfaxHY6vmf\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("dEAY3mzjcWz4ECBKZE"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("K0dMx6bc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("l8Qm77OkdRdLAuKEpIhtH"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("EgOp0gzBkGyRy\nnPL8keQNhP2s0b2QoWYC8bWr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("532")]),s._v("nciC6N6YntNNpsK1cuDDRg"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("END")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CERTIFICATE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br")])]),a("h2",{attrs:{id:"angular开启https"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#angular开启https"}},[s._v("#")]),s._v(" angular开启https")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在 angular.json配置节点 projects 下的具体项目下architect的serve下：")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"serve"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"builder"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@angular-devkit/build-angular:dev-server"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"options"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"disableHostCheck"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 不显示回环地址警告")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"proxyConfig"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"proxyConfig.json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//代理配置文件位置")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"browserTarget"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ky-scholar-web:build"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"port"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4500")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 指定端口")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"open"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 自动打开浏览器")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"host"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.0.0.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 指定回环地址")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ssl"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 开启https")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sslKey"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./private.key"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 私钥地址")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sslCert"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./file.crt"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 证书地址")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"configurations"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"production"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n              "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"browserTarget"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ky-scholar-web:build:production"')]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("h2",{attrs:{id:"react开启https"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#react开启https"}},[s._v("#")]),s._v(" react开启https")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"start"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cross-env HTTPS=true PORT=1234 react-scripts start"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"vue开启https"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue开启https"}},[s._v("#")]),s._v(" vue开启https")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// vue.config.js")]),s._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  devServer"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    https"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h2",{attrs:{id:"nginx开启https"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx开启https"}},[s._v("#")]),s._v(" nginx开启https")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启https")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ssl                on; 把ssl on；这行去掉，ssl写在443端口后面。这样http和https的链接都可以用")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ssl_certificate      D:/nginx-1.10.3/nginx-https/server.crt;")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ssl_certificate_key  D:/nginx-1.10.3/nginx-https/server.key;")]),s._v("\nssl_certificate      D:/nginx-1.10.3/conf/xccjh.top/Nginx/1_xccjh.top_bundle.crt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nssl_certificate_key  D:/nginx-1.10.3/conf/xccjh.top/Nginx/2_xccjh.top.key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nssl_session_timeout  5m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 客户端可以重用会话参数的时间（超时后不可使用）")]),s._v("\nssl_protocols  TLSv1.2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 协议配置：[SSLv2] [SSLv3] [TLSv1] [TLSv1.1] [TLSv1.2] [TLSv1.3]; Default: TLSv1  TLSv1.1 TLSv1.2;")]),s._v("\nssl_ciphers  ALL:"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("ADH:"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 加密套件配置 Default: ssl_ciphers HIGH:!aNULL:!MD5;")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 实际测试中发现，虽然两个配置都在server 块内，ssl_protocols 却属于全局配置，而 ssl_ciphers 却针对特定的虚拟主机起作用。")]),s._v("\nssl_prefer_server_ciphers   on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否由服务器决定采用哪种加密算法，")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果ssl协议支持tlsv1 tls1.1这种老协议，设置为 on ，并配合ssl_ciphers使用，")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果ssl协议只支持tlsv1.2 tlsv1.3新协议，设置为 off （nginx默认为off），因为新协议不再采纳此参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# keepalive_timeout 100")]),s._v("\nssl_session_cache shared:SSL:10m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rewrite ^(.*) https://$server_name$1 permanent; # 强制跳转https,二选一即可")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# return 301    https://$host$request_uri; # 强制跳转https,二选一即可")]),s._v("\n// 1_xccjh.top_bundle.crt\n-----BEGIN CERTIFICATE-----\nMIIFoTCCBImgAwIBAgIQBevBEwh6UoKA4XBWSNMLzjANBgkqhkiG9w0BAQsFADBy\nMQswCQYDVQQGEwJDTjElMCMGA1UEChMcVHJ1c3RBc2lhIFRlY2hub2xvZ2llcywg\nSW5jLjEdMBsGA1UECxMURG9tYWluIFZhbGlkYXRlZCBTU0wxHTAbBgNVBAMTFFRy\ndXN0QXNpYSBUTFMgUlNBIENBMB4XDTIwMTEyMTAwMDAwMFoXDTIxMTEyMDIzNTk1\nOVowFDESMBAGA1UEAxMJeGNjamgudG9wMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8A\nMIIBCgKCAQEAuTQSQ/7GxG5ngfqYYG/zmQL7dEo+9CzWpGObSA0J7N4kuyDtrYWM\nvnmukqEO+P9+Tf5kOLZbwmIGQU+9aaFdQKvk1jWHPQLglE+CngeEGP2GOh1BBZbp\nb8//De60lGhZXmjiH6uethtnDPlsspdLwg8etr7VnltUb4cQ7hKWxJmABnTAgXrk\nijTS26qIU9ekJkDFGHBUHtbTGsTGXdLyDvEllMwnqPp6mtj1sclh3285TUbOCNSY\nf/TFYC8JnDrPwXRz42VtlZWcM5WKQ3DYH6Jke+ed5dm48SfNzKuVnONLQtwZo24J\nEzEmmyg+vXPO6Dm98f1miHEmwWvyT7P04QIDAQABo4ICjzCCAoswHwYDVR0jBBgw\nFoAUf9OZ86BHDjEAVlYijrfMnt3KAYowHQYDVR0OBBYEFMCVnLliSCj+sXQ8aCuo\nvLkGsWLOMCMGA1UdEQQcMBqCCXhjY2poLnRvcIINd3d3LnhjY2poLnRvcDAOBgNV\nHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMEwGA1Ud\nIARFMEMwNwYJYIZIAYb9bAECMCowKAYIKwYBBQUHAgEWHGh0dHBzOi8vd3d3LmRp\nZ2ljZXJ0LmNvbS9DUFMwCAYGZ4EMAQIBMIGSBggrBgEFBQcBAQSBhTCBgjA0Bggr\nBgEFBQcwAYYoaHR0cDovL3N0YXR1c2UuZGlnaXRhbGNlcnR2YWxpZGF0aW9uLmNv\nbTBKBggrBgEFBQcwAoY+aHR0cDovL2NhY2VydHMuZGlnaXRhbGNlcnR2YWxpZGF0\naW9uLmNvbS9UcnVzdEFzaWFUTFNSU0FDQS5jcnQwCQYDVR0TBAIwADCCAQUGCisG\nAQQB1nkCBAIEgfYEgfMA8QB2APZclC/RdzAiFFQYCDCUVo7jTRMZM7/fDC8gC8xO\n8WTjAAABdepQu18AAAQDAEcwRQIhANNeunTG44U6sRFayZchJV7FRw22a/Cw2/7G\nPt43GHfGAiAVR3Hew/cP7HIG1STGMdyM6v6dxYDCHU5D4ysvS3ThIgB3AFzcQ5L+\n5qtFRLFemtRW5hA3+9X6R9yhc5SyXub2xw7KAAABdepQu78AAAQDAEgwRgIhANpL\n+4E39odfDtb/YWq6QiPFOeK+HeOTuZqNrqcWLB7pAiEA/B6oWmFKU8u4PW4NFUCc\n4VhHITe2l3iMorPYWt+4diYwDQYJKoZIhvcNAQELBQADggEBAAR8fsirzwTWXQru\nyxyQfFkFjqG9f8Rzt/sa76JeS8NNe6kJRQCITBT0ahq9JtQ3YXr4/wogfjchwr8Y\nS1WlqgJBsUuYtvYs6EYAf+sOxAxfqN0NqBomXX1sANKBik7SIDeF0D7vjN9gsiFf\nO/11F6XKCrisj4bvztp/bZVtO0W1IZTpEiFx4Tm4vPh3bsNa7NdPWWBLrknqvd56\nLE9haafs0D7BVdzxItat4VjnB4vCw+jJoljNYJOeJR06cdOhfYFManriF5xyhk01\nL/JkhnHp55d5whCV3SitGidb5xYeGoXFi9hV01bFQg6dTyxJlpeYh2M5LMnUWnf1\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gZA8hEs")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\nMIIErjCCA5agAwIBAgIQBYAmfwbylVM0jhwYWl7uLjANBgkqhkiG9w0BAQsFADBh\nMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3\nd3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBD\nQTAeFw0xNzEyMDgxMjI4MjZaFw0yNzEyMDgxMjI4MjZaMHIxCzAJBgNVBAYTAkNO\nMSUwIwYDVQQKExxUcnVzdEFzaWEgVGVjaG5vbG9naWVzLCBJbmMuMR0wGwYDVQQL\nExREb21haW4gVmFsaWRhdGVkIFNTTDEdMBsGA1UEAxMUVHJ1c3RBc2lhIFRMUyBS\nU0EgQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCgWa9X+ph+wAm8\nYh1Fk1MjKbQ5QwBOOKVaZR/OfCh+F6f93u7vZHGcUU/lvVGgUQnbzJhR1UV2epJa\ne+m7cxnXIKdD0/VS9btAgwJszGFvwoqXeaCqFoP71wPmXjjUwLT70+qvX4hdyYfO\nJcjeTz5QKtg8zQwxaK9x4JT9CoOmoVdVhEBAiD3DwR5fFgOHDwwGxdJWVBvktnoA\nzjdTLXDdbSVC5jZ0u8oq9BiTDv7jAlsB5F8aZgvSZDOQeFrwaOTbKWSEInEhnchK\nZTD1dz6aBlk1xGEI5PZWAnVAba/ofH33ktymaTDsE6xRDnW97pDkimCRak6CEbfe\n3dXw6OV5AgMBAAGjggFPMIIBSzAdBgNVHQ4EFgQUf9OZ86BHDjEAVlYijrfMnt3K\nAYowHwYDVR0jBBgwFoAUA95QNVbRTLtm8KPiGxvDl7I90VUwDgYDVR0PAQH/BAQD\nAgGGMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjASBgNVHRMBAf8ECDAG\nAQH/AgEAMDQGCCsGAQUFBwEBBCgwJjAkBggrBgEFBQcwAYYYaHR0cDovL29jc3Au\nZGlnaWNlcnQuY29tMEIGA1UdHwQ7MDkwN6A1oDOGMWh0dHA6Ly9jcmwzLmRpZ2lj\nZXJ0LmNvbS9EaWdpQ2VydEdsb2JhbFJvb3RDQS5jcmwwTAYDVR0gBEUwQzA3Bglg\nhkgBhv1sAQIwKjAoBggrBgEFBQcCARYcaHR0cHM6Ly93d3cuZGlnaWNlcnQuY29t\nL0NQUzAIBgZngQwBAgEwDQYJKoZIhvcNAQELBQADggEBAK3dVOj5dlv4MzK2i233\nlDYvyJ3slFY2X2HKTYGte8nbK6i5/fsDImMYihAkp6VaNY/en8WZ5qcrQPVLuJrJ\nDSXT04NnMeZOQDUoj/NHAmdfCBB/h1bZ5OGK6Sf1h5Yx/5wR4f3TUoPgGlnU7EuP\nISLNdMRiDrXntcImDAiRvkh5GJuH4YCVE6XEntqaNIgGkRwxKSgnU3Id3iuFbW9F\nUQ9Qqtb1GX91AJ7i4153TikGgYCdwYkBURD8gSVe8OAco6IfZOYt/TEwii1Ivi1C\nqnuUlWpsF1LdQNIdfbW3TSe0BhQa7ifbVIfvPWHYOu3rkg1ZeMo6XRU9B4n5VyJY\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RmE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n-----END CERTIFICATE-----\n// 2_xccjh.top.key\n-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEAuTQSQ/7GxG5ngfqYYG/zmQL7dEo+9CzWpGObSA0J7N4kuyDt\nrYWMvnmukqEO+P9+Tf5kOLZbwmIGQU+9aaFdQKvk1jWHPQLglE+CngeEGP2GOh1B\nBZbpb8//De60lGhZXmjiH6uethtnDPlsspdLwg8etr7VnltUb4cQ7hKWxJmABnTA\ngXrkijTS26qIU9ekJkDFGHBUHtbTGsTGXdLyDvEllMwnqPp6mtj1sclh3285TUbO\nCNSYf/TFYC8JnDrPwXRz42VtlZWcM5WKQ3DYH6Jke+ed5dm48SfNzKuVnONLQtwZ\no24JEzEmmyg+vXPO6Dm98f1miHEmwWvyT7P04QIDAQABAoIBAAGETmj9p3GY6OKc\n444YpKFab6ZIbGMSEfD3OuCYcL4epKTetGuhJiGyO+6KAKYj64wmevom7jH1nREA\nXvAESQ/8SGvDtPeYNDAqxYpXS+rreqOztSJfVcqbZL6ft51mjGLUT5PMU0ixCUNH\nMK92w0FT39/FyNia7WJbdBVLFC6Igrkv5VrfrzpffuWGUpbRxsagHeF8hcmuyTPQ\nDunr7+WqniUgovHYFzrO+f5DIigk1Ubn7iyyXvtHyxGvNp7CYBiE6MTCZG0OtCiK\nRqD9ME9C5oqsMyNHwGR8euR2Rzwec+m2kip5xzJNb9zT+tOzuFX6GxfLMOTYboOk\n38nd2JECgYEA8DUp4c8v37n3UOp6vG3l2jRZAfOXkexv+yyBgji726RVzvkOTAAf\nK3QKe3d4Pj8YBtM4yEUkaWjpwXfyZomhDAMhsaAix1uzGrg3AcjXTMJltKE5u6p9\n6sExI27bSN+uwtBtqDaapKg8ckORDsEqmEfXja6wZOfmqRM1PkjYrokCgYEAxWEn\nUUXjeSkVb1TiAA5PdobDZGvWmcwP2xpgA2jEqZ+o5uLpGzjB/vQm7Q68QHfso0eE\n3M5HSlKmNpfbMe48WkUOxraarSpxAmEMqBHCTMn/2ejfVn8jNH9vgnMx3Dqr34eL\nPJTL6uCykaMkaIkzYAbV0HHn7IFD2dBeUmB1PZkCgYBrBGSKdBIyLNogtLbF6Hh1\nRMk681nd62bgkq2IZNpdOtP4CEH0XkGEzIg3Bb0OjnGX6NbtctCMHe+3AEeAo2Sa\nw3JpfpzAEPy0tMndA6vYSOujFAlysLy0sCnCTYto5i8oIFAal2lCXqm/hpbD6g+e\nFLPWLbPs4NyFC0e3XiEbcQKBgQCJMXNzwWFQiSb2AIkqQsgm+Zr8xRwgQL/Qqq+M\nDxmLUYfEHHqsyjHFtg0Mf06IfRMFlyOZmuPgnDwd/EWGmjJnCFMx+iDfNn3ginaS\np+1nFIz6+Sur4qkkx2NJyCojCsEGmR9F16M5uj9EjaIz6xHDsFyUC2iKcnsn/fZh\nydwUGQKBgHCA0PUz9MW8FWP6WVYHlGgDv89cmgNuGMTSrlyNjJsuU52XLXKJIqQJ\nQrnP9M6+7HaRnnmwsoh5EgW5/dYXxtxBBfYLXdlC8Yz6CqveUGWpBYGcynw6Lg5J\n+q1J2Oimm9Ae/eiPV4XKMaiNUyk+np0KrHdid3dW026m1FrVBQ5C\n-----END RSA PRIVATE KEY-----\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br")])]),a("p",[s._v("有关nginx请查看这里"),a("RouterLink",{attrs:{to:"/bake/实用片段备忘.html#nginx配置全解析"}},[s._v("配置全解析")])],1),s._v(" "),a("h2",{attrs:{id:"oss开启https"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oss开启https"}},[s._v("#")]),s._v(" oss开启https")]),s._v(" "),a("p",[s._v("如果你的网站使用oss托管，可以先去阿里云生申请免费的数字证书，然后再oss管理控制传输管理的域名管理上传该数字证书即可。")]),s._v(" "),a("p",[a("img",{attrs:{src:"/vuebloger/img/post/Snipaste_2021-04-12_11-52-58.png",alt:""}})]),s._v(" "),a("p",[s._v("另外大家对以上各种情况开启history的情况感兴趣，可以查看我的另外一篇文章，"),a("RouterLink",{attrs:{to:"/technology/开启history模式全解.html"}},[s._v("开启history模式全解")])],1)])}),[],!1,null,"14d0f93b",null);t.default=r.exports}}]);